   1              		.cpu cortex-m4
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"TMC4671.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.align	1
  16              		.global	tmc4671_readInt
  17              		.arch armv7e-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	tmc4671_readInt:
  24              	.LVL0:
  25              	.LFB0:
  26              		.file 1 "TMC-API/tmc/ic/TMC4671/TMC4671.c"
   1:TMC-API/tmc/ic/TMC4671/TMC4671.c **** /*
   2:TMC-API/tmc/ic/TMC4671/TMC4671.c ****  * TMC4671.c
   3:TMC-API/tmc/ic/TMC4671/TMC4671.c ****  *
   4:TMC-API/tmc/ic/TMC4671/TMC4671.c ****  *  Created on: 30.09.2016
   5:TMC-API/tmc/ic/TMC4671/TMC4671.c ****  *      Author: ed
   6:TMC-API/tmc/ic/TMC4671/TMC4671.c ****  */
   7:TMC-API/tmc/ic/TMC4671/TMC4671.c **** #include "TMC4671.h"
   8:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
   9:TMC-API/tmc/ic/TMC4671/TMC4671.c **** #define STATE_NOTHING_TO_DO    0
  10:TMC-API/tmc/ic/TMC4671/TMC4671.c **** #define STATE_START_INIT       1
  11:TMC-API/tmc/ic/TMC4671/TMC4671.c **** #define STATE_WAIT_INIT_TIME   2
  12:TMC-API/tmc/ic/TMC4671/TMC4671.c **** #define STATE_ESTIMATE_OFFSET  3
  13:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  14:TMC-API/tmc/ic/TMC4671/TMC4671.c **** // => SPI wrapper
  15:TMC-API/tmc/ic/TMC4671/TMC4671.c **** extern uint8_t tmc4671_readwriteByte(uint8_t motor, uint8_t data, uint8_t lastTransfer);
  16:TMC-API/tmc/ic/TMC4671/TMC4671.c **** // <= SPI wrapper
  17:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  18:TMC-API/tmc/ic/TMC4671/TMC4671.c **** // spi access
  19:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_readInt(uint8_t motor, uint8_t address)
  20:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
  27              		.loc 1 20 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  21:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// clear write bit
  22:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	address &= 0x7F;
  31              		.loc 1 22 2 view .LVU1
  23:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  24:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// write address
  25:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_readwriteByte(motor, address, false);
  32              		.loc 1 25 2 view .LVU2
  20:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// clear write bit
  33              		.loc 1 20 1 is_stmt 0 view .LVU3
  34 0000 38B5     		push	{r3, r4, r5, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 3, -16
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41              		.loc 1 25 2 view .LVU4
  42 0002 0022     		movs	r2, #0
  43 0004 01F07F01 		and	r1, r1, #127
  44              	.LVL1:
  20:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// clear write bit
  45              		.loc 1 20 1 view .LVU5
  46 0008 0446     		mov	r4, r0
  47              		.loc 1 25 2 view .LVU6
  48 000a FFF7FEFF 		bl	tmc4671_readwriteByte
  49              	.LVL2:
  26:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  27:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// read data
  28:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t value = tmc4671_readwriteByte(motor, 0, false);
  50              		.loc 1 28 2 is_stmt 1 view .LVU7
  51              		.loc 1 28 18 is_stmt 0 view .LVU8
  52 000e 0022     		movs	r2, #0
  53 0010 1146     		mov	r1, r2
  54 0012 2046     		mov	r0, r4
  55 0014 FFF7FEFF 		bl	tmc4671_readwriteByte
  56              	.LVL3:
  29:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value <<= 8;
  57              		.loc 1 29 2 is_stmt 1 view .LVU9
  30:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value |= tmc4671_readwriteByte(motor, 0, false);
  58              		.loc 1 30 11 is_stmt 0 view .LVU10
  59 0018 0022     		movs	r2, #0
  60 001a 1146     		mov	r1, r2
  29:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value <<= 8;
  61              		.loc 1 29 8 view .LVU11
  62 001c 0502     		lsls	r5, r0, #8
  63              	.LVL4:
  64              		.loc 1 30 2 is_stmt 1 view .LVU12
  65              		.loc 1 30 11 is_stmt 0 view .LVU13
  66 001e 2046     		mov	r0, r4
  67 0020 FFF7FEFF 		bl	tmc4671_readwriteByte
  68              	.LVL5:
  31:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value <<= 8;
  32:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value |= tmc4671_readwriteByte(motor, 0, false);
  69              		.loc 1 32 11 view .LVU14
  70 0024 0022     		movs	r2, #0
  71 0026 1146     		mov	r1, r2
  30:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value |= tmc4671_readwriteByte(motor, 0, false);
  72              		.loc 1 30 8 view .LVU15
  73 0028 0543     		orrs	r5, r5, r0
  74              	.LVL6:
  31:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value <<= 8;
  75              		.loc 1 31 2 is_stmt 1 view .LVU16
  76              		.loc 1 32 11 is_stmt 0 view .LVU17
  77 002a 2046     		mov	r0, r4
  78 002c FFF7FEFF 		bl	tmc4671_readwriteByte
  79              	.LVL7:
  31:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value <<= 8;
  80              		.loc 1 31 8 view .LVU18
  81 0030 2D02     		lsls	r5, r5, #8
  82              	.LVL8:
  83              		.loc 1 32 2 is_stmt 1 view .LVU19
  84              		.loc 1 32 8 is_stmt 0 view .LVU20
  85 0032 0543     		orrs	r5, r5, r0
  86              	.LVL9:
  33:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value <<= 8;
  87              		.loc 1 33 2 is_stmt 1 view .LVU21
  34:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value |= tmc4671_readwriteByte(motor, 0, true);
  88              		.loc 1 34 11 is_stmt 0 view .LVU22
  89 0034 0122     		movs	r2, #1
  90 0036 0021     		movs	r1, #0
  91 0038 2046     		mov	r0, r4
  92 003a FFF7FEFF 		bl	tmc4671_readwriteByte
  93              	.LVL10:
  33:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	value <<= 8;
  94              		.loc 1 33 8 view .LVU23
  95 003e 2D02     		lsls	r5, r5, #8
  96              	.LVL11:
  97              		.loc 1 34 2 is_stmt 1 view .LVU24
  35:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  36:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return value;
  98              		.loc 1 36 2 view .LVU25
  37:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
  99              		.loc 1 37 1 is_stmt 0 view .LVU26
 100 0040 2843     		orrs	r0, r0, r5
 101              	.LVL12:
 102              		.loc 1 37 1 view .LVU27
 103 0042 38BD     		pop	{r3, r4, r5, pc}
 104              		.cfi_endproc
 105              	.LFE0:
 107              		.align	1
 108              		.global	tmc4671_writeInt
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 112              		.fpu softvfp
 114              	tmc4671_writeInt:
 115              	.LVL13:
 116              	.LFB1:
  38:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  39:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_writeInt(uint8_t motor, uint8_t address, int32_t value)
  40:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 117              		.loc 1 40 1 is_stmt 1 view -0
 118              		.cfi_startproc
 119              		@ args = 0, pretend = 0, frame = 0
 120              		@ frame_needed = 0, uses_anonymous_args = 0
  41:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// write address
  42:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_readwriteByte(motor, address|0x80, false);
 121              		.loc 1 42 2 view .LVU29
  40:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// write address
 122              		.loc 1 40 1 is_stmt 0 view .LVU30
 123 0044 38B5     		push	{r3, r4, r5, lr}
 124              	.LCFI1:
 125              		.cfi_def_cfa_offset 16
 126              		.cfi_offset 3, -16
 127              		.cfi_offset 4, -12
 128              		.cfi_offset 5, -8
 129              		.cfi_offset 14, -4
 130              		.loc 1 42 2 view .LVU31
 131 0046 41F08001 		orr	r1, r1, #128
 132              	.LVL14:
  40:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// write address
 133              		.loc 1 40 1 view .LVU32
 134 004a 0446     		mov	r4, r0
 135 004c 1546     		mov	r5, r2
 136              		.loc 1 42 2 view .LVU33
 137 004e 0022     		movs	r2, #0
 138              	.LVL15:
 139              		.loc 1 42 2 view .LVU34
 140 0050 FFF7FEFF 		bl	tmc4671_readwriteByte
 141              	.LVL16:
  43:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  44:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// write value
  45:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_readwriteByte(motor, 0xFF & (value>>24), false);
 142              		.loc 1 45 2 is_stmt 1 view .LVU35
 143 0054 290E     		lsrs	r1, r5, #24
 144 0056 0022     		movs	r2, #0
 145 0058 2046     		mov	r0, r4
 146 005a FFF7FEFF 		bl	tmc4671_readwriteByte
 147              	.LVL17:
  46:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_readwriteByte(motor, 0xFF & (value>>16), false);
 148              		.loc 1 46 2 view .LVU36
 149 005e C5F30741 		ubfx	r1, r5, #16, #8
 150 0062 0022     		movs	r2, #0
 151 0064 2046     		mov	r0, r4
 152 0066 FFF7FEFF 		bl	tmc4671_readwriteByte
 153              	.LVL18:
  47:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_readwriteByte(motor, 0xFF & (value>>8), false);
 154              		.loc 1 47 2 view .LVU37
 155 006a C5F30721 		ubfx	r1, r5, #8, #8
 156 006e 0022     		movs	r2, #0
 157 0070 2046     		mov	r0, r4
 158 0072 FFF7FEFF 		bl	tmc4671_readwriteByte
 159              	.LVL19:
  48:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_readwriteByte(motor, 0xFF & (value>>0), true);
 160              		.loc 1 48 2 view .LVU38
 161 0076 E9B2     		uxtb	r1, r5
 162 0078 2046     		mov	r0, r4
 163 007a 0122     		movs	r2, #1
  49:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 164              		.loc 1 49 1 is_stmt 0 view .LVU39
 165 007c BDE83840 		pop	{r3, r4, r5, lr}
 166              	.LCFI2:
 167              		.cfi_restore 14
 168              		.cfi_restore 5
 169              		.cfi_restore 4
 170              		.cfi_restore 3
 171              		.cfi_def_cfa_offset 0
 172              	.LVL20:
  48:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_readwriteByte(motor, 0xFF & (value>>0), true);
 173              		.loc 1 48 2 view .LVU40
 174 0080 FFF7FEBF 		b	tmc4671_readwriteByte
 175              	.LVL21:
 176              		.cfi_endproc
 177              	.LFE1:
 179              		.align	1
 180              		.global	tmc4671_readRegister16BitValue
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 184              		.fpu softvfp
 186              	tmc4671_readRegister16BitValue:
 187              	.LVL22:
 188              	.LFB2:
  50:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** uint16_t tmc4671_readRegister16BitValue(uint8_t motor, uint8_t address, uint8_t channel)
  52:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 189              		.loc 1 52 1 is_stmt 1 view -0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 0
 192              		@ frame_needed = 0, uses_anonymous_args = 0
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t registerValue = tmc4671_readInt(motor, address);
 193              		.loc 1 53 2 view .LVU42
  52:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t registerValue = tmc4671_readInt(motor, address);
 194              		.loc 1 52 1 is_stmt 0 view .LVU43
 195 0084 10B5     		push	{r4, lr}
 196              	.LCFI3:
 197              		.cfi_def_cfa_offset 8
 198              		.cfi_offset 4, -8
 199              		.cfi_offset 14, -4
  52:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t registerValue = tmc4671_readInt(motor, address);
 200              		.loc 1 52 1 view .LVU44
 201 0086 1446     		mov	r4, r2
 202              		.loc 1 53 26 view .LVU45
 203 0088 FFF7FEFF 		bl	tmc4671_readInt
 204              	.LVL23:
  54:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  55:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// read one channel
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	switch(channel)
 205              		.loc 1 56 2 is_stmt 1 view .LVU46
 206 008c 1CB1     		cbz	r4, .L4
 207 008e 012C     		cmp	r4, #1
 208 0090 03D0     		beq	.L5
 209 0092 0020     		movs	r0, #0
 210              	.LVL24:
 211              	.L6:
  57:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
  58:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case BIT_0_TO_15:
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		return (registerValue & 0xFFFF);
  60:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
  61:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case BIT_16_TO_31:
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		return ((registerValue >> 16) & 0xFFFF);
  63:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
  64:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
  65:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return 0;
  66:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 212              		.loc 1 66 1 is_stmt 0 view .LVU47
 213 0094 10BD     		pop	{r4, pc}
 214              	.LVL25:
 215              	.L4:
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 216              		.loc 1 59 3 is_stmt 1 view .LVU48
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 217              		.loc 1 59 25 is_stmt 0 view .LVU49
 218 0096 80B2     		uxth	r0, r0
 219              	.LVL26:
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 220              		.loc 1 59 25 view .LVU50
 221 0098 FCE7     		b	.L6
 222              	.LVL27:
 223              	.L5:
  60:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case BIT_16_TO_31:
 224              		.loc 1 60 3 is_stmt 1 view .LVU51
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 225              		.loc 1 62 3 view .LVU52
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 226              		.loc 1 62 33 is_stmt 0 view .LVU53
 227 009a 000C     		lsrs	r0, r0, #16
 228              	.LVL28:
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 229              		.loc 1 62 33 view .LVU54
 230 009c FAE7     		b	.L6
 231              		.cfi_endproc
 232              	.LFE2:
 234              		.align	1
 235              		.global	tmc4671_writeRegister16BitValue
 236              		.syntax unified
 237              		.thumb
 238              		.thumb_func
 239              		.fpu softvfp
 241              	tmc4671_writeRegister16BitValue:
 242              	.LVL29:
 243              	.LFB3:
  67:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  68:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_writeRegister16BitValue(uint8_t motor, uint8_t address, uint8_t channel, uint16_t valu
  69:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 244              		.loc 1 69 1 is_stmt 1 view -0
 245              		.cfi_startproc
 246              		@ args = 0, pretend = 0, frame = 0
 247              		@ frame_needed = 0, uses_anonymous_args = 0
  70:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// read actual register content
  71:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t registerValue = tmc4671_readInt(motor, address);
 248              		.loc 1 71 2 view .LVU56
  69:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// read actual register content
 249              		.loc 1 69 1 is_stmt 0 view .LVU57
 250 009e F8B5     		push	{r3, r4, r5, r6, r7, lr}
 251              	.LCFI4:
 252              		.cfi_def_cfa_offset 24
 253              		.cfi_offset 3, -24
 254              		.cfi_offset 4, -20
 255              		.cfi_offset 5, -16
 256              		.cfi_offset 6, -12
 257              		.cfi_offset 7, -8
 258              		.cfi_offset 14, -4
  69:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// read actual register content
 259              		.loc 1 69 1 view .LVU58
 260 00a0 1546     		mov	r5, r2
 261 00a2 0646     		mov	r6, r0
 262 00a4 0F46     		mov	r7, r1
 263 00a6 1C46     		mov	r4, r3
 264              		.loc 1 71 26 view .LVU59
 265 00a8 FFF7FEFF 		bl	tmc4671_readInt
 266              	.LVL30:
 267              		.loc 1 71 26 view .LVU60
 268 00ac 0246     		mov	r2, r0
 269              	.LVL31:
  72:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  73:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// update one channel
  74:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	switch(channel)
 270              		.loc 1 74 2 is_stmt 1 view .LVU61
 271 00ae 3DB1     		cbz	r5, .L8
 272 00b0 012D     		cmp	r5, #1
 273 00b2 08D0     		beq	.L9
 274              	.LVL32:
 275              	.L10:
  75:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
  76:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case BIT_0_TO_15:
  77:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		registerValue &= 0xFFFF0000;
  78:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		registerValue |= value;
  79:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
  80:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case BIT_16_TO_31:
  81:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		registerValue &= 0x0000FFFF;
  82:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		registerValue |= (value << 16);
  83:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
  84:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
  85:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// write the register
  86:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, address, registerValue);
 276              		.loc 1 86 2 view .LVU62
 277 00b4 3946     		mov	r1, r7
 278 00b6 3046     		mov	r0, r6
  87:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 279              		.loc 1 87 1 is_stmt 0 view .LVU63
 280 00b8 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 281              	.LCFI5:
 282              		.cfi_remember_state
 283              		.cfi_restore 14
 284              		.cfi_restore 7
 285              		.cfi_restore 6
 286              		.cfi_restore 5
 287              		.cfi_restore 4
 288              		.cfi_restore 3
 289              		.cfi_def_cfa_offset 0
  86:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 290              		.loc 1 86 2 view .LVU64
 291 00bc FFF7FEBF 		b	tmc4671_writeInt
 292              	.LVL33:
 293              	.L8:
 294              	.LCFI6:
 295              		.cfi_restore_state
  77:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		registerValue |= value;
 296              		.loc 1 77 3 is_stmt 1 view .LVU65
  78:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 297              		.loc 1 78 3 view .LVU66
  78:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 298              		.loc 1 78 17 is_stmt 0 view .LVU67
 299 00c0 64F30F02 		bfi	r2, r4, #0, #16
 300              	.LVL34:
  79:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case BIT_16_TO_31:
 301              		.loc 1 79 3 is_stmt 1 view .LVU68
 302 00c4 F6E7     		b	.L10
 303              	.LVL35:
 304              	.L9:
  81:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		registerValue |= (value << 16);
 305              		.loc 1 81 3 view .LVU69
  82:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 306              		.loc 1 82 3 view .LVU70
  82:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 307              		.loc 1 82 17 is_stmt 0 view .LVU71
 308 00c6 64F31F42 		bfi	r2, r4, #16, #16
 309              	.LVL36:
  83:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
 310              		.loc 1 83 3 is_stmt 1 view .LVU72
 311 00ca F3E7     		b	.L10
 312              		.cfi_endproc
 313              	.LFE3:
 315              		.align	1
 316              		.global	tmc4671_switchToMotionMode
 317              		.syntax unified
 318              		.thumb
 319              		.thumb_func
 320              		.fpu softvfp
 322              	tmc4671_switchToMotionMode:
 323              	.LVL37:
 324              	.LFB4:
  88:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  89:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_switchToMotionMode(uint8_t motor, uint8_t mode)
  90:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 325              		.loc 1 90 1 view -0
 326              		.cfi_startproc
 327              		@ args = 0, pretend = 0, frame = 0
 328              		@ frame_needed = 0, uses_anonymous_args = 0
  91:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// switch motion mode
  92:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	uint32_t actualModeRegister = tmc4671_readInt(motor, TMC4671_MODE_RAMP_MODE_MOTION);
 329              		.loc 1 92 2 view .LVU74
  90:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// switch motion mode
 330              		.loc 1 90 1 is_stmt 0 view .LVU75
 331 00cc 38B5     		push	{r3, r4, r5, lr}
 332              	.LCFI7:
 333              		.cfi_def_cfa_offset 16
 334              		.cfi_offset 3, -16
 335              		.cfi_offset 4, -12
 336              		.cfi_offset 5, -8
 337              		.cfi_offset 14, -4
  90:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// switch motion mode
 338              		.loc 1 90 1 view .LVU76
 339 00ce 0D46     		mov	r5, r1
 340              		.loc 1 92 32 view .LVU77
 341 00d0 6321     		movs	r1, #99
 342              	.LVL38:
  90:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// switch motion mode
 343              		.loc 1 90 1 view .LVU78
 344 00d2 0446     		mov	r4, r0
 345              		.loc 1 92 32 view .LVU79
 346 00d4 FFF7FEFF 		bl	tmc4671_readInt
 347              	.LVL39:
  93:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	actualModeRegister &= 0xFFFFFF00;
 348              		.loc 1 93 2 is_stmt 1 view .LVU80
 349              		.loc 1 93 21 is_stmt 0 view .LVU81
 350 00d8 20F0FF00 		bic	r0, r0, #255
 351              	.LVL40:
  94:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	actualModeRegister |= mode;
 352              		.loc 1 94 2 is_stmt 1 view .LVU82
  95:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_MODE_RAMP_MODE_MOTION, actualModeRegister);
 353              		.loc 1 95 2 view .LVU83
 354 00dc 45EA0002 		orr	r2, r5, r0
 355 00e0 6321     		movs	r1, #99
 356 00e2 2046     		mov	r0, r4
 357              	.LVL41:
  96:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 358              		.loc 1 96 1 is_stmt 0 view .LVU84
 359 00e4 BDE83840 		pop	{r3, r4, r5, lr}
 360              	.LCFI8:
 361              		.cfi_restore 14
 362              		.cfi_restore 5
 363              		.cfi_restore 4
 364              		.cfi_restore 3
 365              		.cfi_def_cfa_offset 0
  95:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_MODE_RAMP_MODE_MOTION, actualModeRegister);
 366              		.loc 1 95 2 view .LVU85
 367 00e8 FFF7FEBF 		b	tmc4671_writeInt
 368              	.LVL42:
 369              		.cfi_endproc
 370              	.LFE4:
 372              		.align	1
 373              		.global	tmc4671_setTargetTorque_raw
 374              		.syntax unified
 375              		.thumb
 376              		.thumb_func
 377              		.fpu softvfp
 379              	tmc4671_setTargetTorque_raw:
 380              	.LVL43:
 381              	.LFB5:
  97:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
  98:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setTargetTorque_raw(uint8_t motor, int32_t targetTorque)
  99:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 382              		.loc 1 99 1 is_stmt 1 view -0
 383              		.cfi_startproc
 384              		@ args = 0, pretend = 0, frame = 0
 385              		@ frame_needed = 0, uses_anonymous_args = 0
 100:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_TORQUE);
 386              		.loc 1 100 2 view .LVU87
  99:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_TORQUE);
 387              		.loc 1 99 1 is_stmt 0 view .LVU88
 388 00ec 70B5     		push	{r4, r5, r6, lr}
 389              	.LCFI9:
 390              		.cfi_def_cfa_offset 16
 391              		.cfi_offset 4, -16
 392              		.cfi_offset 5, -12
 393              		.cfi_offset 6, -8
 394              		.cfi_offset 14, -4
  99:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_TORQUE);
 395              		.loc 1 99 1 view .LVU89
 396 00ee 0446     		mov	r4, r0
 397 00f0 0D46     		mov	r5, r1
 398              		.loc 1 100 2 view .LVU90
 399 00f2 0121     		movs	r1, #1
 400              	.LVL44:
 401              		.loc 1 100 2 view .LVU91
 402 00f4 FFF7FEFF 		bl	tmc4671_switchToMotionMode
 403              	.LVL45:
 101:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_TARGET, BIT_16_TO_31, targetTorque)
 404              		.loc 1 101 2 is_stmt 1 view .LVU92
 405 00f8 ABB2     		uxth	r3, r5
 406 00fa 2046     		mov	r0, r4
 407 00fc 0122     		movs	r2, #1
 102:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 408              		.loc 1 102 1 is_stmt 0 view .LVU93
 409 00fe BDE87040 		pop	{r4, r5, r6, lr}
 410              	.LCFI10:
 411              		.cfi_restore 14
 412              		.cfi_restore 6
 413              		.cfi_restore 5
 414              		.cfi_restore 4
 415              		.cfi_def_cfa_offset 0
 416              	.LVL46:
 101:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_TARGET, BIT_16_TO_31, targetTorque)
 417              		.loc 1 101 2 view .LVU94
 418 0102 6421     		movs	r1, #100
 419 0104 FFF7FEBF 		b	tmc4671_writeRegister16BitValue
 420              	.LVL47:
 421              		.cfi_endproc
 422              	.LFE5:
 424              		.align	1
 425              		.global	tmc4671_getTargetTorque_raw
 426              		.syntax unified
 427              		.thumb
 428              		.thumb_func
 429              		.fpu softvfp
 431              	tmc4671_getTargetTorque_raw:
 432              	.LVL48:
 433              	.LFB6:
 103:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 104:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getTargetTorque_raw(uint8_t motor)
 105:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 434              		.loc 1 105 1 is_stmt 1 view -0
 435              		.cfi_startproc
 436              		@ args = 0, pretend = 0, frame = 0
 437              		@ frame_needed = 0, uses_anonymous_args = 0
 106:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 107:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	uint32_t lastIndex = tmc4671_readInt(motor, TMC4671_INTERIM_ADDR);
 438              		.loc 1 107 2 view .LVU96
 105:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 439              		.loc 1 105 1 is_stmt 0 view .LVU97
 440 0108 70B5     		push	{r4, r5, r6, lr}
 441              	.LCFI11:
 442              		.cfi_def_cfa_offset 16
 443              		.cfi_offset 4, -16
 444              		.cfi_offset 5, -12
 445              		.cfi_offset 6, -8
 446              		.cfi_offset 14, -4
 447              		.loc 1 107 23 view .LVU98
 448 010a 6F21     		movs	r1, #111
 105:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 449              		.loc 1 105 1 view .LVU99
 450 010c 0446     		mov	r4, r0
 451              		.loc 1 107 23 view .LVU100
 452 010e FFF7FEFF 		bl	tmc4671_readInt
 453              	.LVL49:
 108:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 109:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// get value
 110:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_INTERIM_ADDR, 0);
 454              		.loc 1 110 2 view .LVU101
 455 0112 0022     		movs	r2, #0
 107:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 456              		.loc 1 107 23 view .LVU102
 457 0114 0646     		mov	r6, r0
 458              	.LVL50:
 459              		.loc 1 110 2 is_stmt 1 view .LVU103
 460 0116 6F21     		movs	r1, #111
 461 0118 2046     		mov	r0, r4
 462              	.LVL51:
 463              		.loc 1 110 2 is_stmt 0 view .LVU104
 464 011a FFF7FEFF 		bl	tmc4671_writeInt
 465              	.LVL52:
 111:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t value = (int32_t)tmc4671_readInt(motor, TMC4671_INTERIM_DATA);
 466              		.loc 1 111 2 is_stmt 1 view .LVU105
 467              		.loc 1 111 27 is_stmt 0 view .LVU106
 468 011e 6E21     		movs	r1, #110
 469 0120 2046     		mov	r0, r4
 470 0122 FFF7FEFF 		bl	tmc4671_readInt
 471              	.LVL53:
 112:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 113:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// reset last set index
 114:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_INTERIM_ADDR, lastIndex);
 472              		.loc 1 114 2 view .LVU107
 473 0126 3246     		mov	r2, r6
 111:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t value = (int32_t)tmc4671_readInt(motor, TMC4671_INTERIM_DATA);
 474              		.loc 1 111 27 view .LVU108
 475 0128 0546     		mov	r5, r0
 476              	.LVL54:
 477              		.loc 1 114 2 is_stmt 1 view .LVU109
 478 012a 6F21     		movs	r1, #111
 479 012c 2046     		mov	r0, r4
 480              	.LVL55:
 481              		.loc 1 114 2 is_stmt 0 view .LVU110
 482 012e FFF7FEFF 		bl	tmc4671_writeInt
 483              	.LVL56:
 115:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return value;
 484              		.loc 1 115 2 is_stmt 1 view .LVU111
 116:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 485              		.loc 1 116 1 is_stmt 0 view .LVU112
 486 0132 2846     		mov	r0, r5
 487 0134 70BD     		pop	{r4, r5, r6, pc}
 488              		.loc 1 116 1 view .LVU113
 489              		.cfi_endproc
 490              	.LFE6:
 492              		.align	1
 493              		.global	tmc4671_getActualTorque_raw
 494              		.syntax unified
 495              		.thumb
 496              		.thumb_func
 497              		.fpu softvfp
 499              	tmc4671_getActualTorque_raw:
 500              	.LVL57:
 501              	.LFB7:
 117:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 118:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualTorque_raw(uint8_t motor)
 119:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 502              		.loc 1 119 1 is_stmt 1 view -0
 503              		.cfi_startproc
 504              		@ args = 0, pretend = 0, frame = 0
 505              		@ frame_needed = 0, uses_anonymous_args = 0
 120:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_ACTUAL, BIT_16_TO_3
 506              		.loc 1 120 2 view .LVU115
 507              	.LBB27:
 508              	.LBI27:
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 509              		.loc 1 51 10 view .LVU116
 510              	.LBB28:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 511              		.loc 1 53 2 view .LVU117
 512              	.LBE28:
 513              	.LBE27:
 119:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_ACTUAL, BIT_16_TO_3
 514              		.loc 1 119 1 is_stmt 0 view .LVU118
 515 0136 08B5     		push	{r3, lr}
 516              	.LCFI12:
 517              		.cfi_def_cfa_offset 8
 518              		.cfi_offset 3, -8
 519              		.cfi_offset 14, -4
 520              	.LBB30:
 521              	.LBB29:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 522              		.loc 1 53 26 view .LVU119
 523 0138 6921     		movs	r1, #105
 524 013a FFF7FEFF 		bl	tmc4671_readInt
 525              	.LVL58:
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 526              		.loc 1 56 2 is_stmt 1 view .LVU120
  60:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case BIT_16_TO_31:
 527              		.loc 1 60 3 view .LVU121
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 528              		.loc 1 62 3 view .LVU122
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 529              		.loc 1 62 3 is_stmt 0 view .LVU123
 530              	.LBE29:
 531              	.LBE30:
 121:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 532              		.loc 1 121 1 view .LVU124
 533 013e 0014     		asrs	r0, r0, #16
 534 0140 08BD     		pop	{r3, pc}
 535              		.cfi_endproc
 536              	.LFE7:
 538              		.align	1
 539              		.global	tmc4671_getActualRampTorque_raw
 540              		.syntax unified
 541              		.thumb
 542              		.thumb_func
 543              		.fpu softvfp
 545              	tmc4671_getActualRampTorque_raw:
 546              	.LVL59:
 547              	.LFB8:
 122:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 123:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualRampTorque_raw(uint8_t motor)
 124:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 548              		.loc 1 124 1 is_stmt 1 view -0
 549              		.cfi_startproc
 550              		@ args = 0, pretend = 0, frame = 0
 551              		@ frame_needed = 0, uses_anonymous_args = 0
 552              		@ link register save eliminated.
 125:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// no ramp implemented
 126:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	UNUSED(motor);
 553              		.loc 1 126 2 view .LVU126
 127:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return 0;
 554              		.loc 1 127 2 view .LVU127
 128:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 555              		.loc 1 128 1 is_stmt 0 view .LVU128
 556 0142 0020     		movs	r0, #0
 557              	.LVL60:
 558              		.loc 1 128 1 view .LVU129
 559 0144 7047     		bx	lr
 560              		.cfi_endproc
 561              	.LFE8:
 563              		.align	1
 564              		.global	tmc4671_setTargetTorque_mA
 565              		.syntax unified
 566              		.thumb
 567              		.thumb_func
 568              		.fpu softvfp
 570              	tmc4671_setTargetTorque_mA:
 571              	.LVL61:
 572              	.LFB9:
 129:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 130:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setTargetTorque_mA(uint8_t motor, uint16_t torqueMeasurementFactor, int32_t targetTorq
 131:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 573              		.loc 1 131 1 is_stmt 1 view -0
 574              		.cfi_startproc
 575              		@ args = 0, pretend = 0, frame = 0
 576              		@ frame_needed = 0, uses_anonymous_args = 0
 132:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_TORQUE);
 577              		.loc 1 132 2 view .LVU131
 131:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_TORQUE);
 578              		.loc 1 131 1 is_stmt 0 view .LVU132
 579 0146 70B5     		push	{r4, r5, r6, lr}
 580              	.LCFI13:
 581              		.cfi_def_cfa_offset 16
 582              		.cfi_offset 4, -16
 583              		.cfi_offset 5, -12
 584              		.cfi_offset 6, -8
 585              		.cfi_offset 14, -4
 131:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_TORQUE);
 586              		.loc 1 131 1 view .LVU133
 587 0148 0546     		mov	r5, r0
 588 014a 0E46     		mov	r6, r1
 589 014c 1446     		mov	r4, r2
 590              		.loc 1 132 2 view .LVU134
 591 014e 0121     		movs	r1, #1
 592              	.LVL62:
 593              		.loc 1 132 2 view .LVU135
 594 0150 FFF7FEFF 		bl	tmc4671_switchToMotionMode
 595              	.LVL63:
 133:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_TARGET, BIT_16_TO_31, (targetTorque
 596              		.loc 1 133 2 is_stmt 1 view .LVU136
 597              		.loc 1 133 101 is_stmt 0 view .LVU137
 598 0154 2402     		lsls	r4, r4, #8
 599              	.LVL64:
 600              		.loc 1 133 2 view .LVU138
 601 0156 2846     		mov	r0, r5
 602              		.loc 1 133 108 view .LVU139
 603 0158 94FBF6F3 		sdiv	r3, r4, r6
 604              		.loc 1 133 2 view .LVU140
 605 015c 0122     		movs	r2, #1
 134:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 606              		.loc 1 134 1 view .LVU141
 607 015e BDE87040 		pop	{r4, r5, r6, lr}
 608              	.LCFI14:
 609              		.cfi_restore 14
 610              		.cfi_restore 6
 611              		.cfi_restore 5
 612              		.cfi_restore 4
 613              		.cfi_def_cfa_offset 0
 133:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_TARGET, BIT_16_TO_31, (targetTorque
 614              		.loc 1 133 2 view .LVU142
 615 0162 9BB2     		uxth	r3, r3
 616 0164 6421     		movs	r1, #100
 617 0166 FFF7FEBF 		b	tmc4671_writeRegister16BitValue
 618              	.LVL65:
 619              		.cfi_endproc
 620              	.LFE9:
 622              		.align	1
 623              		.global	tmc4671_getTargetTorque_mA
 624              		.syntax unified
 625              		.thumb
 626              		.thumb_func
 627              		.fpu softvfp
 629              	tmc4671_getTargetTorque_mA:
 630              	.LVL66:
 631              	.LFB10:
 135:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 136:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getTargetTorque_mA(uint8_t motor, uint16_t torqueMeasurementFactor)
 137:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 632              		.loc 1 137 1 is_stmt 1 view -0
 633              		.cfi_startproc
 634              		@ args = 0, pretend = 0, frame = 0
 635              		@ frame_needed = 0, uses_anonymous_args = 0
 138:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getTargetTorque_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 636              		.loc 1 138 2 view .LVU144
 137:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getTargetTorque_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 637              		.loc 1 137 1 is_stmt 0 view .LVU145
 638 016a 10B5     		push	{r4, lr}
 639              	.LCFI15:
 640              		.cfi_def_cfa_offset 8
 641              		.cfi_offset 4, -8
 642              		.cfi_offset 14, -4
 137:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getTargetTorque_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 643              		.loc 1 137 1 view .LVU146
 644 016c 0C46     		mov	r4, r1
 645              		.loc 1 138 10 view .LVU147
 646 016e FFF7FEFF 		bl	tmc4671_getTargetTorque_raw
 647              	.LVL67:
 648              		.loc 1 138 82 view .LVU148
 649 0172 6043     		muls	r0, r4, r0
 650 0174 48BF     		it	mi
 651 0176 FF30     		addmi	r0, r0, #255
 139:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 652              		.loc 1 139 1 view .LVU149
 653 0178 0012     		asrs	r0, r0, #8
 654 017a 10BD     		pop	{r4, pc}
 655              		.cfi_endproc
 656              	.LFE10:
 658              		.align	1
 659              		.global	tmc4671_getActualTorque_mA
 660              		.syntax unified
 661              		.thumb
 662              		.thumb_func
 663              		.fpu softvfp
 665              	tmc4671_getActualTorque_mA:
 666              	.LVL68:
 667              	.LFB11:
 140:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 141:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualTorque_mA(uint8_t motor, uint16_t torqueMeasurementFactor)
 142:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 668              		.loc 1 142 1 is_stmt 1 view -0
 669              		.cfi_startproc
 670              		@ args = 0, pretend = 0, frame = 0
 671              		@ frame_needed = 0, uses_anonymous_args = 0
 143:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getActualTorque_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 672              		.loc 1 143 2 view .LVU151
 142:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getActualTorque_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 673              		.loc 1 142 1 is_stmt 0 view .LVU152
 674 017c 10B5     		push	{r4, lr}
 675              	.LCFI16:
 676              		.cfi_def_cfa_offset 8
 677              		.cfi_offset 4, -8
 678              		.cfi_offset 14, -4
 142:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getActualTorque_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 679              		.loc 1 142 1 view .LVU153
 680 017e 0C46     		mov	r4, r1
 681              		.loc 1 143 10 view .LVU154
 682 0180 FFF7FEFF 		bl	tmc4671_getActualTorque_raw
 683              	.LVL69:
 684              		.loc 1 143 82 view .LVU155
 685 0184 6043     		muls	r0, r4, r0
 686 0186 48BF     		it	mi
 687 0188 FF30     		addmi	r0, r0, #255
 144:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 688              		.loc 1 144 1 view .LVU156
 689 018a 0012     		asrs	r0, r0, #8
 690 018c 10BD     		pop	{r4, pc}
 691              		.cfi_endproc
 692              	.LFE11:
 694              		.align	1
 695              		.global	tmc4671_getTargetTorqueFluxSum_mA
 696              		.syntax unified
 697              		.thumb
 698              		.thumb_func
 699              		.fpu softvfp
 701              	tmc4671_getTargetTorqueFluxSum_mA:
 702              	.LVL70:
 703              	.LFB12:
 145:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 146:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getTargetTorqueFluxSum_mA(uint8_t motor, uint16_t torqueMeasurementFactor)
 147:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 704              		.loc 1 147 1 is_stmt 1 view -0
 705              		.cfi_startproc
 706              		@ args = 0, pretend = 0, frame = 0
 707              		@ frame_needed = 0, uses_anonymous_args = 0
 148:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 149:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	uint32_t lastIndex = tmc4671_readInt(motor, TMC4671_INTERIM_ADDR);
 708              		.loc 1 149 2 view .LVU158
 147:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 709              		.loc 1 147 1 is_stmt 0 view .LVU159
 710 018e 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 711              	.LCFI17:
 712              		.cfi_def_cfa_offset 24
 713              		.cfi_offset 4, -24
 714              		.cfi_offset 5, -20
 715              		.cfi_offset 6, -16
 716              		.cfi_offset 7, -12
 717              		.cfi_offset 8, -8
 718              		.cfi_offset 14, -4
 147:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 719              		.loc 1 147 1 view .LVU160
 720 0192 0C46     		mov	r4, r1
 721              		.loc 1 149 23 view .LVU161
 722 0194 6F21     		movs	r1, #111
 723              	.LVL71:
 147:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 724              		.loc 1 147 1 view .LVU162
 725 0196 0546     		mov	r5, r0
 726              		.loc 1 149 23 view .LVU163
 727 0198 FFF7FEFF 		bl	tmc4671_readInt
 728              	.LVL72:
 150:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 151:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// get target torque value
 152:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_INTERIM_ADDR, 0);
 729              		.loc 1 152 2 view .LVU164
 730 019c 0022     		movs	r2, #0
 149:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 731              		.loc 1 149 23 view .LVU165
 732 019e 8046     		mov	r8, r0
 733              	.LVL73:
 734              		.loc 1 152 2 is_stmt 1 view .LVU166
 735 01a0 6F21     		movs	r1, #111
 736 01a2 2846     		mov	r0, r5
 737              	.LVL74:
 738              		.loc 1 152 2 is_stmt 0 view .LVU167
 739 01a4 FFF7FEFF 		bl	tmc4671_writeInt
 740              	.LVL75:
 153:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t torque = (int32_t) tmc4671_readInt(motor, TMC4671_INTERIM_DATA);
 741              		.loc 1 153 2 is_stmt 1 view .LVU168
 742              		.loc 1 153 29 is_stmt 0 view .LVU169
 743 01a8 6E21     		movs	r1, #110
 744 01aa 2846     		mov	r0, r5
 745 01ac FFF7FEFF 		bl	tmc4671_readInt
 746              	.LVL76:
 154:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 155:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// get target flux value
 156:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_INTERIM_ADDR, 1);
 747              		.loc 1 156 2 view .LVU170
 748 01b0 0122     		movs	r2, #1
 153:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t torque = (int32_t) tmc4671_readInt(motor, TMC4671_INTERIM_DATA);
 749              		.loc 1 153 29 view .LVU171
 750 01b2 0646     		mov	r6, r0
 751              	.LVL77:
 752              		.loc 1 156 2 is_stmt 1 view .LVU172
 753 01b4 6F21     		movs	r1, #111
 754 01b6 2846     		mov	r0, r5
 755              	.LVL78:
 756              		.loc 1 156 2 is_stmt 0 view .LVU173
 757 01b8 FFF7FEFF 		bl	tmc4671_writeInt
 758              	.LVL79:
 157:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t flux = (int32_t) tmc4671_readInt(motor, TMC4671_INTERIM_DATA);
 759              		.loc 1 157 2 is_stmt 1 view .LVU174
 760              		.loc 1 157 27 is_stmt 0 view .LVU175
 761 01bc 6E21     		movs	r1, #110
 762 01be 2846     		mov	r0, r5
 763 01c0 FFF7FEFF 		bl	tmc4671_readInt
 764              	.LVL80:
 158:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 159:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// reset last set index
 160:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_INTERIM_ADDR, lastIndex);
 765              		.loc 1 160 2 view .LVU176
 766 01c4 4246     		mov	r2, r8
 157:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t flux = (int32_t) tmc4671_readInt(motor, TMC4671_INTERIM_DATA);
 767              		.loc 1 157 27 view .LVU177
 768 01c6 0746     		mov	r7, r0
 769              	.LVL81:
 770              		.loc 1 160 2 is_stmt 1 view .LVU178
 771 01c8 6F21     		movs	r1, #111
 772 01ca 2846     		mov	r0, r5
 773              	.LVL82:
 774              		.loc 1 160 2 is_stmt 0 view .LVU179
 775 01cc FFF7FEFF 		bl	tmc4671_writeInt
 776              	.LVL83:
 161:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 162:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (((int32_t)flux+(int32_t)torque) * (int32_t)torqueMeasurementFactor) / 256;
 777              		.loc 1 162 2 is_stmt 1 view .LVU180
 778              		.loc 1 162 24 is_stmt 0 view .LVU181
 779 01d0 F019     		adds	r0, r6, r7
 780              		.loc 1 162 78 view .LVU182
 781 01d2 6043     		muls	r0, r4, r0
 782 01d4 48BF     		it	mi
 783 01d6 FF30     		addmi	r0, r0, #255
 163:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 784              		.loc 1 163 1 view .LVU183
 785 01d8 0012     		asrs	r0, r0, #8
 786 01da BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 787              		.loc 1 163 1 view .LVU184
 788              		.cfi_endproc
 789              	.LFE12:
 791              		.align	1
 792              		.global	tmc4671_getActualTorqueFluxSum_mA
 793              		.syntax unified
 794              		.thumb
 795              		.thumb_func
 796              		.fpu softvfp
 798              	tmc4671_getActualTorqueFluxSum_mA:
 799              	.LVL84:
 800              	.LFB13:
 164:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 165:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualTorqueFluxSum_mA(uint8_t motor, uint16_t torqueMeasurementFactor)
 166:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 801              		.loc 1 166 1 is_stmt 1 view -0
 802              		.cfi_startproc
 803              		@ args = 0, pretend = 0, frame = 0
 804              		@ frame_needed = 0, uses_anonymous_args = 0
 167:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t registerValue = tmc4671_readInt(motor, TMC4671_PID_TORQUE_FLUX_ACTUAL);
 805              		.loc 1 167 2 view .LVU186
 166:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t registerValue = tmc4671_readInt(motor, TMC4671_PID_TORQUE_FLUX_ACTUAL);
 806              		.loc 1 166 1 is_stmt 0 view .LVU187
 807 01de 10B5     		push	{r4, lr}
 808              	.LCFI18:
 809              		.cfi_def_cfa_offset 8
 810              		.cfi_offset 4, -8
 811              		.cfi_offset 14, -4
 166:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t registerValue = tmc4671_readInt(motor, TMC4671_PID_TORQUE_FLUX_ACTUAL);
 812              		.loc 1 166 1 view .LVU188
 813 01e0 0C46     		mov	r4, r1
 814              		.loc 1 167 26 view .LVU189
 815 01e2 6921     		movs	r1, #105
 816              	.LVL85:
 817              		.loc 1 167 26 view .LVU190
 818 01e4 FFF7FEFF 		bl	tmc4671_readInt
 819              	.LVL86:
 168:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int16_t flux = (registerValue & 0xFFFF);
 820              		.loc 1 168 2 is_stmt 1 view .LVU191
 169:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int16_t torque = ((registerValue >> 16) & 0xFFFF);
 821              		.loc 1 169 2 view .LVU192
 170:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (((int32_t)flux+(int32_t)torque) * (int32_t)torqueMeasurementFactor) / 256;
 822              		.loc 1 170 2 view .LVU193
 823              		.loc 1 170 11 is_stmt 0 view .LVU194
 824 01e8 01B2     		sxth	r1, r0
 825              		.loc 1 170 24 view .LVU195
 826 01ea 01EB2040 		add	r0, r1, r0, asr #16
 827              	.LVL87:
 828              		.loc 1 170 78 view .LVU196
 829 01ee 6043     		muls	r0, r4, r0
 830 01f0 48BF     		it	mi
 831 01f2 FF30     		addmi	r0, r0, #255
 171:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 832              		.loc 1 171 1 view .LVU197
 833 01f4 0012     		asrs	r0, r0, #8
 834 01f6 10BD     		pop	{r4, pc}
 835              		.cfi_endproc
 836              	.LFE13:
 838              		.align	1
 839              		.global	tmc4671_getActualRampTorque_mA
 840              		.syntax unified
 841              		.thumb
 842              		.thumb_func
 843              		.fpu softvfp
 845              	tmc4671_getActualRampTorque_mA:
 846              	.LVL88:
 847              	.LFB14:
 172:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 173:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualRampTorque_mA(uint8_t motor, uint16_t torqueMeasurementFactor)
 174:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 848              		.loc 1 174 1 is_stmt 1 view -0
 849              		.cfi_startproc
 850              		@ args = 0, pretend = 0, frame = 0
 851              		@ frame_needed = 0, uses_anonymous_args = 0
 852              		@ link register save eliminated.
 175:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// no ramp implemented
 176:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	UNUSED(motor);
 853              		.loc 1 176 2 view .LVU199
 177:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	UNUSED(torqueMeasurementFactor);
 854              		.loc 1 177 2 view .LVU200
 178:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return 0;
 855              		.loc 1 178 2 view .LVU201
 179:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 856              		.loc 1 179 1 is_stmt 0 view .LVU202
 857 01f8 0020     		movs	r0, #0
 858              	.LVL89:
 859              		.loc 1 179 1 view .LVU203
 860 01fa 7047     		bx	lr
 861              		.cfi_endproc
 862              	.LFE14:
 864              		.align	1
 865              		.global	tmc4671_setTargetFlux_raw
 866              		.syntax unified
 867              		.thumb
 868              		.thumb_func
 869              		.fpu softvfp
 871              	tmc4671_setTargetFlux_raw:
 872              	.LVL90:
 873              	.LFB15:
 180:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 181:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setTargetFlux_raw(uint8_t motor, int32_t targetFlux)
 182:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 874              		.loc 1 182 1 is_stmt 1 view -0
 875              		.cfi_startproc
 876              		@ args = 0, pretend = 0, frame = 0
 877              		@ frame_needed = 0, uses_anonymous_args = 0
 878              		@ link register save eliminated.
 183:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// do not change the MOTION_MODE here! target flux can also be used during velocity and position m
 184:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_TARGET, BIT_0_TO_15, targetFlux);
 879              		.loc 1 184 2 view .LVU205
 880 01fc 8BB2     		uxth	r3, r1
 881 01fe 0022     		movs	r2, #0
 882 0200 6421     		movs	r1, #100
 883              	.LVL91:
 884              		.loc 1 184 2 is_stmt 0 view .LVU206
 885 0202 FFF7FEBF 		b	tmc4671_writeRegister16BitValue
 886              	.LVL92:
 887              		.loc 1 184 2 view .LVU207
 888              		.cfi_endproc
 889              	.LFE15:
 891              		.align	1
 892              		.global	tmc4671_getTargetFlux_raw
 893              		.syntax unified
 894              		.thumb
 895              		.thumb_func
 896              		.fpu softvfp
 898              	tmc4671_getTargetFlux_raw:
 899              	.LVL93:
 900              	.LFB16:
 185:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 186:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 187:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getTargetFlux_raw(uint8_t motor)
 188:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 901              		.loc 1 188 1 is_stmt 1 view -0
 902              		.cfi_startproc
 903              		@ args = 0, pretend = 0, frame = 0
 904              		@ frame_needed = 0, uses_anonymous_args = 0
 189:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 190:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	uint32_t lastIndex = tmc4671_readInt(motor, TMC4671_INTERIM_ADDR);
 905              		.loc 1 190 2 view .LVU209
 188:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 906              		.loc 1 188 1 is_stmt 0 view .LVU210
 907 0206 70B5     		push	{r4, r5, r6, lr}
 908              	.LCFI19:
 909              		.cfi_def_cfa_offset 16
 910              		.cfi_offset 4, -16
 911              		.cfi_offset 5, -12
 912              		.cfi_offset 6, -8
 913              		.cfi_offset 14, -4
 914              		.loc 1 190 23 view .LVU211
 915 0208 6F21     		movs	r1, #111
 188:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember last set index
 916              		.loc 1 188 1 view .LVU212
 917 020a 0446     		mov	r4, r0
 918              		.loc 1 190 23 view .LVU213
 919 020c FFF7FEFF 		bl	tmc4671_readInt
 920              	.LVL94:
 191:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 192:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// get value
 193:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_INTERIM_ADDR, 1);
 921              		.loc 1 193 2 view .LVU214
 922 0210 0122     		movs	r2, #1
 190:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 923              		.loc 1 190 23 view .LVU215
 924 0212 0646     		mov	r6, r0
 925              	.LVL95:
 926              		.loc 1 193 2 is_stmt 1 view .LVU216
 927 0214 6F21     		movs	r1, #111
 928 0216 2046     		mov	r0, r4
 929              	.LVL96:
 930              		.loc 1 193 2 is_stmt 0 view .LVU217
 931 0218 FFF7FEFF 		bl	tmc4671_writeInt
 932              	.LVL97:
 194:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t value = (int32_t) tmc4671_readInt(motor, TMC4671_INTERIM_DATA);
 933              		.loc 1 194 2 is_stmt 1 view .LVU218
 934              		.loc 1 194 28 is_stmt 0 view .LVU219
 935 021c 6E21     		movs	r1, #110
 936 021e 2046     		mov	r0, r4
 937 0220 FFF7FEFF 		bl	tmc4671_readInt
 938              	.LVL98:
 195:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 196:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// reset last set index
 197:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_INTERIM_ADDR, lastIndex);
 939              		.loc 1 197 2 view .LVU220
 940 0224 3246     		mov	r2, r6
 194:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	int32_t value = (int32_t) tmc4671_readInt(motor, TMC4671_INTERIM_DATA);
 941              		.loc 1 194 28 view .LVU221
 942 0226 0546     		mov	r5, r0
 943              	.LVL99:
 944              		.loc 1 197 2 is_stmt 1 view .LVU222
 945 0228 6F21     		movs	r1, #111
 946 022a 2046     		mov	r0, r4
 947              	.LVL100:
 948              		.loc 1 197 2 is_stmt 0 view .LVU223
 949 022c FFF7FEFF 		bl	tmc4671_writeInt
 950              	.LVL101:
 198:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return value;
 951              		.loc 1 198 2 is_stmt 1 view .LVU224
 199:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 952              		.loc 1 199 1 is_stmt 0 view .LVU225
 953 0230 2846     		mov	r0, r5
 954 0232 70BD     		pop	{r4, r5, r6, pc}
 955              		.loc 1 199 1 view .LVU226
 956              		.cfi_endproc
 957              	.LFE16:
 959              		.align	1
 960              		.global	tmc4671_getActualFlux_raw
 961              		.syntax unified
 962              		.thumb
 963              		.thumb_func
 964              		.fpu softvfp
 966              	tmc4671_getActualFlux_raw:
 967              	.LVL102:
 968              	.LFB17:
 200:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 201:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualFlux_raw(uint8_t motor)
 202:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 969              		.loc 1 202 1 is_stmt 1 view -0
 970              		.cfi_startproc
 971              		@ args = 0, pretend = 0, frame = 0
 972              		@ frame_needed = 0, uses_anonymous_args = 0
 203:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_ACTUAL, BIT_0_TO_15
 973              		.loc 1 203 2 view .LVU228
 974              	.LBB31:
 975              	.LBI31:
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 976              		.loc 1 51 10 view .LVU229
 977              	.LBB32:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 978              		.loc 1 53 2 view .LVU230
 979              	.LBE32:
 980              	.LBE31:
 202:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_ACTUAL, BIT_0_TO_15
 981              		.loc 1 202 1 is_stmt 0 view .LVU231
 982 0234 08B5     		push	{r3, lr}
 983              	.LCFI20:
 984              		.cfi_def_cfa_offset 8
 985              		.cfi_offset 3, -8
 986              		.cfi_offset 14, -4
 987              	.LBB34:
 988              	.LBB33:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 989              		.loc 1 53 26 view .LVU232
 990 0236 6921     		movs	r1, #105
 991 0238 FFF7FEFF 		bl	tmc4671_readInt
 992              	.LVL103:
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 993              		.loc 1 56 2 is_stmt 1 view .LVU233
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 994              		.loc 1 59 3 view .LVU234
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 995              		.loc 1 59 3 is_stmt 0 view .LVU235
 996              	.LBE33:
 997              	.LBE34:
 204:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 998              		.loc 1 204 1 view .LVU236
 999 023c 00B2     		sxth	r0, r0
 1000 023e 08BD     		pop	{r3, pc}
 1001              		.cfi_endproc
 1002              	.LFE17:
 1004              		.align	1
 1005              		.global	tmc4671_setTargetFlux_mA
 1006              		.syntax unified
 1007              		.thumb
 1008              		.thumb_func
 1009              		.fpu softvfp
 1011              	tmc4671_setTargetFlux_mA:
 1012              	.LVL104:
 1013              	.LFB18:
 205:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 206:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setTargetFlux_mA(uint8_t motor, uint16_t torqueMeasurementFactor, int32_t targetFlux)
 207:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1014              		.loc 1 207 1 is_stmt 1 view -0
 1015              		.cfi_startproc
 1016              		@ args = 0, pretend = 0, frame = 0
 1017              		@ frame_needed = 0, uses_anonymous_args = 0
 1018              		@ link register save eliminated.
 208:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// do not change the MOTION_MODE here! target flux can also be used during velocity and position m
 209:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_TARGET, BIT_0_TO_15, (targetFlux * 
 1019              		.loc 1 209 2 view .LVU238
 1020              		.loc 1 209 98 is_stmt 0 view .LVU239
 1021 0240 1202     		lsls	r2, r2, #8
 1022              	.LVL105:
 1023              		.loc 1 209 105 view .LVU240
 1024 0242 92FBF1F2 		sdiv	r2, r2, r1
 1025              		.loc 1 209 2 view .LVU241
 1026 0246 6421     		movs	r1, #100
 1027              	.LVL106:
 1028              		.loc 1 209 2 view .LVU242
 1029 0248 93B2     		uxth	r3, r2
 1030 024a 0022     		movs	r2, #0
 1031 024c FFF7FEBF 		b	tmc4671_writeRegister16BitValue
 1032              	.LVL107:
 1033              		.loc 1 209 2 view .LVU243
 1034              		.cfi_endproc
 1035              	.LFE18:
 1037              		.align	1
 1038              		.global	tmc4671_getTargetFlux_mA
 1039              		.syntax unified
 1040              		.thumb
 1041              		.thumb_func
 1042              		.fpu softvfp
 1044              	tmc4671_getTargetFlux_mA:
 1045              	.LVL108:
 1046              	.LFB19:
 210:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 211:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 212:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getTargetFlux_mA(uint8_t motor, uint16_t torqueMeasurementFactor)
 213:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1047              		.loc 1 213 1 is_stmt 1 view -0
 1048              		.cfi_startproc
 1049              		@ args = 0, pretend = 0, frame = 0
 1050              		@ frame_needed = 0, uses_anonymous_args = 0
 214:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getTargetFlux_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 1051              		.loc 1 214 2 view .LVU245
 213:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getTargetFlux_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 1052              		.loc 1 213 1 is_stmt 0 view .LVU246
 1053 0250 10B5     		push	{r4, lr}
 1054              	.LCFI21:
 1055              		.cfi_def_cfa_offset 8
 1056              		.cfi_offset 4, -8
 1057              		.cfi_offset 14, -4
 213:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getTargetFlux_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 1058              		.loc 1 213 1 view .LVU247
 1059 0252 0C46     		mov	r4, r1
 1060              		.loc 1 214 10 view .LVU248
 1061 0254 FFF7FEFF 		bl	tmc4671_getTargetFlux_raw
 1062              	.LVL109:
 1063              		.loc 1 214 80 view .LVU249
 1064 0258 6043     		muls	r0, r4, r0
 1065 025a 48BF     		it	mi
 1066 025c FF30     		addmi	r0, r0, #255
 215:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1067              		.loc 1 215 1 view .LVU250
 1068 025e 0012     		asrs	r0, r0, #8
 1069 0260 10BD     		pop	{r4, pc}
 1070              		.cfi_endproc
 1071              	.LFE19:
 1073              		.align	1
 1074              		.global	tmc4671_getActualFlux_mA
 1075              		.syntax unified
 1076              		.thumb
 1077              		.thumb_func
 1078              		.fpu softvfp
 1080              	tmc4671_getActualFlux_mA:
 1081              	.LVL110:
 1082              	.LFB20:
 216:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 217:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualFlux_mA(uint8_t motor, uint16_t torqueMeasurementFactor)
 218:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1083              		.loc 1 218 1 is_stmt 1 view -0
 1084              		.cfi_startproc
 1085              		@ args = 0, pretend = 0, frame = 0
 1086              		@ frame_needed = 0, uses_anonymous_args = 0
 219:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getActualFlux_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 1087              		.loc 1 219 2 view .LVU252
 218:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getActualFlux_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 1088              		.loc 1 218 1 is_stmt 0 view .LVU253
 1089 0262 10B5     		push	{r4, lr}
 1090              	.LCFI22:
 1091              		.cfi_def_cfa_offset 8
 1092              		.cfi_offset 4, -8
 1093              		.cfi_offset 14, -4
 218:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (tmc4671_getActualFlux_raw(motor) * (int32_t) torqueMeasurementFactor) / 256;
 1094              		.loc 1 218 1 view .LVU254
 1095 0264 0C46     		mov	r4, r1
 1096              		.loc 1 219 10 view .LVU255
 1097 0266 FFF7FEFF 		bl	tmc4671_getActualFlux_raw
 1098              	.LVL111:
 1099              		.loc 1 219 80 view .LVU256
 1100 026a 6043     		muls	r0, r4, r0
 1101 026c 48BF     		it	mi
 1102 026e FF30     		addmi	r0, r0, #255
 220:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1103              		.loc 1 220 1 view .LVU257
 1104 0270 0012     		asrs	r0, r0, #8
 1105 0272 10BD     		pop	{r4, pc}
 1106              		.cfi_endproc
 1107              	.LFE20:
 1109              		.align	1
 1110              		.global	tmc4671_setTorqueFluxLimit_mA
 1111              		.syntax unified
 1112              		.thumb
 1113              		.thumb_func
 1114              		.fpu softvfp
 1116              	tmc4671_setTorqueFluxLimit_mA:
 1117              	.LVL112:
 1118              	.LFB21:
 221:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 222:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setTorqueFluxLimit_mA(uint8_t motor, uint16_t torqueMeasurementFactor, int32_t max)
 223:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1119              		.loc 1 223 1 is_stmt 1 view -0
 1120              		.cfi_startproc
 1121              		@ args = 0, pretend = 0, frame = 0
 1122              		@ frame_needed = 0, uses_anonymous_args = 0
 1123              		@ link register save eliminated.
 224:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_LIMITS, BIT_0_TO_15, (max * 256) / 
 1124              		.loc 1 224 2 view .LVU259
 1125              		.loc 1 224 91 is_stmt 0 view .LVU260
 1126 0274 1202     		lsls	r2, r2, #8
 1127              	.LVL113:
 1128              		.loc 1 224 98 view .LVU261
 1129 0276 92FBF1F2 		sdiv	r2, r2, r1
 1130              		.loc 1 224 2 view .LVU262
 1131 027a 5E21     		movs	r1, #94
 1132              	.LVL114:
 1133              		.loc 1 224 2 view .LVU263
 1134 027c 93B2     		uxth	r3, r2
 1135 027e 0022     		movs	r2, #0
 1136 0280 FFF7FEBF 		b	tmc4671_writeRegister16BitValue
 1137              	.LVL115:
 1138              		.loc 1 224 2 view .LVU264
 1139              		.cfi_endproc
 1140              	.LFE21:
 1142              		.align	1
 1143              		.global	tmc4671_getTorqueFluxLimit_mA
 1144              		.syntax unified
 1145              		.thumb
 1146              		.thumb_func
 1147              		.fpu softvfp
 1149              	tmc4671_getTorqueFluxLimit_mA:
 1150              	.LVL116:
 1151              	.LFB22:
 225:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 226:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 227:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getTorqueFluxLimit_mA(uint8_t motor, uint16_t torqueMeasurementFactor)
 228:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1152              		.loc 1 228 1 is_stmt 1 view -0
 1153              		.cfi_startproc
 1154              		@ args = 0, pretend = 0, frame = 0
 1155              		@ frame_needed = 0, uses_anonymous_args = 0
 229:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return ((int32_t) tmc4671_readRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_LIMITS, BIT_0_TO_1
 1156              		.loc 1 229 2 view .LVU266
 1157              	.LBB35:
 1158              	.LBI35:
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1159              		.loc 1 51 10 view .LVU267
 1160              	.LBB36:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1161              		.loc 1 53 2 view .LVU268
 1162              	.LBE36:
 1163              	.LBE35:
 228:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return ((int32_t) tmc4671_readRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_LIMITS, BIT_0_TO_1
 1164              		.loc 1 228 1 is_stmt 0 view .LVU269
 1165 0284 10B5     		push	{r4, lr}
 1166              	.LCFI23:
 1167              		.cfi_def_cfa_offset 8
 1168              		.cfi_offset 4, -8
 1169              		.cfi_offset 14, -4
 228:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return ((int32_t) tmc4671_readRegister16BitValue(motor, TMC4671_PID_TORQUE_FLUX_LIMITS, BIT_0_TO_1
 1170              		.loc 1 228 1 view .LVU270
 1171 0286 0C46     		mov	r4, r1
 1172              	.LBB38:
 1173              	.LBB37:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1174              		.loc 1 53 26 view .LVU271
 1175 0288 5E21     		movs	r1, #94
 1176              	.LVL117:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1177              		.loc 1 53 26 view .LVU272
 1178 028a FFF7FEFF 		bl	tmc4671_readInt
 1179              	.LVL118:
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 1180              		.loc 1 56 2 is_stmt 1 view .LVU273
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1181              		.loc 1 59 3 view .LVU274
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1182              		.loc 1 59 3 is_stmt 0 view .LVU275
 1183              	.LBE37:
 1184              	.LBE38:
 1185              		.loc 1 229 103 view .LVU276
 1186 028e 80B2     		uxth	r0, r0
 1187 0290 6043     		muls	r0, r4, r0
 230:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1188              		.loc 1 230 1 view .LVU277
 1189 0292 0012     		asrs	r0, r0, #8
 1190 0294 10BD     		pop	{r4, pc}
 1191              		.cfi_endproc
 1192              	.LFE22:
 1194              		.align	1
 1195              		.global	tmc4671_setTargetVelocity
 1196              		.syntax unified
 1197              		.thumb
 1198              		.thumb_func
 1199              		.fpu softvfp
 1201              	tmc4671_setTargetVelocity:
 1202              	.LVL119:
 1203              	.LFB23:
 231:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 232:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setTargetVelocity(uint8_t motor, int32_t targetVelocity)
 233:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1204              		.loc 1 233 1 is_stmt 1 view -0
 1205              		.cfi_startproc
 1206              		@ args = 0, pretend = 0, frame = 0
 1207              		@ frame_needed = 0, uses_anonymous_args = 0
 234:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_VELOCITY);
 1208              		.loc 1 234 2 view .LVU279
 233:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_VELOCITY);
 1209              		.loc 1 233 1 is_stmt 0 view .LVU280
 1210 0296 38B5     		push	{r3, r4, r5, lr}
 1211              	.LCFI24:
 1212              		.cfi_def_cfa_offset 16
 1213              		.cfi_offset 3, -16
 1214              		.cfi_offset 4, -12
 1215              		.cfi_offset 5, -8
 1216              		.cfi_offset 14, -4
 233:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_VELOCITY);
 1217              		.loc 1 233 1 view .LVU281
 1218 0298 0446     		mov	r4, r0
 1219 029a 0D46     		mov	r5, r1
 1220              		.loc 1 234 2 view .LVU282
 1221 029c 0221     		movs	r1, #2
 1222              	.LVL120:
 1223              		.loc 1 234 2 view .LVU283
 1224 029e FFF7FEFF 		bl	tmc4671_switchToMotionMode
 1225              	.LVL121:
 235:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_VELOCITY_TARGET, targetVelocity);
 1226              		.loc 1 235 2 is_stmt 1 view .LVU284
 1227 02a2 2A46     		mov	r2, r5
 1228 02a4 2046     		mov	r0, r4
 1229 02a6 6621     		movs	r1, #102
 236:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1230              		.loc 1 236 1 is_stmt 0 view .LVU285
 1231 02a8 BDE83840 		pop	{r3, r4, r5, lr}
 1232              	.LCFI25:
 1233              		.cfi_restore 14
 1234              		.cfi_restore 5
 1235              		.cfi_restore 4
 1236              		.cfi_restore 3
 1237              		.cfi_def_cfa_offset 0
 1238              	.LVL122:
 235:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_VELOCITY_TARGET, targetVelocity);
 1239              		.loc 1 235 2 view .LVU286
 1240 02ac FFF7FEBF 		b	tmc4671_writeInt
 1241              	.LVL123:
 235:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_VELOCITY_TARGET, targetVelocity);
 1242              		.loc 1 235 2 view .LVU287
 1243              		.cfi_endproc
 1244              	.LFE23:
 1246              		.align	1
 1247              		.global	tmc4671_getTargetVelocity
 1248              		.syntax unified
 1249              		.thumb
 1250              		.thumb_func
 1251              		.fpu softvfp
 1253              	tmc4671_getTargetVelocity:
 1254              	.LVL124:
 1255              	.LFB24:
 237:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 238:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getTargetVelocity(uint8_t motor)
 239:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1256              		.loc 1 239 1 is_stmt 1 view -0
 1257              		.cfi_startproc
 1258              		@ args = 0, pretend = 0, frame = 0
 1259              		@ frame_needed = 0, uses_anonymous_args = 0
 1260              		@ link register save eliminated.
 240:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (int32_t) tmc4671_readInt(motor, TMC4671_PID_VELOCITY_TARGET);
 1261              		.loc 1 240 2 view .LVU289
 1262              		.loc 1 240 19 is_stmt 0 view .LVU290
 1263 02b0 6621     		movs	r1, #102
 1264 02b2 FFF7FEBF 		b	tmc4671_readInt
 1265              	.LVL125:
 1266              		.loc 1 240 19 view .LVU291
 1267              		.cfi_endproc
 1268              	.LFE24:
 1270              		.align	1
 1271              		.global	tmc4671_getActualVelocity
 1272              		.syntax unified
 1273              		.thumb
 1274              		.thumb_func
 1275              		.fpu softvfp
 1277              	tmc4671_getActualVelocity:
 1278              	.LVL126:
 1279              	.LFB25:
 241:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 242:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 243:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualVelocity(uint8_t motor)
 244:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1280              		.loc 1 244 1 is_stmt 1 view -0
 1281              		.cfi_startproc
 1282              		@ args = 0, pretend = 0, frame = 0
 1283              		@ frame_needed = 0, uses_anonymous_args = 0
 1284              		@ link register save eliminated.
 245:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (int32_t) tmc4671_readInt(motor, TMC4671_PID_VELOCITY_ACTUAL);
 1285              		.loc 1 245 2 view .LVU293
 1286              		.loc 1 245 19 is_stmt 0 view .LVU294
 1287 02b6 6A21     		movs	r1, #106
 1288 02b8 FFF7FEBF 		b	tmc4671_readInt
 1289              	.LVL127:
 1290              		.loc 1 245 19 view .LVU295
 1291              		.cfi_endproc
 1292              	.LFE25:
 1294              		.align	1
 1295              		.global	tmc4671_getActualRampVelocity
 1296              		.syntax unified
 1297              		.thumb
 1298              		.thumb_func
 1299              		.fpu softvfp
 1301              	tmc4671_getActualRampVelocity:
 1302              	.LFB55:
 1303              		.cfi_startproc
 1304              		@ args = 0, pretend = 0, frame = 0
 1305              		@ frame_needed = 0, uses_anonymous_args = 0
 1306              		@ link register save eliminated.
 1307 02bc 0020     		movs	r0, #0
 1308 02be 7047     		bx	lr
 1309              		.cfi_endproc
 1310              	.LFE55:
 1312              		.align	1
 1313              		.global	tmc4671_setAbsolutTargetPosition
 1314              		.syntax unified
 1315              		.thumb
 1316              		.thumb_func
 1317              		.fpu softvfp
 1319              	tmc4671_setAbsolutTargetPosition:
 1320              	.LVL128:
 1321              	.LFB27:
 246:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 247:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 248:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualRampVelocity(uint8_t motor)
 249:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 250:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	UNUSED(motor);
 251:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// no ramp implemented
 252:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return 0;
 253:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 254:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 255:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setAbsolutTargetPosition(uint8_t motor, int32_t targetPosition)
 256:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1322              		.loc 1 256 1 is_stmt 1 view -0
 1323              		.cfi_startproc
 1324              		@ args = 0, pretend = 0, frame = 0
 1325              		@ frame_needed = 0, uses_anonymous_args = 0
 257:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_POSITION);
 1326              		.loc 1 257 2 view .LVU297
 256:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_POSITION);
 1327              		.loc 1 256 1 is_stmt 0 view .LVU298
 1328 02c0 38B5     		push	{r3, r4, r5, lr}
 1329              	.LCFI26:
 1330              		.cfi_def_cfa_offset 16
 1331              		.cfi_offset 3, -16
 1332              		.cfi_offset 4, -12
 1333              		.cfi_offset 5, -8
 1334              		.cfi_offset 14, -4
 256:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_POSITION);
 1335              		.loc 1 256 1 view .LVU299
 1336 02c2 0446     		mov	r4, r0
 1337 02c4 0D46     		mov	r5, r1
 1338              		.loc 1 257 2 view .LVU300
 1339 02c6 0321     		movs	r1, #3
 1340              	.LVL129:
 1341              		.loc 1 257 2 view .LVU301
 1342 02c8 FFF7FEFF 		bl	tmc4671_switchToMotionMode
 1343              	.LVL130:
 258:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_POSITION_TARGET, targetPosition);
 1344              		.loc 1 258 2 is_stmt 1 view .LVU302
 1345 02cc 2A46     		mov	r2, r5
 1346 02ce 2046     		mov	r0, r4
 1347 02d0 6821     		movs	r1, #104
 259:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1348              		.loc 1 259 1 is_stmt 0 view .LVU303
 1349 02d2 BDE83840 		pop	{r3, r4, r5, lr}
 1350              	.LCFI27:
 1351              		.cfi_restore 14
 1352              		.cfi_restore 5
 1353              		.cfi_restore 4
 1354              		.cfi_restore 3
 1355              		.cfi_def_cfa_offset 0
 1356              	.LVL131:
 258:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_POSITION_TARGET, targetPosition);
 1357              		.loc 1 258 2 view .LVU304
 1358 02d6 FFF7FEBF 		b	tmc4671_writeInt
 1359              	.LVL132:
 258:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_POSITION_TARGET, targetPosition);
 1360              		.loc 1 258 2 view .LVU305
 1361              		.cfi_endproc
 1362              	.LFE27:
 1364              		.align	1
 1365              		.global	tmc4671_setRelativeTargetPosition
 1366              		.syntax unified
 1367              		.thumb
 1368              		.thumb_func
 1369              		.fpu softvfp
 1371              	tmc4671_setRelativeTargetPosition:
 1372              	.LVL133:
 1373              	.LFB28:
 260:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 261:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setRelativeTargetPosition(uint8_t motor, int32_t relativePosition)
 262:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1374              		.loc 1 262 1 is_stmt 1 view -0
 1375              		.cfi_startproc
 1376              		@ args = 0, pretend = 0, frame = 0
 1377              		@ frame_needed = 0, uses_anonymous_args = 0
 263:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_POSITION);
 1378              		.loc 1 263 2 view .LVU307
 262:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_POSITION);
 1379              		.loc 1 262 1 is_stmt 0 view .LVU308
 1380 02da 38B5     		push	{r3, r4, r5, lr}
 1381              	.LCFI28:
 1382              		.cfi_def_cfa_offset 16
 1383              		.cfi_offset 3, -16
 1384              		.cfi_offset 4, -12
 1385              		.cfi_offset 5, -8
 1386              		.cfi_offset 14, -4
 262:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_switchToMotionMode(motor, TMC4671_MOTION_MODE_POSITION);
 1387              		.loc 1 262 1 view .LVU309
 1388 02dc 0446     		mov	r4, r0
 1389 02de 0D46     		mov	r5, r1
 1390              		.loc 1 263 2 view .LVU310
 1391 02e0 0321     		movs	r1, #3
 1392              	.LVL134:
 1393              		.loc 1 263 2 view .LVU311
 1394 02e2 FFF7FEFF 		bl	tmc4671_switchToMotionMode
 1395              	.LVL135:
 264:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// determine actual position and add relative position ticks
 265:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_POSITION_TARGET, (int32_t) tmc4671_readInt(motor, TMC4671_PID_
 1396              		.loc 1 265 2 is_stmt 1 view .LVU312
 1397              		.loc 1 265 65 is_stmt 0 view .LVU313
 1398 02e6 6B21     		movs	r1, #107
 1399 02e8 2046     		mov	r0, r4
 1400 02ea FFF7FEFF 		bl	tmc4671_readInt
 1401              	.LVL136:
 1402              		.loc 1 265 2 view .LVU314
 1403 02ee 6821     		movs	r1, #104
 1404 02f0 4219     		adds	r2, r0, r5
 1405 02f2 2046     		mov	r0, r4
 266:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1406              		.loc 1 266 1 view .LVU315
 1407 02f4 BDE83840 		pop	{r3, r4, r5, lr}
 1408              	.LCFI29:
 1409              		.cfi_restore 14
 1410              		.cfi_restore 5
 1411              		.cfi_restore 4
 1412              		.cfi_restore 3
 1413              		.cfi_def_cfa_offset 0
 1414              	.LVL137:
 265:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1415              		.loc 1 265 2 view .LVU316
 1416 02f8 FFF7FEBF 		b	tmc4671_writeInt
 1417              	.LVL138:
 1418              		.cfi_endproc
 1419              	.LFE28:
 1421              		.align	1
 1422              		.global	tmc4671_getTargetPosition
 1423              		.syntax unified
 1424              		.thumb
 1425              		.thumb_func
 1426              		.fpu softvfp
 1428              	tmc4671_getTargetPosition:
 1429              	.LVL139:
 1430              	.LFB29:
 267:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 268:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getTargetPosition(uint8_t motor)
 269:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1431              		.loc 1 269 1 is_stmt 1 view -0
 1432              		.cfi_startproc
 1433              		@ args = 0, pretend = 0, frame = 0
 1434              		@ frame_needed = 0, uses_anonymous_args = 0
 1435              		@ link register save eliminated.
 270:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (int32_t) tmc4671_readInt(motor, TMC4671_PID_POSITION_TARGET);
 1436              		.loc 1 270 2 view .LVU318
 1437              		.loc 1 270 19 is_stmt 0 view .LVU319
 1438 02fc 6821     		movs	r1, #104
 1439 02fe FFF7FEBF 		b	tmc4671_readInt
 1440              	.LVL140:
 1441              		.loc 1 270 19 view .LVU320
 1442              		.cfi_endproc
 1443              	.LFE29:
 1445              		.align	1
 1446              		.global	tmc4671_setActualPosition
 1447              		.syntax unified
 1448              		.thumb
 1449              		.thumb_func
 1450              		.fpu softvfp
 1452              	tmc4671_setActualPosition:
 1453              	.LVL141:
 1454              	.LFB30:
 271:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 272:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 273:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setActualPosition(uint8_t motor, int32_t actualPosition)
 274:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1455              		.loc 1 274 1 is_stmt 1 view -0
 1456              		.cfi_startproc
 1457              		@ args = 0, pretend = 0, frame = 0
 1458              		@ frame_needed = 0, uses_anonymous_args = 0
 1459              		@ link register save eliminated.
 275:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_POSITION_ACTUAL, actualPosition);
 1460              		.loc 1 275 2 view .LVU322
 274:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_POSITION_ACTUAL, actualPosition);
 1461              		.loc 1 274 1 is_stmt 0 view .LVU323
 1462 0302 0A46     		mov	r2, r1
 1463              		.loc 1 275 2 view .LVU324
 1464 0304 6B21     		movs	r1, #107
 1465              	.LVL142:
 1466              		.loc 1 275 2 view .LVU325
 1467 0306 FFF7FEBF 		b	tmc4671_writeInt
 1468              	.LVL143:
 1469              		.loc 1 275 2 view .LVU326
 1470              		.cfi_endproc
 1471              	.LFE30:
 1473              		.align	1
 1474              		.global	tmc4671_getActualPosition
 1475              		.syntax unified
 1476              		.thumb
 1477              		.thumb_func
 1478              		.fpu softvfp
 1480              	tmc4671_getActualPosition:
 1481              	.LVL144:
 1482              	.LFB31:
 276:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 277:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 278:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualPosition(uint8_t motor)
 279:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1483              		.loc 1 279 1 is_stmt 1 view -0
 1484              		.cfi_startproc
 1485              		@ args = 0, pretend = 0, frame = 0
 1486              		@ frame_needed = 0, uses_anonymous_args = 0
 1487              		@ link register save eliminated.
 280:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (int32_t) tmc4671_readInt(motor, TMC4671_PID_POSITION_ACTUAL);
 1488              		.loc 1 280 2 view .LVU328
 1489              		.loc 1 280 19 is_stmt 0 view .LVU329
 1490 030a 6B21     		movs	r1, #107
 1491 030c FFF7FEBF 		b	tmc4671_readInt
 1492              	.LVL145:
 1493              		.loc 1 280 19 view .LVU330
 1494              		.cfi_endproc
 1495              	.LFE31:
 1497              		.align	1
 1498              		.global	tmc4671_getActualRampPosition
 1499              		.syntax unified
 1500              		.thumb
 1501              		.thumb_func
 1502              		.fpu softvfp
 1504              	tmc4671_getActualRampPosition:
 1505              	.LFB57:
 1506              		.cfi_startproc
 1507              		@ args = 0, pretend = 0, frame = 0
 1508              		@ frame_needed = 0, uses_anonymous_args = 0
 1509              		@ link register save eliminated.
 1510 0310 0020     		movs	r0, #0
 1511 0312 7047     		bx	lr
 1512              		.cfi_endproc
 1513              	.LFE57:
 1515              		.align	1
 1516              		.global	tmc4671_doEncoderInitializationMode0
 1517              		.syntax unified
 1518              		.thumb
 1519              		.thumb_func
 1520              		.fpu softvfp
 1522              	tmc4671_doEncoderInitializationMode0:
 1523              	.LVL146:
 1524              	.LFB33:
 281:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 282:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 283:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_getActualRampPosition(uint8_t motor)
 284:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 285:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	UNUSED(motor);
 286:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// no ramp implemented
 287:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return 0;
 288:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 289:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 290:TMC-API/tmc/ic/TMC4671/TMC4671.c **** // encoder initialization
 291:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_doEncoderInitializationMode0(uint8_t motor, uint8_t *initState, uint16_t initWaitTime,
 292:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1525              		.loc 1 292 1 is_stmt 1 view -0
 1526              		.cfi_startproc
 1527              		@ args = 4, pretend = 0, frame = 0
 1528              		@ frame_needed = 0, uses_anonymous_args = 0
 293:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static uint16_t last_Phi_E_Selection = 0;
 1529              		.loc 1 293 2 view .LVU332
 294:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static uint32_t last_UQ_UD_EXT = 0;
 1530              		.loc 1 294 2 view .LVU333
 295:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static int16_t last_PHI_E_EXT = 0;
 1531              		.loc 1 295 2 view .LVU334
 296:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 297:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	switch (*initState)
 1532              		.loc 1 297 2 view .LVU335
 292:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static uint16_t last_Phi_E_Selection = 0;
 1533              		.loc 1 292 1 is_stmt 0 view .LVU336
 1534 0314 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1535              	.LCFI30:
 1536              		.cfi_def_cfa_offset 24
 1537              		.cfi_offset 3, -24
 1538              		.cfi_offset 4, -20
 1539              		.cfi_offset 5, -16
 1540              		.cfi_offset 6, -12
 1541              		.cfi_offset 7, -8
 1542              		.cfi_offset 14, -4
 1543              		.loc 1 297 10 view .LVU337
 1544 0316 0D78     		ldrb	r5, [r1]	@ zero_extendqisi2
 1545              		.loc 1 297 2 view .LVU338
 1546 0318 012D     		cmp	r5, #1
 292:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static uint16_t last_Phi_E_Selection = 0;
 1547              		.loc 1 292 1 view .LVU339
 1548 031a 0446     		mov	r4, r0
 1549 031c 0E46     		mov	r6, r1
 1550              		.loc 1 297 2 view .LVU340
 1551 031e 05D0     		beq	.L47
 1552 0320 022D     		cmp	r5, #2
 1553 0322 34D0     		beq	.L48
 1554 0324 002D     		cmp	r5, #0
 1555 0326 50D1     		bne	.L49
 298:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 299:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case STATE_NOTHING_TO_DO:
 300:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		*actualInitWaitTime = 0;
 1556              		.loc 1 300 3 is_stmt 1 view .LVU341
 1557              		.loc 1 300 23 is_stmt 0 view .LVU342
 1558 0328 1D80     		strh	r5, [r3]	@ movhi
 301:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1559              		.loc 1 301 3 is_stmt 1 view .LVU343
 1560              	.LVL147:
 1561              	.L46:
 302:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case STATE_START_INIT: // started by writing 1 to initState
 303:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 304:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// save actual set values for PHI_E_SELECTION, UQ_UD_EXT, and PHI_E_EXT
 305:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		last_Phi_E_Selection = (uint16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PHI_E_SELECTION, 
 306:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		last_UQ_UD_EXT = (uint32_t) tmc4671_readInt(motor, TMC4671_UQ_UD_EXT);
 307:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		last_PHI_E_EXT = (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PHI_E_EXT, BIT_0_TO_15);
 308:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 309:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// set ABN_DECODER_PHI_E_OFFSET to zero
 310:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeRegister16BitValue(motor, TMC4671_ABN_DECODER_PHI_E_PHI_M_OFFSET, BIT_16_TO_31, 0);
 311:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 312:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// select phi_e_ext
 313:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeRegister16BitValue(motor, TMC4671_PHI_E_SELECTION, BIT_0_TO_15, 1);
 314:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 315:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// set an initialization voltage on UD_EXT (to the flux, not the torque!)
 316:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeRegister16BitValue(motor, TMC4671_UQ_UD_EXT, BIT_16_TO_31, 0);
 317:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeRegister16BitValue(motor, TMC4671_UQ_UD_EXT, BIT_0_TO_15, startVoltage);
 318:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 319:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// set the "zero" angle
 320:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeRegister16BitValue(motor, TMC4671_PHI_E_EXT, BIT_0_TO_15, 0);
 321:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 322:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		*initState = STATE_WAIT_INIT_TIME;
 323:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 324:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case STATE_WAIT_INIT_TIME:
 325:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// wait until initialization time is over (until no more vibration on the motor)
 326:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		(*actualInitWaitTime)++;
 327:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		if(*actualInitWaitTime >= initWaitTime)
 328:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 329:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// set internal encoder value to zero
 330:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			tmc4671_writeInt(motor, TMC4671_ABN_DECODER_COUNT, 0);
 331:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 332:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// switch back to last used UQ_UD_EXT setting
 333:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			tmc4671_writeInt(motor, TMC4671_UQ_UD_EXT, last_UQ_UD_EXT);
 334:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 335:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// set PHI_E_EXT back to last value
 336:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			tmc4671_writeRegister16BitValue(motor, TMC4671_PHI_E_EXT, BIT_0_TO_15, last_PHI_E_EXT);
 337:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 338:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// switch back to last used PHI_E_SELECTION setting
 339:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			tmc4671_writeRegister16BitValue(motor, TMC4671_PHI_E_SELECTION, BIT_0_TO_15, last_Phi_E_Selectio
 340:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 341:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// go to next state
 342:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			*initState = STATE_ESTIMATE_OFFSET;
 343:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 344:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 345:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case STATE_ESTIMATE_OFFSET:
 346:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// you can do offset estimation here (wait for N-Channel if available and save encoder value)
 347:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 348:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// go to ready state
 349:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		*initState = 0;
 350:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 351:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	default:
 352:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		*initState = 0;
 353:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 354:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
 355:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1562              		.loc 1 355 1 is_stmt 0 view .LVU344
 1563 032a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1564              	.LVL148:
 1565              	.L47:
 305:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		last_UQ_UD_EXT = (uint32_t) tmc4671_readInt(motor, TMC4671_UQ_UD_EXT);
 1566              		.loc 1 305 3 is_stmt 1 view .LVU345
 1567              	.LBB39:
 1568              	.LBI39:
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1569              		.loc 1 51 10 view .LVU346
 1570              	.LBB40:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1571              		.loc 1 53 2 view .LVU347
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1572              		.loc 1 53 26 is_stmt 0 view .LVU348
 1573 032c 5221     		movs	r1, #82
 1574              	.LVL149:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1575              		.loc 1 53 26 view .LVU349
 1576 032e FFF7FEFF 		bl	tmc4671_readInt
 1577              	.LVL150:
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 1578              		.loc 1 56 2 is_stmt 1 view .LVU350
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1579              		.loc 1 59 3 view .LVU351
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1580              		.loc 1 59 3 is_stmt 0 view .LVU352
 1581              	.LBE40:
 1582              	.LBE39:
 305:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		last_UQ_UD_EXT = (uint32_t) tmc4671_readInt(motor, TMC4671_UQ_UD_EXT);
 1583              		.loc 1 305 24 view .LVU353
 1584 0332 274F     		ldr	r7, .L52
 306:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		last_PHI_E_EXT = (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PHI_E_EXT, BIT_0_TO_15);
 1585              		.loc 1 306 31 view .LVU354
 1586 0334 2421     		movs	r1, #36
 1587              	.LBB42:
 1588              	.LBB41:
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1589              		.loc 1 59 25 view .LVU355
 1590 0336 3880     		strh	r0, [r7]	@ movhi
 1591              	.LBE41:
 1592              	.LBE42:
 306:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		last_PHI_E_EXT = (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PHI_E_EXT, BIT_0_TO_15);
 1593              		.loc 1 306 3 is_stmt 1 view .LVU356
 306:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		last_PHI_E_EXT = (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PHI_E_EXT, BIT_0_TO_15);
 1594              		.loc 1 306 31 is_stmt 0 view .LVU357
 1595 0338 2046     		mov	r0, r4
 1596 033a FFF7FEFF 		bl	tmc4671_readInt
 1597              	.LVL151:
 1598              	.LBB43:
 1599              	.LBB44:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1600              		.loc 1 53 26 view .LVU358
 1601 033e 1C21     		movs	r1, #28
 1602              	.LBE44:
 1603              	.LBE43:
 306:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		last_PHI_E_EXT = (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_PHI_E_EXT, BIT_0_TO_15);
 1604              		.loc 1 306 18 view .LVU359
 1605 0340 7860     		str	r0, [r7, #4]
 307:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1606              		.loc 1 307 3 is_stmt 1 view .LVU360
 1607              	.LVL152:
 1608              	.LBB46:
 1609              	.LBI43:
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1610              		.loc 1 51 10 view .LVU361
 1611              	.LBB45:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1612              		.loc 1 53 2 view .LVU362
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1613              		.loc 1 53 26 is_stmt 0 view .LVU363
 1614 0342 2046     		mov	r0, r4
 1615 0344 FFF7FEFF 		bl	tmc4671_readInt
 1616              	.LVL153:
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 1617              		.loc 1 56 2 is_stmt 1 view .LVU364
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1618              		.loc 1 59 3 view .LVU365
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1619              		.loc 1 59 3 is_stmt 0 view .LVU366
 1620              	.LBE45:
 1621              	.LBE46:
 310:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1622              		.loc 1 310 3 view .LVU367
 1623 0348 0023     		movs	r3, #0
 307:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1624              		.loc 1 307 20 view .LVU368
 1625 034a 3881     		strh	r0, [r7, #8]	@ movhi
 310:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1626              		.loc 1 310 3 is_stmt 1 view .LVU369
 1627 034c 2A46     		mov	r2, r5
 1628 034e 2921     		movs	r1, #41
 1629 0350 2046     		mov	r0, r4
 1630 0352 FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 1631              	.LVL154:
 313:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1632              		.loc 1 313 3 view .LVU370
 1633 0356 2B46     		mov	r3, r5
 1634 0358 0022     		movs	r2, #0
 1635 035a 5221     		movs	r1, #82
 1636 035c 2046     		mov	r0, r4
 1637 035e FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 1638              	.LVL155:
 316:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeRegister16BitValue(motor, TMC4671_UQ_UD_EXT, BIT_0_TO_15, startVoltage);
 1639              		.loc 1 316 3 view .LVU371
 1640 0362 0023     		movs	r3, #0
 1641 0364 2A46     		mov	r2, r5
 1642 0366 2421     		movs	r1, #36
 1643 0368 2046     		mov	r0, r4
 1644 036a FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 1645              	.LVL156:
 317:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1646              		.loc 1 317 3 view .LVU372
 1647 036e BDF81830 		ldrh	r3, [sp, #24]
 1648 0372 0022     		movs	r2, #0
 1649 0374 2421     		movs	r1, #36
 1650 0376 2046     		mov	r0, r4
 1651 0378 FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 1652              	.LVL157:
 320:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1653              		.loc 1 320 3 view .LVU373
 1654 037c 0023     		movs	r3, #0
 1655 037e 1A46     		mov	r2, r3
 1656 0380 1C21     		movs	r1, #28
 1657 0382 2046     		mov	r0, r4
 1658 0384 FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 1659              	.LVL158:
 322:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1660              		.loc 1 322 3 view .LVU374
 322:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1661              		.loc 1 322 14 is_stmt 0 view .LVU375
 1662 0388 0223     		movs	r3, #2
 1663              	.L51:
 349:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1664              		.loc 1 349 14 view .LVU376
 1665 038a 3370     		strb	r3, [r6]
 350:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	default:
 1666              		.loc 1 350 3 is_stmt 1 view .LVU377
 1667              		.loc 1 355 1 is_stmt 0 view .LVU378
 1668 038c CDE7     		b	.L46
 1669              	.LVL159:
 1670              	.L48:
 326:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		if(*actualInitWaitTime >= initWaitTime)
 1671              		.loc 1 326 3 is_stmt 1 view .LVU379
 326:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		if(*actualInitWaitTime >= initWaitTime)
 1672              		.loc 1 326 24 is_stmt 0 view .LVU380
 1673 038e 1988     		ldrh	r1, [r3]
 1674              	.LVL160:
 326:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		if(*actualInitWaitTime >= initWaitTime)
 1675              		.loc 1 326 24 view .LVU381
 1676 0390 0131     		adds	r1, r1, #1
 1677 0392 89B2     		uxth	r1, r1
 327:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 1678              		.loc 1 327 5 view .LVU382
 1679 0394 9142     		cmp	r1, r2
 326:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		if(*actualInitWaitTime >= initWaitTime)
 1680              		.loc 1 326 24 view .LVU383
 1681 0396 1980     		strh	r1, [r3]	@ movhi
 327:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 1682              		.loc 1 327 3 is_stmt 1 view .LVU384
 327:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 1683              		.loc 1 327 5 is_stmt 0 view .LVU385
 1684 0398 C7D3     		bcc	.L46
 330:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1685              		.loc 1 330 4 is_stmt 1 view .LVU386
 333:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1686              		.loc 1 333 4 is_stmt 0 view .LVU387
 1687 039a 0D4D     		ldr	r5, .L52
 330:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1688              		.loc 1 330 4 view .LVU388
 1689 039c 0022     		movs	r2, #0
 1690              	.LVL161:
 330:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1691              		.loc 1 330 4 view .LVU389
 1692 039e 2721     		movs	r1, #39
 1693 03a0 FFF7FEFF 		bl	tmc4671_writeInt
 1694              	.LVL162:
 333:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1695              		.loc 1 333 4 is_stmt 1 view .LVU390
 1696 03a4 6A68     		ldr	r2, [r5, #4]
 1697 03a6 2421     		movs	r1, #36
 1698 03a8 2046     		mov	r0, r4
 1699 03aa FFF7FEFF 		bl	tmc4671_writeInt
 1700              	.LVL163:
 336:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1701              		.loc 1 336 4 view .LVU391
 1702 03ae 2B89     		ldrh	r3, [r5, #8]
 1703 03b0 0022     		movs	r2, #0
 1704 03b2 1C21     		movs	r1, #28
 1705 03b4 2046     		mov	r0, r4
 1706 03b6 FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 1707              	.LVL164:
 339:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1708              		.loc 1 339 4 view .LVU392
 1709 03ba 2B88     		ldrh	r3, [r5]
 1710 03bc 0022     		movs	r2, #0
 1711 03be 5221     		movs	r1, #82
 1712 03c0 2046     		mov	r0, r4
 1713 03c2 FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 1714              	.LVL165:
 342:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 1715              		.loc 1 342 4 view .LVU393
 342:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 1716              		.loc 1 342 15 is_stmt 0 view .LVU394
 1717 03c6 0323     		movs	r3, #3
 1718 03c8 DFE7     		b	.L51
 1719              	.LVL166:
 1720              	.L49:
 349:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1721              		.loc 1 349 3 is_stmt 1 view .LVU395
 349:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1722              		.loc 1 349 14 is_stmt 0 view .LVU396
 1723 03ca 0023     		movs	r3, #0
 1724              	.LVL167:
 349:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1725              		.loc 1 349 14 view .LVU397
 1726 03cc DDE7     		b	.L51
 1727              	.L53:
 1728 03ce 00BF     		.align	2
 1729              	.L52:
 1730 03d0 00000000 		.word	.LANCHOR0
 1731              		.cfi_endproc
 1732              	.LFE33:
 1734              		.align	1
 1735              		.global	tmc4671_getS16CircleDifference
 1736              		.syntax unified
 1737              		.thumb
 1738              		.thumb_func
 1739              		.fpu softvfp
 1741              	tmc4671_getS16CircleDifference:
 1742              	.LVL168:
 1743              	.LFB34:
 356:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 357:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int16_t tmc4671_getS16CircleDifference(int16_t newValue, int16_t oldValue)
 358:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1744              		.loc 1 358 1 is_stmt 1 view -0
 1745              		.cfi_startproc
 1746              		@ args = 0, pretend = 0, frame = 0
 1747              		@ frame_needed = 0, uses_anonymous_args = 0
 1748              		@ link register save eliminated.
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return (newValue - oldValue);
 1749              		.loc 1 359 2 view .LVU399
 1750              		.loc 1 359 19 is_stmt 0 view .LVU400
 1751 03d4 401A     		subs	r0, r0, r1
 1752              	.LVL169:
 360:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1753              		.loc 1 360 1 view .LVU401
 1754 03d6 00B2     		sxth	r0, r0
 1755 03d8 7047     		bx	lr
 1756              		.cfi_endproc
 1757              	.LFE34:
 1759              		.align	1
 1760              		.global	tmc4671_doEncoderInitializationMode2
 1761              		.syntax unified
 1762              		.thumb
 1763              		.thumb_func
 1764              		.fpu softvfp
 1766              	tmc4671_doEncoderInitializationMode2:
 1767              	.LVL170:
 1768              	.LFB35:
 361:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 362:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_doEncoderInitializationMode2(uint8_t motor, uint8_t *initState, uint16_t *actualInitWa
 363:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1769              		.loc 1 363 1 is_stmt 1 view -0
 1770              		.cfi_startproc
 1771              		@ args = 0, pretend = 0, frame = 0
 1772              		@ frame_needed = 0, uses_anonymous_args = 0
 364:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static int16_t hall_phi_e_old = 0;
 1773              		.loc 1 364 2 view .LVU403
 365:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static int16_t hall_phi_e_new = 0;
 1774              		.loc 1 365 2 view .LVU404
 366:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static int16_t actual_coarse_offset = 0;
 1775              		.loc 1 366 2 view .LVU405
 367:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 368:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	switch (*initState)
 1776              		.loc 1 368 2 view .LVU406
 363:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static int16_t hall_phi_e_old = 0;
 1777              		.loc 1 363 1 is_stmt 0 view .LVU407
 1778 03da 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1779              	.LCFI31:
 1780              		.cfi_def_cfa_offset 24
 1781              		.cfi_offset 4, -24
 1782              		.cfi_offset 5, -20
 1783              		.cfi_offset 6, -16
 1784              		.cfi_offset 7, -12
 1785              		.cfi_offset 8, -8
 1786              		.cfi_offset 14, -4
 1787              		.loc 1 368 10 view .LVU408
 1788 03de 0E78     		ldrb	r6, [r1]	@ zero_extendqisi2
 1789              		.loc 1 368 2 view .LVU409
 1790 03e0 012E     		cmp	r6, #1
 363:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static int16_t hall_phi_e_old = 0;
 1791              		.loc 1 363 1 view .LVU410
 1792 03e2 0546     		mov	r5, r0
 1793 03e4 0F46     		mov	r7, r1
 1794              		.loc 1 368 2 view .LVU411
 1795 03e6 06D0     		beq	.L56
 1796 03e8 022E     		cmp	r6, #2
 1797 03ea 2DD0     		beq	.L57
 1798 03ec 002E     		cmp	r6, #0
 1799 03ee 4DD1     		bne	.L58
 369:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 370:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case STATE_NOTHING_TO_DO:
 371:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		*actualInitWaitTime = 0;
 1800              		.loc 1 371 3 is_stmt 1 view .LVU412
 1801              		.loc 1 371 23 is_stmt 0 view .LVU413
 1802 03f0 1680     		strh	r6, [r2]	@ movhi
 372:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1803              		.loc 1 372 3 is_stmt 1 view .LVU414
 1804              	.LVL171:
 1805              	.L55:
 373:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case STATE_START_INIT: // started by writing 1 to initState
 374:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// turn hall_mode interpolation off (read, clear bit 8, write back)
 375:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeInt(motor, TMC4671_HALL_MODE, tmc4671_readInt(motor, TMC4671_HALL_MODE) & 0xFFFFFEFF
 376:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 377:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// set ABN_DECODER_PHI_E_OFFSET to zero
 378:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeRegister16BitValue(motor, TMC4671_ABN_DECODER_PHI_E_PHI_M_OFFSET, BIT_16_TO_31, 0);
 379:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 380:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// read actual hall angle
 381:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		hall_phi_e_old = (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_HALL_PHI_E_INTERPOLATED_
 382:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 383:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// read actual abn_decoder angle and compute difference to actual hall angle
 384:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		actual_coarse_offset = tmc4671_getS16CircleDifference(hall_phi_e_old, (int16_t) tmc4671_readRegis
 385:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 386:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// set ABN_DECODER_PHI_E_OFFSET to actual hall-abn-difference, to use the actual hall angle for c
 387:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeRegister16BitValue(motor, TMC4671_ABN_DECODER_PHI_E_PHI_M_OFFSET, BIT_16_TO_31, actu
 388:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 389:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		*initState = STATE_WAIT_INIT_TIME;
 390:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 391:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case STATE_WAIT_INIT_TIME:
 392:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// read actual hall angle
 393:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		hall_phi_e_new = (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_HALL_PHI_E_INTERPOLATED_
 394:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 395:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// wait until hall angle changed
 396:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		if(hall_phi_e_old != hall_phi_e_new)
 397:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 398:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// estimated value = old value + diff between old and new (handle int16_t overrun)
 399:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			int16_t hall_phi_e_estimated = hall_phi_e_old + tmc4671_getS16CircleDifference(hall_phi_e_new, h
 400:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 401:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// read actual abn_decoder angle and consider last set abn_decoder_offset
 402:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			int16_t abn_phi_e_actual = (int16_t) tmc4671_readRegister16BitValue(motor, TMC4671_ABN_DECODER_P
 403:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 404:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// set ABN_DECODER_PHI_E_OFFSET to actual estimated angle - abn_phi_e_actual difference
 405:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			tmc4671_writeRegister16BitValue(motor, TMC4671_ABN_DECODER_PHI_E_PHI_M_OFFSET, BIT_16_TO_31, tmc
 406:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 407:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// go to ready state
 408:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			*initState = 0;
 409:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 410:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 411:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	default:
 412:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		*initState = 0;
 413:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 414:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
 415:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1806              		.loc 1 415 1 is_stmt 0 view .LVU415
 1807 03f2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1808              	.LVL172:
 1809              	.L56:
 375:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1810              		.loc 1 375 3 is_stmt 1 view .LVU416
 375:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1811              		.loc 1 375 46 is_stmt 0 view .LVU417
 1812 03f6 3321     		movs	r1, #51
 1813              	.LVL173:
 375:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1814              		.loc 1 375 46 view .LVU418
 1815 03f8 FFF7FEFF 		bl	tmc4671_readInt
 1816              	.LVL174:
 375:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1817              		.loc 1 375 3 view .LVU419
 1818 03fc 3321     		movs	r1, #51
 1819 03fe 20F48072 		bic	r2, r0, #256
 1820 0402 2846     		mov	r0, r5
 1821 0404 FFF7FEFF 		bl	tmc4671_writeInt
 1822              	.LVL175:
 378:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1823              		.loc 1 378 3 is_stmt 1 view .LVU420
 1824 0408 0023     		movs	r3, #0
 1825 040a 3246     		mov	r2, r6
 1826 040c 2921     		movs	r1, #41
 1827 040e 2846     		mov	r0, r5
 1828 0410 FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 1829              	.LVL176:
 381:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1830              		.loc 1 381 3 view .LVU421
 1831              	.LBB47:
 1832              	.LBI47:
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1833              		.loc 1 51 10 view .LVU422
 1834              	.LBB48:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1835              		.loc 1 53 2 view .LVU423
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1836              		.loc 1 53 26 is_stmt 0 view .LVU424
 1837 0414 3921     		movs	r1, #57
 1838 0416 2846     		mov	r0, r5
 1839 0418 FFF7FEFF 		bl	tmc4671_readInt
 1840              	.LVL177:
 1841              	.LBE48:
 1842              	.LBE47:
 381:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1843              		.loc 1 381 18 view .LVU425
 1844 041c DFF87080 		ldr	r8, .L61
 1845              	.LBB50:
 1846              	.LBB49:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1847              		.loc 1 53 26 view .LVU426
 1848 0420 0446     		mov	r4, r0
 1849              	.LVL178:
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 1850              		.loc 1 56 2 is_stmt 1 view .LVU427
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1851              		.loc 1 59 3 view .LVU428
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1852              		.loc 1 59 3 is_stmt 0 view .LVU429
 1853              	.LBE49:
 1854              	.LBE50:
 381:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1855              		.loc 1 381 20 view .LVU430
 1856 0422 A8F80A00 		strh	r0, [r8, #10]	@ movhi
 384:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1857              		.loc 1 384 3 is_stmt 1 view .LVU431
 1858              	.LVL179:
 1859              	.LBB51:
 1860              	.LBI51:
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1861              		.loc 1 51 10 view .LVU432
 1862              	.LBB52:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1863              		.loc 1 53 2 view .LVU433
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1864              		.loc 1 53 26 is_stmt 0 view .LVU434
 1865 0426 2A21     		movs	r1, #42
 1866 0428 2846     		mov	r0, r5
 1867 042a FFF7FEFF 		bl	tmc4671_readInt
 1868              	.LVL180:
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 1869              		.loc 1 56 2 is_stmt 1 view .LVU435
  60:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case BIT_16_TO_31:
 1870              		.loc 1 60 3 view .LVU436
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1871              		.loc 1 62 3 view .LVU437
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1872              		.loc 1 62 3 is_stmt 0 view .LVU438
 1873              	.LBE52:
 1874              	.LBE51:
 1875              	.LBB53:
 1876              	.LBI53:
 357:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1877              		.loc 1 357 9 is_stmt 1 view .LVU439
 1878              	.LBB54:
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1879              		.loc 1 359 2 view .LVU440
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1880              		.loc 1 359 19 is_stmt 0 view .LVU441
 1881 042e A4EB1043 		sub	r3, r4, r0, lsr #16
 1882 0432 9BB2     		uxth	r3, r3
 1883              	.LVL181:
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1884              		.loc 1 359 19 view .LVU442
 1885              	.LBE54:
 1886              	.LBE53:
 387:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1887              		.loc 1 387 3 view .LVU443
 1888 0434 3246     		mov	r2, r6
 1889 0436 2921     		movs	r1, #41
 1890 0438 2846     		mov	r0, r5
 384:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1891              		.loc 1 384 24 view .LVU444
 1892 043a A8F80C30 		strh	r3, [r8, #12]	@ movhi
 387:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1893              		.loc 1 387 3 is_stmt 1 view .LVU445
 1894 043e FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 1895              	.LVL182:
 389:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1896              		.loc 1 389 3 view .LVU446
 389:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1897              		.loc 1 389 14 is_stmt 0 view .LVU447
 1898 0442 0223     		movs	r3, #2
 1899              	.L60:
 412:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1900              		.loc 1 412 14 view .LVU448
 1901 0444 3B70     		strb	r3, [r7]
 413:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
 1902              		.loc 1 413 3 is_stmt 1 view .LVU449
 1903              		.loc 1 415 1 is_stmt 0 view .LVU450
 1904 0446 D4E7     		b	.L55
 1905              	.LVL183:
 1906              	.L57:
 393:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1907              		.loc 1 393 3 is_stmt 1 view .LVU451
 1908              	.LBB55:
 1909              	.LBI55:
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1910              		.loc 1 51 10 view .LVU452
 1911              	.LBB56:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1912              		.loc 1 53 2 view .LVU453
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1913              		.loc 1 53 26 is_stmt 0 view .LVU454
 1914 0448 3921     		movs	r1, #57
 1915              	.LVL184:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1916              		.loc 1 53 26 view .LVU455
 1917 044a FFF7FEFF 		bl	tmc4671_readInt
 1918              	.LVL185:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1919              		.loc 1 53 26 view .LVU456
 1920              	.LBE56:
 1921              	.LBE55:
 396:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 1922              		.loc 1 396 21 view .LVU457
 1923 044e DFF84080 		ldr	r8, .L61
 1924 0452 B8F90A40 		ldrsh	r4, [r8, #10]
 396:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 1925              		.loc 1 396 5 view .LVU458
 1926 0456 03B2     		sxth	r3, r0
 1927 0458 A342     		cmp	r3, r4
 1928              	.LBB58:
 1929              	.LBB57:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1930              		.loc 1 53 26 view .LVU459
 1931 045a 0646     		mov	r6, r0
 1932              	.LVL186:
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 1933              		.loc 1 56 2 is_stmt 1 view .LVU460
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1934              		.loc 1 59 3 view .LVU461
  59:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1935              		.loc 1 59 3 is_stmt 0 view .LVU462
 1936              	.LBE57:
 1937              	.LBE58:
 396:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 1938              		.loc 1 396 3 is_stmt 1 view .LVU463
 396:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 1939              		.loc 1 396 5 is_stmt 0 view .LVU464
 1940 045c C9D0     		beq	.L55
 1941              	.LBB59:
 399:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1942              		.loc 1 399 4 is_stmt 1 view .LVU465
 1943              	.LVL187:
 1944              	.LBB60:
 1945              	.LBI60:
 357:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1946              		.loc 1 357 9 view .LVU466
 1947              	.LBB61:
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1948              		.loc 1 359 2 view .LVU467
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1949              		.loc 1 359 19 is_stmt 0 view .LVU468
 1950 045e A4B2     		uxth	r4, r4
 1951              	.LVL188:
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1952              		.loc 1 359 19 view .LVU469
 1953              	.LBE61:
 1954              	.LBE60:
 402:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1955              		.loc 1 402 4 is_stmt 1 view .LVU470
 1956              	.LBB63:
 1957              	.LBI63:
  51:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1958              		.loc 1 51 10 view .LVU471
 1959              	.LBB64:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1960              		.loc 1 53 2 view .LVU472
 1961              	.LBE64:
 1962              	.LBE63:
 1963              	.LBB66:
 1964              	.LBB62:
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1965              		.loc 1 359 19 is_stmt 0 view .LVU473
 1966 0460 361B     		subs	r6, r6, r4
 1967              	.LVL189:
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1968              		.loc 1 359 19 view .LVU474
 1969              	.LBE62:
 1970              	.LBE66:
 1971              	.LBB67:
 1972              	.LBB65:
  53:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1973              		.loc 1 53 26 view .LVU475
 1974 0462 2A21     		movs	r1, #42
 1975 0464 2846     		mov	r0, r5
 1976 0466 FFF7FEFF 		bl	tmc4671_readInt
 1977              	.LVL190:
  56:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 1978              		.loc 1 56 2 is_stmt 1 view .LVU476
  60:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	case BIT_16_TO_31:
 1979              		.loc 1 60 3 view .LVU477
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1980              		.loc 1 62 3 view .LVU478
  62:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 1981              		.loc 1 62 3 is_stmt 0 view .LVU479
 1982              	.LBE65:
 1983              	.LBE67:
 405:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1984              		.loc 1 405 4 is_stmt 1 view .LVU480
 1985              	.LBB68:
 1986              	.LBI68:
 357:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 1987              		.loc 1 357 9 view .LVU481
 1988              	.LBB69:
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1989              		.loc 1 359 2 view .LVU482
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1990              		.loc 1 359 2 is_stmt 0 view .LVU483
 1991              	.LBE69:
 1992              	.LBE68:
 399:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 1993              		.loc 1 399 50 view .LVU484
 1994 046a C6F3C033 		ubfx	r3, r6, #15, #1
 1995 046e 03FA86F6 		sxtah	r6, r3, r6
 1996              	.LBB71:
 1997              	.LBB70:
 359:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 1998              		.loc 1 359 19 view .LVU485
 1999 0472 B8F80C30 		ldrh	r3, [r8, #12]
 2000 0476 1C44     		add	r4, r4, r3
 2001 0478 04EB6604 		add	r4, r4, r6, asr #1
 2002 047c A4EB1044 		sub	r4, r4, r0, lsr #16
 2003              	.LBE70:
 2004              	.LBE71:
 405:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 2005              		.loc 1 405 4 view .LVU486
 2006 0480 A3B2     		uxth	r3, r4
 2007 0482 0122     		movs	r2, #1
 2008 0484 2921     		movs	r1, #41
 2009 0486 2846     		mov	r0, r5
 2010              	.LVL191:
 405:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 2011              		.loc 1 405 4 view .LVU487
 2012 0488 FFF7FEFF 		bl	tmc4671_writeRegister16BitValue
 2013              	.LVL192:
 408:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 2014              		.loc 1 408 4 is_stmt 1 view .LVU488
 2015              	.L58:
 408:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 2016              		.loc 1 408 4 is_stmt 0 view .LVU489
 2017              	.LBE59:
 412:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 2018              		.loc 1 412 3 is_stmt 1 view .LVU490
 412:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		break;
 2019              		.loc 1 412 14 is_stmt 0 view .LVU491
 2020 048c 0023     		movs	r3, #0
 2021 048e D9E7     		b	.L60
 2022              	.L62:
 2023              		.align	2
 2024              	.L61:
 2025 0490 00000000 		.word	.LANCHOR0
 2026              		.cfi_endproc
 2027              	.LFE35:
 2029              		.align	1
 2030              		.global	tmc4671_checkEncderInitialization
 2031              		.syntax unified
 2032              		.thumb
 2033              		.thumb_func
 2034              		.fpu softvfp
 2036              	tmc4671_checkEncderInitialization:
 2037              	.LVL193:
 2038              	.LFB36:
 416:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 417:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_checkEncderInitialization(uint8_t motor, uint32_t actualSystick, uint8_t initMode, uin
 418:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2039              		.loc 1 418 1 is_stmt 1 view -0
 2040              		.cfi_startproc
 2041              		@ args = 12, pretend = 0, frame = 0
 2042              		@ frame_needed = 0, uses_anonymous_args = 0
 419:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// use the systick as 1ms timer for encoder initialization
 420:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	static uint32_t lastSystick = 0;
 2043              		.loc 1 420 2 view .LVU493
 421:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	if(actualSystick != lastSystick)
 2044              		.loc 1 421 2 view .LVU494
 418:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// use the systick as 1ms timer for encoder initialization
 2045              		.loc 1 418 1 is_stmt 0 view .LVU495
 2046 0494 2DE9F743 		push	{r0, r1, r2, r4, r5, r6, r7, r8, r9, lr}
 2047              	.LCFI32:
 2048              		.cfi_def_cfa_offset 40
 2049              		.cfi_offset 4, -28
 2050              		.cfi_offset 5, -24
 2051              		.cfi_offset 6, -20
 2052              		.cfi_offset 7, -16
 2053              		.cfi_offset 8, -12
 2054              		.cfi_offset 9, -8
 2055              		.cfi_offset 14, -4
 2056              		.loc 1 421 19 view .LVU496
 2057 0498 104E     		ldr	r6, .L67
 418:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// use the systick as 1ms timer for encoder initialization
 2058              		.loc 1 418 1 view .LVU497
 2059 049a DDF82C90 		ldr	r9, [sp, #44]
 2060 049e 1C46     		mov	r4, r3
 2061              		.loc 1 421 4 view .LVU498
 2062 04a0 3369     		ldr	r3, [r6, #16]
 2063              	.LVL194:
 418:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// use the systick as 1ms timer for encoder initialization
 2064              		.loc 1 418 1 view .LVU499
 2065 04a2 0F46     		mov	r7, r1
 2066              		.loc 1 421 4 view .LVU500
 2067 04a4 BB42     		cmp	r3, r7
 418:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// use the systick as 1ms timer for encoder initialization
 2068              		.loc 1 418 1 view .LVU501
 2069 04a6 1546     		mov	r5, r2
 2070 04a8 BDF83010 		ldrh	r1, [sp, #48]
 2071              	.LVL195:
 418:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// use the systick as 1ms timer for encoder initialization
 2072              		.loc 1 418 1 view .LVU502
 2073 04ac BDF82820 		ldrh	r2, [sp, #40]
 2074              	.LVL196:
 418:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// use the systick as 1ms timer for encoder initialization
 2075              		.loc 1 418 1 view .LVU503
 2076 04b0 8046     		mov	r8, r0
 2077              		.loc 1 421 4 view .LVU504
 2078 04b2 06D0     		beq	.L64
 422:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 423:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		// needs timer to use the wait time
 424:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		if(initMode == 0)
 2079              		.loc 1 424 3 is_stmt 1 view .LVU505
 2080              		.loc 1 424 5 is_stmt 0 view .LVU506
 2081 04b4 25B9     		cbnz	r5, .L65
 425:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 426:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			tmc4671_doEncoderInitializationMode0(motor, initState, initWaitTime, actualInitWaitTime, startVo
 2082              		.loc 1 426 4 is_stmt 1 view .LVU507
 2083 04b6 0091     		str	r1, [sp]
 2084 04b8 4B46     		mov	r3, r9
 2085 04ba 2146     		mov	r1, r4
 2086 04bc FFF7FEFF 		bl	tmc4671_doEncoderInitializationMode0
 2087              	.LVL197:
 2088              	.L65:
 427:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 428:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		lastSystick = actualSystick;
 2089              		.loc 1 428 3 view .LVU508
 2090              		.loc 1 428 15 is_stmt 0 view .LVU509
 2091 04c0 3761     		str	r7, [r6, #16]
 2092              	.L64:
 429:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
 430:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 431:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// needs no timer
 432:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	if(initMode == 2)
 2093              		.loc 1 432 2 is_stmt 1 view .LVU510
 2094              		.loc 1 432 4 is_stmt 0 view .LVU511
 2095 04c2 022D     		cmp	r5, #2
 2096 04c4 07D1     		bne	.L63
 433:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 434:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_doEncoderInitializationMode2(motor, initState, actualInitWaitTime);
 2097              		.loc 1 434 3 is_stmt 1 view .LVU512
 2098 04c6 4A46     		mov	r2, r9
 2099 04c8 2146     		mov	r1, r4
 2100 04ca 4046     		mov	r0, r8
 435:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
 436:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2101              		.loc 1 436 1 is_stmt 0 view .LVU513
 2102 04cc 03B0     		add	sp, sp, #12
 2103              	.LCFI33:
 2104              		.cfi_remember_state
 2105              		.cfi_def_cfa_offset 28
 2106              		@ sp needed
 2107 04ce BDE8F043 		pop	{r4, r5, r6, r7, r8, r9, lr}
 2108              	.LCFI34:
 2109              		.cfi_restore 14
 2110              		.cfi_restore 9
 2111              		.cfi_restore 8
 2112              		.cfi_restore 7
 2113              		.cfi_restore 6
 2114              		.cfi_restore 5
 2115              		.cfi_restore 4
 2116              		.cfi_def_cfa_offset 0
 2117              	.LVL198:
 434:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
 2118              		.loc 1 434 3 view .LVU514
 2119 04d2 FFF7FEBF 		b	tmc4671_doEncoderInitializationMode2
 2120              	.LVL199:
 2121              	.L63:
 2122              	.LCFI35:
 2123              		.cfi_restore_state
 2124              		.loc 1 436 1 view .LVU515
 2125 04d6 03B0     		add	sp, sp, #12
 2126              	.LCFI36:
 2127              		.cfi_def_cfa_offset 28
 2128              		@ sp needed
 2129 04d8 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2130              	.LVL200:
 2131              	.L68:
 2132              		.loc 1 436 1 view .LVU516
 2133              		.align	2
 2134              	.L67:
 2135 04dc 00000000 		.word	.LANCHOR0
 2136              		.cfi_endproc
 2137              	.LFE36:
 2139              		.align	1
 2140              		.global	tmc4671_periodicJob
 2141              		.syntax unified
 2142              		.thumb
 2143              		.thumb_func
 2144              		.fpu softvfp
 2146              	tmc4671_periodicJob:
 2147              	.LVL201:
 2148              	.LFB37:
 437:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 438:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_periodicJob(uint8_t motor, uint32_t actualSystick, uint8_t initMode, uint8_t *initStat
 439:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2149              		.loc 1 439 1 is_stmt 1 view -0
 2150              		.cfi_startproc
 2151              		@ args = 12, pretend = 0, frame = 0
 2152              		@ frame_needed = 0, uses_anonymous_args = 0
 2153              		@ link register save eliminated.
 440:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_checkEncderInitialization(motor, actualSystick, initMode, initState, initWaitTime, actualI
 2154              		.loc 1 440 2 view .LVU518
 439:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_checkEncderInitialization(motor, actualSystick, initMode, initState, initWaitTime, actualI
 2155              		.loc 1 439 1 is_stmt 0 view .LVU519
 2156 04e0 30B4     		push	{r4, r5}
 2157              	.LCFI37:
 2158              		.cfi_def_cfa_offset 8
 2159              		.cfi_offset 4, -8
 2160              		.cfi_offset 5, -4
 439:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_checkEncderInitialization(motor, actualSystick, initMode, initState, initWaitTime, actualI
 2161              		.loc 1 439 1 view .LVU520
 2162 04e2 BDF80840 		ldrh	r4, [sp, #8]
 2163 04e6 BDF81050 		ldrh	r5, [sp, #16]
 2164              		.loc 1 440 2 view .LVU521
 2165 04ea 0495     		str	r5, [sp, #16]
 2166              	.LVL202:
 2167              		.loc 1 440 2 view .LVU522
 2168 04ec 0294     		str	r4, [sp, #8]
 2169              	.LVL203:
 441:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2170              		.loc 1 441 1 view .LVU523
 2171 04ee 30BC     		pop	{r4, r5}
 2172              	.LCFI38:
 2173              		.cfi_restore 5
 2174              		.cfi_restore 4
 2175              		.cfi_def_cfa_offset 0
 2176              	.LVL204:
 440:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_checkEncderInitialization(motor, actualSystick, initMode, initState, initWaitTime, actualI
 2177              		.loc 1 440 2 view .LVU524
 2178 04f0 FFF7FEBF 		b	tmc4671_checkEncderInitialization
 2179              	.LVL205:
 440:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_checkEncderInitialization(motor, actualSystick, initMode, initState, initWaitTime, actualI
 2180              		.loc 1 440 2 view .LVU525
 2181              		.cfi_endproc
 2182              	.LFE37:
 2184              		.align	1
 2185              		.global	tmc4671_startEncoderInitialization
 2186              		.syntax unified
 2187              		.thumb
 2188              		.thumb_func
 2189              		.fpu softvfp
 2191              	tmc4671_startEncoderInitialization:
 2192              	.LVL206:
 2193              	.LFB38:
 442:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 443:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_startEncoderInitialization(uint8_t mode, uint8_t *initMode, uint8_t *initState)
 444:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2194              		.loc 1 444 1 is_stmt 1 view -0
 2195              		.cfi_startproc
 2196              		@ args = 0, pretend = 0, frame = 0
 2197              		@ frame_needed = 0, uses_anonymous_args = 0
 2198              		@ link register save eliminated.
 445:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// allow only a new initialization if no actual initialization is running
 446:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	if(*initState == STATE_NOTHING_TO_DO)
 2199              		.loc 1 446 2 view .LVU527
 2200              		.loc 1 446 4 is_stmt 0 view .LVU528
 2201 04f4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2202 04f6 33B9     		cbnz	r3, .L70
 2203              	.LVL207:
 2204              	.LBB74:
 2205              	.LBI74:
 443:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2206              		.loc 1 443 6 is_stmt 1 view .LVU529
 2207              	.LBB75:
 447:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 448:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		if(mode == 0) // estimate offset
 2208              		.loc 1 448 3 view .LVU530
 2209              		.loc 1 448 5 is_stmt 0 view .LVU531
 2210 04f8 18B9     		cbnz	r0, .L72
 2211              	.L73:
 449:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 450:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// set mode
 451:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			*initMode = 0;
 452:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 453:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// start initialization
 454:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			*initState = 1;
 455:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 456:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		else if(mode == 2) // use hall sensor signals
 457:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 458:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// set mode
 459:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			*initMode = 2;
 2212              		.loc 1 459 4 is_stmt 1 view .LVU532
 460:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 461:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			// start initialization
 462:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			*initState = 1;
 2213              		.loc 1 462 15 is_stmt 0 view .LVU533
 2214 04fa 0123     		movs	r3, #1
 459:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 2215              		.loc 1 459 14 view .LVU534
 2216 04fc 0870     		strb	r0, [r1]
 2217              		.loc 1 462 4 is_stmt 1 view .LVU535
 2218              		.loc 1 462 15 is_stmt 0 view .LVU536
 2219 04fe 1370     		strb	r3, [r2]
 2220              	.LVL208:
 2221              		.loc 1 462 15 view .LVU537
 2222              	.LBE75:
 2223              	.LBE74:
 463:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 464:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
 465:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2224              		.loc 1 465 1 view .LVU538
 2225 0500 01E0     		b	.L70
 2226              	.LVL209:
 2227              	.L72:
 2228              	.LBB77:
 2229              	.LBB76:
 456:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 2230              		.loc 1 456 8 is_stmt 1 view .LVU539
 456:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 2231              		.loc 1 456 10 is_stmt 0 view .LVU540
 2232 0502 0228     		cmp	r0, #2
 2233 0504 F9D0     		beq	.L73
 2234              	.LVL210:
 2235              	.L70:
 456:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 2236              		.loc 1 456 10 view .LVU541
 2237              	.LBE76:
 2238              	.LBE77:
 2239              		.loc 1 465 1 view .LVU542
 2240 0506 7047     		bx	lr
 2241              		.cfi_endproc
 2242              	.LFE38:
 2244              		.align	1
 2245              		.global	tmc4671_updatePhiSelectionAndInitialize
 2246              		.syntax unified
 2247              		.thumb
 2248              		.thumb_func
 2249              		.fpu softvfp
 2251              	tmc4671_updatePhiSelectionAndInitialize:
 2252              	.LVL211:
 2253              	.LFB39:
 466:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 467:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_updatePhiSelectionAndInitialize(uint8_t motor, uint8_t actualPhiESelection, uint8_t de
 468:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2254              		.loc 1 468 1 is_stmt 1 view -0
 2255              		.cfi_startproc
 2256              		@ args = 4, pretend = 0, frame = 8
 2257              		@ frame_needed = 0, uses_anonymous_args = 0
 469:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	if (actualPhiESelection != desiredPhiESelection)
 2258              		.loc 1 469 2 view .LVU544
 468:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	if (actualPhiESelection != desiredPhiESelection)
 2259              		.loc 1 468 1 is_stmt 0 view .LVU545
 2260 0508 13B5     		push	{r0, r1, r4, lr}
 2261              	.LCFI39:
 2262              		.cfi_def_cfa_offset 16
 2263              		.cfi_offset 4, -8
 2264              		.cfi_offset 14, -4
 2265              		.loc 1 469 5 view .LVU546
 2266 050a 9142     		cmp	r1, r2
 468:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	if (actualPhiESelection != desiredPhiESelection)
 2267              		.loc 1 468 1 view .LVU547
 2268 050c 1446     		mov	r4, r2
 2269 050e 8DF80730 		strb	r3, [sp, #7]
 2270              		.loc 1 469 5 view .LVU548
 2271 0512 0BD0     		beq	.L74
 470:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	{
 471:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		tmc4671_writeInt(motor, TMC4671_PHI_E_SELECTION, desiredPhiESelection);
 2272              		.loc 1 471 3 is_stmt 1 view .LVU549
 2273 0514 5221     		movs	r1, #82
 2274              	.LVL212:
 2275              		.loc 1 471 3 is_stmt 0 view .LVU550
 2276 0516 FFF7FEFF 		bl	tmc4671_writeInt
 2277              	.LVL213:
 472:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 473:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		switch(desiredPhiESelection)
 2278              		.loc 1 473 3 is_stmt 1 view .LVU551
 2279 051a 032C     		cmp	r4, #3
 2280 051c 06D1     		bne	.L74
 474:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		{
 475:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 			case 3:
 476:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 				tmc4671_startEncoderInitialization(initMode, &initMode, initState);
 2281              		.loc 1 476 5 view .LVU552
 2282 051e 049A     		ldr	r2, [sp, #16]
 2283 0520 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 2284 0524 0DF10701 		add	r1, sp, #7
 2285 0528 FFF7FEFF 		bl	tmc4671_startEncoderInitialization
 2286              	.LVL214:
 477:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 				break;
 2287              		.loc 1 477 5 view .LVU553
 2288              	.L74:
 478:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 		}
 479:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	}
 480:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2289              		.loc 1 480 1 is_stmt 0 view .LVU554
 2290 052c 02B0     		add	sp, sp, #8
 2291              	.LCFI40:
 2292              		.cfi_def_cfa_offset 8
 2293              		@ sp needed
 2294 052e 10BD     		pop	{r4, pc}
 2295              		.loc 1 480 1 view .LVU555
 2296              		.cfi_endproc
 2297              	.LFE39:
 2299              		.align	1
 2300              		.global	tmc4671_disablePWM
 2301              		.syntax unified
 2302              		.thumb
 2303              		.thumb_func
 2304              		.fpu softvfp
 2306              	tmc4671_disablePWM:
 2307              	.LVL215:
 2308              	.LFB40:
 481:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 482:TMC-API/tmc/ic/TMC4671/TMC4671.c **** // =====
 483:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 484:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_disablePWM(uint8_t motor)
 485:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2309              		.loc 1 485 1 is_stmt 1 view -0
 2310              		.cfi_startproc
 2311              		@ args = 0, pretend = 0, frame = 0
 2312              		@ frame_needed = 0, uses_anonymous_args = 0
 2313              		@ link register save eliminated.
 486:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PWM_SV_CHOP, 0);
 2314              		.loc 1 486 2 view .LVU557
 2315 0530 0022     		movs	r2, #0
 2316 0532 1A21     		movs	r1, #26
 2317 0534 FFF7FEBF 		b	tmc4671_writeInt
 2318              	.LVL216:
 2319              		.loc 1 486 2 is_stmt 0 view .LVU558
 2320              		.cfi_endproc
 2321              	.LFE40:
 2323              		.align	1
 2324              		.global	tmc4671_getMotorType
 2325              		.syntax unified
 2326              		.thumb
 2327              		.thumb_func
 2328              		.fpu softvfp
 2330              	tmc4671_getMotorType:
 2331              	.LVL217:
 2332              	.LFB41:
 487:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 488:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 489:TMC-API/tmc/ic/TMC4671/TMC4671.c **** uint8_t tmc4671_getMotorType(uint8_t motor)
 490:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2333              		.loc 1 490 1 is_stmt 1 view -0
 2334              		.cfi_startproc
 2335              		@ args = 0, pretend = 0, frame = 0
 2336              		@ frame_needed = 0, uses_anonymous_args = 0
 491:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return FIELD_GET(tmc4671_readInt(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS), TMC4671_MOTOR_TYPE_MASK,
 2337              		.loc 1 491 2 view .LVU560
 490:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return FIELD_GET(tmc4671_readInt(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS), TMC4671_MOTOR_TYPE_MASK,
 2338              		.loc 1 490 1 is_stmt 0 view .LVU561
 2339 0538 08B5     		push	{r3, lr}
 2340              	.LCFI41:
 2341              		.cfi_def_cfa_offset 8
 2342              		.cfi_offset 3, -8
 2343              		.cfi_offset 14, -4
 2344              		.loc 1 491 9 view .LVU562
 2345 053a 1B21     		movs	r1, #27
 2346 053c FFF7FEFF 		bl	tmc4671_readInt
 2347              	.LVL218:
 492:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2348              		.loc 1 492 1 view .LVU563
 2349 0540 C0F30740 		ubfx	r0, r0, #16, #8
 2350 0544 08BD     		pop	{r3, pc}
 2351              		.cfi_endproc
 2352              	.LFE41:
 2354              		.align	1
 2355              		.global	tmc4671_setMotorType
 2356              		.syntax unified
 2357              		.thumb
 2358              		.thumb_func
 2359              		.fpu softvfp
 2361              	tmc4671_setMotorType:
 2362              	.LVL219:
 2363              	.LFB42:
 493:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 494:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setMotorType(uint8_t motor, uint8_t motorType)
 495:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2364              		.loc 1 495 1 is_stmt 1 view -0
 2365              		.cfi_startproc
 2366              		@ args = 0, pretend = 0, frame = 0
 2367              		@ frame_needed = 0, uses_anonymous_args = 0
 496:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_MOTOR_TYPE_MASK, TMC4671_MOTO
 2368              		.loc 1 496 2 view .LVU565
 495:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_MOTOR_TYPE_MASK, TMC4671_MOTO
 2369              		.loc 1 495 1 is_stmt 0 view .LVU566
 2370 0546 38B5     		push	{r3, r4, r5, lr}
 2371              	.LCFI42:
 2372              		.cfi_def_cfa_offset 16
 2373              		.cfi_offset 3, -16
 2374              		.cfi_offset 4, -12
 2375              		.cfi_offset 5, -8
 2376              		.cfi_offset 14, -4
 495:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_MOTOR_TYPE_MASK, TMC4671_MOTO
 2377              		.loc 1 495 1 view .LVU567
 2378 0548 0D46     		mov	r5, r1
 2379              		.loc 1 496 2 view .LVU568
 2380 054a 1B21     		movs	r1, #27
 2381              	.LVL220:
 495:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_MOTOR_TYPE_MASK, TMC4671_MOTO
 2382              		.loc 1 495 1 view .LVU569
 2383 054c 0446     		mov	r4, r0
 2384              		.loc 1 496 2 view .LVU570
 2385 054e FFF7FEFF 		bl	tmc4671_readInt
 2386              	.LVL221:
 2387              		.loc 1 496 2 view .LVU571
 2388 0552 20F47F00 		bic	r0, r0, #16711680
 2389 0556 40EA0542 		orr	r2, r0, r5, lsl #16
 2390 055a 1B21     		movs	r1, #27
 2391 055c 2046     		mov	r0, r4
 497:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2392              		.loc 1 497 1 view .LVU572
 2393 055e BDE83840 		pop	{r3, r4, r5, lr}
 2394              	.LCFI43:
 2395              		.cfi_restore 14
 2396              		.cfi_restore 5
 2397              		.cfi_restore 4
 2398              		.cfi_restore 3
 2399              		.cfi_def_cfa_offset 0
 496:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_MOTOR_TYPE_MASK, TMC4671_MOTO
 2400              		.loc 1 496 2 view .LVU573
 2401 0562 FFF7FEBF 		b	tmc4671_writeInt
 2402              	.LVL222:
 2403              		.cfi_endproc
 2404              	.LFE42:
 2406              		.align	1
 2407              		.global	tmc4671_getPolePairs
 2408              		.syntax unified
 2409              		.thumb
 2410              		.thumb_func
 2411              		.fpu softvfp
 2413              	tmc4671_getPolePairs:
 2414              	.LVL223:
 2415              	.LFB43:
 498:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 499:TMC-API/tmc/ic/TMC4671/TMC4671.c **** uint8_t tmc4671_getPolePairs(uint8_t motor)
 500:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2416              		.loc 1 500 1 is_stmt 1 view -0
 2417              		.cfi_startproc
 2418              		@ args = 0, pretend = 0, frame = 0
 2419              		@ frame_needed = 0, uses_anonymous_args = 0
 501:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return FIELD_GET(tmc4671_readInt(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS), TMC4671_N_POLE_PAIRS_MAS
 2420              		.loc 1 501 2 view .LVU575
 500:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return FIELD_GET(tmc4671_readInt(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS), TMC4671_N_POLE_PAIRS_MAS
 2421              		.loc 1 500 1 is_stmt 0 view .LVU576
 2422 0566 08B5     		push	{r3, lr}
 2423              	.LCFI44:
 2424              		.cfi_def_cfa_offset 8
 2425              		.cfi_offset 3, -8
 2426              		.cfi_offset 14, -4
 2427              		.loc 1 501 9 view .LVU577
 2428 0568 1B21     		movs	r1, #27
 2429 056a FFF7FEFF 		bl	tmc4671_readInt
 2430              	.LVL224:
 502:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2431              		.loc 1 502 1 view .LVU578
 2432 056e C0B2     		uxtb	r0, r0
 2433 0570 08BD     		pop	{r3, pc}
 2434              		.cfi_endproc
 2435              	.LFE43:
 2437              		.align	1
 2438              		.global	tmc4671_setPolePairs
 2439              		.syntax unified
 2440              		.thumb
 2441              		.thumb_func
 2442              		.fpu softvfp
 2444              	tmc4671_setPolePairs:
 2445              	.LVL225:
 2446              	.LFB44:
 503:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 504:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setPolePairs(uint8_t motor, uint8_t polePairs)
 505:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2447              		.loc 1 505 1 is_stmt 1 view -0
 2448              		.cfi_startproc
 2449              		@ args = 0, pretend = 0, frame = 0
 2450              		@ frame_needed = 0, uses_anonymous_args = 0
 506:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_N_POLE_PAIRS_MASK, TMC4671_N_
 2451              		.loc 1 506 2 view .LVU580
 505:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_N_POLE_PAIRS_MASK, TMC4671_N_
 2452              		.loc 1 505 1 is_stmt 0 view .LVU581
 2453 0572 38B5     		push	{r3, r4, r5, lr}
 2454              	.LCFI45:
 2455              		.cfi_def_cfa_offset 16
 2456              		.cfi_offset 3, -16
 2457              		.cfi_offset 4, -12
 2458              		.cfi_offset 5, -8
 2459              		.cfi_offset 14, -4
 505:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_N_POLE_PAIRS_MASK, TMC4671_N_
 2460              		.loc 1 505 1 view .LVU582
 2461 0574 0D46     		mov	r5, r1
 2462              		.loc 1 506 2 view .LVU583
 2463 0576 1B21     		movs	r1, #27
 2464              	.LVL226:
 505:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_N_POLE_PAIRS_MASK, TMC4671_N_
 2465              		.loc 1 505 1 view .LVU584
 2466 0578 0446     		mov	r4, r0
 2467              		.loc 1 506 2 view .LVU585
 2468 057a FFF7FEFF 		bl	tmc4671_readInt
 2469              	.LVL227:
 2470              		.loc 1 506 2 view .LVU586
 2471 057e 020C     		lsrs	r2, r0, #16
 2472 0580 1204     		lsls	r2, r2, #16
 2473 0582 2A43     		orrs	r2, r2, r5
 2474 0584 2046     		mov	r0, r4
 2475 0586 1B21     		movs	r1, #27
 507:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2476              		.loc 1 507 1 view .LVU587
 2477 0588 BDE83840 		pop	{r3, r4, r5, lr}
 2478              	.LCFI46:
 2479              		.cfi_restore 14
 2480              		.cfi_restore 5
 2481              		.cfi_restore 4
 2482              		.cfi_restore 3
 2483              		.cfi_def_cfa_offset 0
 506:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_MOTOR_TYPE_N_POLE_PAIRS, TMC4671_N_POLE_PAIRS_MASK, TMC4671_N_
 2484              		.loc 1 506 2 view .LVU588
 2485 058c FFF7FEBF 		b	tmc4671_writeInt
 2486              	.LVL228:
 2487              		.cfi_endproc
 2488              	.LFE44:
 2490              		.align	1
 2491              		.global	tmc4671_getAdcI0Offset
 2492              		.syntax unified
 2493              		.thumb
 2494              		.thumb_func
 2495              		.fpu softvfp
 2497              	tmc4671_getAdcI0Offset:
 2498              	.LVL229:
 2499              	.LFB45:
 508:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 509:TMC-API/tmc/ic/TMC4671/TMC4671.c **** uint16_t tmc4671_getAdcI0Offset(uint8_t motor)
 510:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2500              		.loc 1 510 1 is_stmt 1 view -0
 2501              		.cfi_startproc
 2502              		@ args = 0, pretend = 0, frame = 0
 2503              		@ frame_needed = 0, uses_anonymous_args = 0
 511:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return FIELD_GET(tmc4671_readInt(motor, TMC4671_ADC_I0_SCALE_OFFSET), TMC4671_ADC_I0_OFFSET_MASK, 
 2504              		.loc 1 511 2 view .LVU590
 510:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return FIELD_GET(tmc4671_readInt(motor, TMC4671_ADC_I0_SCALE_OFFSET), TMC4671_ADC_I0_OFFSET_MASK, 
 2505              		.loc 1 510 1 is_stmt 0 view .LVU591
 2506 0590 08B5     		push	{r3, lr}
 2507              	.LCFI47:
 2508              		.cfi_def_cfa_offset 8
 2509              		.cfi_offset 3, -8
 2510              		.cfi_offset 14, -4
 2511              		.loc 1 511 9 view .LVU592
 2512 0592 0921     		movs	r1, #9
 2513 0594 FFF7FEFF 		bl	tmc4671_readInt
 2514              	.LVL230:
 512:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2515              		.loc 1 512 1 view .LVU593
 2516 0598 80B2     		uxth	r0, r0
 2517 059a 08BD     		pop	{r3, pc}
 2518              		.cfi_endproc
 2519              	.LFE45:
 2521              		.align	1
 2522              		.global	tmc4671_setAdcI0Offset
 2523              		.syntax unified
 2524              		.thumb
 2525              		.thumb_func
 2526              		.fpu softvfp
 2528              	tmc4671_setAdcI0Offset:
 2529              	.LVL231:
 2530              	.LFB46:
 513:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 514:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setAdcI0Offset(uint8_t motor, uint16_t offset)
 515:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2531              		.loc 1 515 1 is_stmt 1 view -0
 2532              		.cfi_startproc
 2533              		@ args = 0, pretend = 0, frame = 0
 2534              		@ frame_needed = 0, uses_anonymous_args = 0
 516:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I0_SCALE_OFFSET, TMC4671_ADC_I0_OFFSET_MASK, TMC4671_ADC_I
 2535              		.loc 1 516 2 view .LVU595
 515:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I0_SCALE_OFFSET, TMC4671_ADC_I0_OFFSET_MASK, TMC4671_ADC_I
 2536              		.loc 1 515 1 is_stmt 0 view .LVU596
 2537 059c 38B5     		push	{r3, r4, r5, lr}
 2538              	.LCFI48:
 2539              		.cfi_def_cfa_offset 16
 2540              		.cfi_offset 3, -16
 2541              		.cfi_offset 4, -12
 2542              		.cfi_offset 5, -8
 2543              		.cfi_offset 14, -4
 515:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I0_SCALE_OFFSET, TMC4671_ADC_I0_OFFSET_MASK, TMC4671_ADC_I
 2544              		.loc 1 515 1 view .LVU597
 2545 059e 0D46     		mov	r5, r1
 2546              		.loc 1 516 2 view .LVU598
 2547 05a0 0921     		movs	r1, #9
 2548              	.LVL232:
 515:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I0_SCALE_OFFSET, TMC4671_ADC_I0_OFFSET_MASK, TMC4671_ADC_I
 2549              		.loc 1 515 1 view .LVU599
 2550 05a2 0446     		mov	r4, r0
 2551              		.loc 1 516 2 view .LVU600
 2552 05a4 FFF7FEFF 		bl	tmc4671_readInt
 2553              	.LVL233:
 2554              		.loc 1 516 2 view .LVU601
 2555 05a8 020C     		lsrs	r2, r0, #16
 2556 05aa 1204     		lsls	r2, r2, #16
 2557 05ac 2A43     		orrs	r2, r2, r5
 2558 05ae 2046     		mov	r0, r4
 2559 05b0 0921     		movs	r1, #9
 517:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2560              		.loc 1 517 1 view .LVU602
 2561 05b2 BDE83840 		pop	{r3, r4, r5, lr}
 2562              	.LCFI49:
 2563              		.cfi_restore 14
 2564              		.cfi_restore 5
 2565              		.cfi_restore 4
 2566              		.cfi_restore 3
 2567              		.cfi_def_cfa_offset 0
 516:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I0_SCALE_OFFSET, TMC4671_ADC_I0_OFFSET_MASK, TMC4671_ADC_I
 2568              		.loc 1 516 2 view .LVU603
 2569 05b6 FFF7FEBF 		b	tmc4671_writeInt
 2570              	.LVL234:
 2571              		.cfi_endproc
 2572              	.LFE46:
 2574              		.align	1
 2575              		.global	tmc4671_getAdcI1Offset
 2576              		.syntax unified
 2577              		.thumb
 2578              		.thumb_func
 2579              		.fpu softvfp
 2581              	tmc4671_getAdcI1Offset:
 2582              	.LVL235:
 2583              	.LFB47:
 518:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 519:TMC-API/tmc/ic/TMC4671/TMC4671.c **** uint16_t tmc4671_getAdcI1Offset(uint8_t motor)
 520:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2584              		.loc 1 520 1 is_stmt 1 view -0
 2585              		.cfi_startproc
 2586              		@ args = 0, pretend = 0, frame = 0
 2587              		@ frame_needed = 0, uses_anonymous_args = 0
 521:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return FIELD_GET(tmc4671_readInt(motor, TMC4671_ADC_I1_SCALE_OFFSET), TMC4671_ADC_I1_OFFSET_MASK, 
 2588              		.loc 1 521 2 view .LVU605
 520:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return FIELD_GET(tmc4671_readInt(motor, TMC4671_ADC_I1_SCALE_OFFSET), TMC4671_ADC_I1_OFFSET_MASK, 
 2589              		.loc 1 520 1 is_stmt 0 view .LVU606
 2590 05ba 08B5     		push	{r3, lr}
 2591              	.LCFI50:
 2592              		.cfi_def_cfa_offset 8
 2593              		.cfi_offset 3, -8
 2594              		.cfi_offset 14, -4
 2595              		.loc 1 521 9 view .LVU607
 2596 05bc 0821     		movs	r1, #8
 2597 05be FFF7FEFF 		bl	tmc4671_readInt
 2598              	.LVL236:
 522:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2599              		.loc 1 522 1 view .LVU608
 2600 05c2 80B2     		uxth	r0, r0
 2601 05c4 08BD     		pop	{r3, pc}
 2602              		.cfi_endproc
 2603              	.LFE47:
 2605              		.align	1
 2606              		.global	tmc4671_setAdcI1Offset
 2607              		.syntax unified
 2608              		.thumb
 2609              		.thumb_func
 2610              		.fpu softvfp
 2612              	tmc4671_setAdcI1Offset:
 2613              	.LVL237:
 2614              	.LFB48:
 523:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 524:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setAdcI1Offset(uint8_t motor, uint16_t offset)
 525:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2615              		.loc 1 525 1 is_stmt 1 view -0
 2616              		.cfi_startproc
 2617              		@ args = 0, pretend = 0, frame = 0
 2618              		@ frame_needed = 0, uses_anonymous_args = 0
 526:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I1_SCALE_OFFSET, TMC4671_ADC_I1_OFFSET_MASK, TMC4671_ADC_I
 2619              		.loc 1 526 2 view .LVU610
 525:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I1_SCALE_OFFSET, TMC4671_ADC_I1_OFFSET_MASK, TMC4671_ADC_I
 2620              		.loc 1 525 1 is_stmt 0 view .LVU611
 2621 05c6 38B5     		push	{r3, r4, r5, lr}
 2622              	.LCFI51:
 2623              		.cfi_def_cfa_offset 16
 2624              		.cfi_offset 3, -16
 2625              		.cfi_offset 4, -12
 2626              		.cfi_offset 5, -8
 2627              		.cfi_offset 14, -4
 525:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I1_SCALE_OFFSET, TMC4671_ADC_I1_OFFSET_MASK, TMC4671_ADC_I
 2628              		.loc 1 525 1 view .LVU612
 2629 05c8 0D46     		mov	r5, r1
 2630              		.loc 1 526 2 view .LVU613
 2631 05ca 0821     		movs	r1, #8
 2632              	.LVL238:
 525:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I1_SCALE_OFFSET, TMC4671_ADC_I1_OFFSET_MASK, TMC4671_ADC_I
 2633              		.loc 1 525 1 view .LVU614
 2634 05cc 0446     		mov	r4, r0
 2635              		.loc 1 526 2 view .LVU615
 2636 05ce FFF7FEFF 		bl	tmc4671_readInt
 2637              	.LVL239:
 2638              		.loc 1 526 2 view .LVU616
 2639 05d2 020C     		lsrs	r2, r0, #16
 2640 05d4 1204     		lsls	r2, r2, #16
 2641 05d6 2A43     		orrs	r2, r2, r5
 2642 05d8 2046     		mov	r0, r4
 2643 05da 0821     		movs	r1, #8
 527:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2644              		.loc 1 527 1 view .LVU617
 2645 05dc BDE83840 		pop	{r3, r4, r5, lr}
 2646              	.LCFI52:
 2647              		.cfi_restore 14
 2648              		.cfi_restore 5
 2649              		.cfi_restore 4
 2650              		.cfi_restore 3
 2651              		.cfi_def_cfa_offset 0
 526:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	TMC4671_FIELD_UPDATE(motor, TMC4671_ADC_I1_SCALE_OFFSET, TMC4671_ADC_I1_OFFSET_MASK, TMC4671_ADC_I
 2652              		.loc 1 526 2 view .LVU618
 2653 05e0 FFF7FEBF 		b	tmc4671_writeInt
 2654              	.LVL240:
 2655              		.cfi_endproc
 2656              	.LFE48:
 2658              		.align	1
 2659              		.global	tmc4671_setTorqueFluxPI
 2660              		.syntax unified
 2661              		.thumb
 2662              		.thumb_func
 2663              		.fpu softvfp
 2665              	tmc4671_setTorqueFluxPI:
 2666              	.LVL241:
 2667              	.LFB49:
 528:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 529:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setTorqueFluxPI(uint8_t motor, uint16_t pParameter, uint16_t iParameter)
 530:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2668              		.loc 1 530 1 is_stmt 1 view -0
 2669              		.cfi_startproc
 2670              		@ args = 0, pretend = 0, frame = 0
 2671              		@ frame_needed = 0, uses_anonymous_args = 0
 531:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_FLUX_P_FLUX_I, ((uint32_t)pParameter << 16) | (uint32_t)iParam
 2672              		.loc 1 531 2 view .LVU620
 530:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_FLUX_P_FLUX_I, ((uint32_t)pParameter << 16) | (uint32_t)iParam
 2673              		.loc 1 530 1 is_stmt 0 view .LVU621
 2674 05e4 38B5     		push	{r3, r4, r5, lr}
 2675              	.LCFI53:
 2676              		.cfi_def_cfa_offset 16
 2677              		.cfi_offset 3, -16
 2678              		.cfi_offset 4, -12
 2679              		.cfi_offset 5, -8
 2680              		.cfi_offset 14, -4
 2681              		.loc 1 531 82 view .LVU622
 2682 05e6 42EA0144 		orr	r4, r2, r1, lsl #16
 530:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_FLUX_P_FLUX_I, ((uint32_t)pParameter << 16) | (uint32_t)iParam
 2683              		.loc 1 530 1 view .LVU623
 2684 05ea 0546     		mov	r5, r0
 2685              		.loc 1 531 2 view .LVU624
 2686 05ec 2246     		mov	r2, r4
 2687              	.LVL242:
 2688              		.loc 1 531 2 view .LVU625
 2689 05ee 5421     		movs	r1, #84
 2690              	.LVL243:
 2691              		.loc 1 531 2 view .LVU626
 2692 05f0 FFF7FEFF 		bl	tmc4671_writeInt
 2693              	.LVL244:
 532:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_TORQUE_P_TORQUE_I, ((uint32_t)pParameter << 16) | (uint32_t)iP
 2694              		.loc 1 532 2 is_stmt 1 view .LVU627
 2695 05f4 2246     		mov	r2, r4
 2696 05f6 2846     		mov	r0, r5
 2697 05f8 5621     		movs	r1, #86
 533:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2698              		.loc 1 533 1 is_stmt 0 view .LVU628
 2699 05fa BDE83840 		pop	{r3, r4, r5, lr}
 2700              	.LCFI54:
 2701              		.cfi_restore 14
 2702              		.cfi_restore 5
 2703              		.cfi_restore 4
 2704              		.cfi_restore 3
 2705              		.cfi_def_cfa_offset 0
 532:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_TORQUE_P_TORQUE_I, ((uint32_t)pParameter << 16) | (uint32_t)iP
 2706              		.loc 1 532 2 view .LVU629
 2707 05fe FFF7FEBF 		b	tmc4671_writeInt
 2708              	.LVL245:
 2709              		.cfi_endproc
 2710              	.LFE49:
 2712              		.align	1
 2713              		.global	tmc4671_setVelocityPI
 2714              		.syntax unified
 2715              		.thumb
 2716              		.thumb_func
 2717              		.fpu softvfp
 2719              	tmc4671_setVelocityPI:
 2720              	.LVL246:
 2721              	.LFB50:
 534:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 535:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setVelocityPI(uint8_t motor, uint16_t pParameter, uint16_t iParameter)
 536:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2722              		.loc 1 536 1 is_stmt 1 view -0
 2723              		.cfi_startproc
 2724              		@ args = 0, pretend = 0, frame = 0
 2725              		@ frame_needed = 0, uses_anonymous_args = 0
 2726              		@ link register save eliminated.
 537:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_VELOCITY_P_VELOCITY_I, ((uint32_t)pParameter << 16) | (uint32_
 2727              		.loc 1 537 2 view .LVU631
 2728 0602 42EA0142 		orr	r2, r2, r1, lsl #16
 2729              	.LVL247:
 2730              		.loc 1 537 2 is_stmt 0 view .LVU632
 2731 0606 5821     		movs	r1, #88
 2732              	.LVL248:
 2733              		.loc 1 537 2 view .LVU633
 2734 0608 FFF7FEBF 		b	tmc4671_writeInt
 2735              	.LVL249:
 2736              		.loc 1 537 2 view .LVU634
 2737              		.cfi_endproc
 2738              	.LFE50:
 2740              		.align	1
 2741              		.global	tmc4671_setPositionPI
 2742              		.syntax unified
 2743              		.thumb
 2744              		.thumb_func
 2745              		.fpu softvfp
 2747              	tmc4671_setPositionPI:
 2748              	.LVL250:
 2749              	.LFB51:
 538:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 539:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 540:TMC-API/tmc/ic/TMC4671/TMC4671.c **** void tmc4671_setPositionPI(uint8_t motor, uint16_t pParameter, uint16_t iParameter)
 541:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2750              		.loc 1 541 1 is_stmt 1 view -0
 2751              		.cfi_startproc
 2752              		@ args = 0, pretend = 0, frame = 0
 2753              		@ frame_needed = 0, uses_anonymous_args = 0
 2754              		@ link register save eliminated.
 542:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, TMC4671_PID_POSITION_P_POSITION_I, ((uint32_t)pParameter << 16) | (uint32_
 2755              		.loc 1 542 2 view .LVU636
 2756 060c 42EA0142 		orr	r2, r2, r1, lsl #16
 2757              	.LVL251:
 2758              		.loc 1 542 2 is_stmt 0 view .LVU637
 2759 0610 5A21     		movs	r1, #90
 2760              	.LVL252:
 2761              		.loc 1 542 2 view .LVU638
 2762 0612 FFF7FEBF 		b	tmc4671_writeInt
 2763              	.LVL253:
 2764              		.loc 1 542 2 view .LVU639
 2765              		.cfi_endproc
 2766              	.LFE51:
 2768              		.align	1
 2769              		.global	tmc4671_readFieldWithDependency
 2770              		.syntax unified
 2771              		.thumb
 2772              		.thumb_func
 2773              		.fpu softvfp
 2775              	tmc4671_readFieldWithDependency:
 2776              	.LVL254:
 2777              	.LFB52:
 543:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 544:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 545:TMC-API/tmc/ic/TMC4671/TMC4671.c **** int32_t tmc4671_readFieldWithDependency(uint8_t motor, uint8_t reg, uint8_t dependsReg, uint32_t de
 546:TMC-API/tmc/ic/TMC4671/TMC4671.c **** {
 2778              		.loc 1 546 1 is_stmt 1 view -0
 2779              		.cfi_startproc
 2780              		@ args = 8, pretend = 0, frame = 0
 2781              		@ frame_needed = 0, uses_anonymous_args = 0
 547:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember old depends value
 548:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	uint32_t lastDependsValue = tmc4671_readInt(motor, dependsReg);
 2782              		.loc 1 548 2 view .LVU641
 546:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember old depends value
 2783              		.loc 1 546 1 is_stmt 0 view .LVU642
 2784 0616 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2785              	.LCFI55:
 2786              		.cfi_def_cfa_offset 24
 2787              		.cfi_offset 4, -24
 2788              		.cfi_offset 5, -20
 2789              		.cfi_offset 6, -16
 2790              		.cfi_offset 7, -12
 2791              		.cfi_offset 8, -8
 2792              		.cfi_offset 14, -4
 546:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember old depends value
 2793              		.loc 1 546 1 view .LVU643
 2794 061a 0C46     		mov	r4, r1
 2795              		.loc 1 548 30 view .LVU644
 2796 061c 1146     		mov	r1, r2
 2797              	.LVL255:
 546:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// remember old depends value
 2798              		.loc 1 546 1 view .LVU645
 2799 061e 9846     		mov	r8, r3
 2800 0620 0546     		mov	r5, r0
 2801 0622 1646     		mov	r6, r2
 2802              		.loc 1 548 30 view .LVU646
 2803 0624 FFF7FEFF 		bl	tmc4671_readInt
 2804              	.LVL256:
 549:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 550:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// set needed depends value
 551:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, dependsReg, dependsValue);
 2805              		.loc 1 551 2 view .LVU647
 2806 0628 4246     		mov	r2, r8
 548:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 2807              		.loc 1 548 30 view .LVU648
 2808 062a 0746     		mov	r7, r0
 2809              	.LVL257:
 2810              		.loc 1 551 2 is_stmt 1 view .LVU649
 2811 062c 3146     		mov	r1, r6
 2812 062e 2846     		mov	r0, r5
 2813              	.LVL258:
 2814              		.loc 1 551 2 is_stmt 0 view .LVU650
 2815 0630 FFF7FEFF 		bl	tmc4671_writeInt
 2816              	.LVL259:
 552:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	uint32_t value = FIELD_GET(tmc4671_readInt(motor, reg), mask, shift);
 2817              		.loc 1 552 2 is_stmt 1 view .LVU651
 2818              		.loc 1 552 19 is_stmt 0 view .LVU652
 2819 0634 2146     		mov	r1, r4
 2820 0636 2846     		mov	r0, r5
 2821 0638 FFF7FEFF 		bl	tmc4671_readInt
 2822              	.LVL260:
 2823 063c 069C     		ldr	r4, [sp, #24]
 2824 063e 0440     		ands	r4, r4, r0
 2825              		.loc 1 552 11 view .LVU653
 2826 0640 9DF81C00 		ldrb	r0, [sp, #28]	@ zero_extendqisi2
 553:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 
 554:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	// set old depends value
 555:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	tmc4671_writeInt(motor, dependsReg, lastDependsValue);
 2827              		.loc 1 555 2 view .LVU654
 2828 0644 3A46     		mov	r2, r7
 552:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	uint32_t value = FIELD_GET(tmc4671_readInt(motor, reg), mask, shift);
 2829              		.loc 1 552 11 view .LVU655
 2830 0646 C440     		lsrs	r4, r4, r0
 2831              	.LVL261:
 2832              		.loc 1 555 2 is_stmt 1 view .LVU656
 2833 0648 3146     		mov	r1, r6
 2834 064a 2846     		mov	r0, r5
 2835 064c FFF7FEFF 		bl	tmc4671_writeInt
 2836              	.LVL262:
 556:TMC-API/tmc/ic/TMC4671/TMC4671.c **** 	return value;
 2837              		.loc 1 556 2 view .LVU657
 557:TMC-API/tmc/ic/TMC4671/TMC4671.c **** }
 2838              		.loc 1 557 1 is_stmt 0 view .LVU658
 2839 0650 2046     		mov	r0, r4
 2840 0652 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2841              		.loc 1 557 1 view .LVU659
 2842              		.cfi_endproc
 2843              	.LFE52:
 2845              		.bss
 2846              		.align	2
 2847              		.set	.LANCHOR0,. + 0
 2850              	last_Phi_E_Selection.5164:
 2851 0000 0000     		.space	2
 2852 0002 0000     		.space	2
 2855              	last_UQ_UD_EXT.5165:
 2856 0004 00000000 		.space	4
 2859              	last_PHI_E_EXT.5166:
 2860 0008 0000     		.space	2
 2863              	hall_phi_e_old.5182:
 2864 000a 0000     		.space	2
 2867              	actual_coarse_offset.5184:
 2868 000c 0000     		.space	2
 2869 000e 0000     		.space	2
 2872              	lastSystick.5201:
 2873 0010 00000000 		.space	4
 2874              		.text
 2875              	.Letext0:
 2876              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2877              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2878              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\lib\\gcc\\arm-none
 2879              		.file 5 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2880              		.file 6 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2881              		.file 7 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2882              		.file 8 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
DEFINED SYMBOLS
                            *ABS*:00000000 TMC4671.c
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:15     .text:00000000 $t
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:23     .text:00000000 tmc4671_readInt
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:114    .text:00000044 tmc4671_writeInt
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:186    .text:00000084 tmc4671_readRegister16BitValue
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:241    .text:0000009e tmc4671_writeRegister16BitValue
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:322    .text:000000cc tmc4671_switchToMotionMode
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:379    .text:000000ec tmc4671_setTargetTorque_raw
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:431    .text:00000108 tmc4671_getTargetTorque_raw
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:499    .text:00000136 tmc4671_getActualTorque_raw
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:545    .text:00000142 tmc4671_getActualRampTorque_raw
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:570    .text:00000146 tmc4671_setTargetTorque_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:629    .text:0000016a tmc4671_getTargetTorque_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:665    .text:0000017c tmc4671_getActualTorque_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:701    .text:0000018e tmc4671_getTargetTorqueFluxSum_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:798    .text:000001de tmc4671_getActualTorqueFluxSum_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:845    .text:000001f8 tmc4671_getActualRampTorque_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:871    .text:000001fc tmc4671_setTargetFlux_raw
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:898    .text:00000206 tmc4671_getTargetFlux_raw
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:966    .text:00000234 tmc4671_getActualFlux_raw
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1011   .text:00000240 tmc4671_setTargetFlux_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1044   .text:00000250 tmc4671_getTargetFlux_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1080   .text:00000262 tmc4671_getActualFlux_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1116   .text:00000274 tmc4671_setTorqueFluxLimit_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1149   .text:00000284 tmc4671_getTorqueFluxLimit_mA
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1201   .text:00000296 tmc4671_setTargetVelocity
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1253   .text:000002b0 tmc4671_getTargetVelocity
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1277   .text:000002b6 tmc4671_getActualVelocity
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1301   .text:000002bc tmc4671_getActualRampVelocity
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1319   .text:000002c0 tmc4671_setAbsolutTargetPosition
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1371   .text:000002da tmc4671_setRelativeTargetPosition
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1428   .text:000002fc tmc4671_getTargetPosition
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1452   .text:00000302 tmc4671_setActualPosition
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1480   .text:0000030a tmc4671_getActualPosition
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1504   .text:00000310 tmc4671_getActualRampPosition
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1522   .text:00000314 tmc4671_doEncoderInitializationMode0
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1730   .text:000003d0 $d
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1734   .text:000003d4 $t
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1741   .text:000003d4 tmc4671_getS16CircleDifference
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:1766   .text:000003da tmc4671_doEncoderInitializationMode2
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2025   .text:00000490 $d
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2029   .text:00000494 $t
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2036   .text:00000494 tmc4671_checkEncderInitialization
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2135   .text:000004dc $d
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2139   .text:000004e0 $t
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2146   .text:000004e0 tmc4671_periodicJob
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2191   .text:000004f4 tmc4671_startEncoderInitialization
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2251   .text:00000508 tmc4671_updatePhiSelectionAndInitialize
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2306   .text:00000530 tmc4671_disablePWM
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2330   .text:00000538 tmc4671_getMotorType
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2361   .text:00000546 tmc4671_setMotorType
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2413   .text:00000566 tmc4671_getPolePairs
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2444   .text:00000572 tmc4671_setPolePairs
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2497   .text:00000590 tmc4671_getAdcI0Offset
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2528   .text:0000059c tmc4671_setAdcI0Offset
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2581   .text:000005ba tmc4671_getAdcI1Offset
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2612   .text:000005c6 tmc4671_setAdcI1Offset
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2665   .text:000005e4 tmc4671_setTorqueFluxPI
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2719   .text:00000602 tmc4671_setVelocityPI
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2747   .text:0000060c tmc4671_setPositionPI
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2775   .text:00000616 tmc4671_readFieldWithDependency
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2846   .bss:00000000 $d
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2850   .bss:00000000 last_Phi_E_Selection.5164
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2855   .bss:00000004 last_UQ_UD_EXT.5165
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2859   .bss:00000008 last_PHI_E_EXT.5166
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2863   .bss:0000000a hall_phi_e_old.5182
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2867   .bss:0000000c actual_coarse_offset.5184
C:\Users\Shubham\AppData\Local\Temp\ccBj9QEk.s:2872   .bss:00000010 lastSystick.5201

UNDEFINED SYMBOLS
tmc4671_readwriteByte
