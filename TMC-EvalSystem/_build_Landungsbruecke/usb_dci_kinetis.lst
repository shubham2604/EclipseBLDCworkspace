   1              		.cpu cortex-m4
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"usb_dci_kinetis.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.align	1
  16              		.arch armv7e-m
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu softvfp
  22              	USB_DCI_Validate_Param.constprop.0:
  23              	.LVL0:
  24              	.LFB22:
  25              		.file 1 "hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c"
   1:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /******************************************************************************
   2:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
   3:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Freescale Semiconductor Inc.
   4:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * (c) Copyright 2004-2012 Freescale Semiconductor, Inc.
   5:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * ALL RIGHTS RESERVED.
   6:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
   7:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
   8:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
   9:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * THIS SOFTWARE IS PROVIDED BY FREESCALE "AS IS" AND ANY EXPRESSED OR
  10:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
  11:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
  12:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * IN NO EVENT SHALL FREESCALE OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
  13:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  14:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  15:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  16:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  17:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  18:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
  19:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * THE POSSIBILITY OF SUCH DAMAGE.
  20:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
  21:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  **************************************************************************//*!
  22:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
  23:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @file usb_dci_kinetis.c
  24:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
  25:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @author
  26:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
  27:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @version
  28:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
  29:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @date
  30:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
  31:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The file contains Kinetis USB stack controller layer implementation.
  32:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
  33:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
  34:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  35:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /******************************************************************************
  36:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Includes
  37:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
  38:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #include <string.h>
  39:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #include "usb_dciapi.h" /* USB DCI API Header File */
  40:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #include "usb_devapi.h" /* USB Device API Header File */
  41:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #include "usb_dci_kinetis.h"    /* USB DCI Header File */
  42:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #include "usb_bdt_kinetis.h"    /* USB BDT Structure Header File */
  43:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #include "wdt_kinetis.h"
  44:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #include "usb_class.h"
  45:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  46:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /*****************************************************************************
  47:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Constant and Macro's - None
  48:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
  49:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /****************************************************************************
  50:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Global Variables
  51:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ****************************************************************************/
  52:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USE_FEEDBACK_ENDPOINT
  53:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	extern uint_32 feedback_data;
  54:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	extern uint_32 gNrSamples;
  55:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
  56:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  57:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /* location for BDT Table and buff */
  58:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if (defined(__CWCC__)||defined(__GNUC__))
  59:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	__attribute__((__aligned__(512)))
  60:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #elif defined(__IAR_SYSTEMS_ICC__)
  61:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#pragma data_alignment = 512
  62:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
  63:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  64:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
  65:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#if defined __CC_ARM
  66:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	  __align(512) uint_8 g_Mem[BYTES_1024];
  67:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#else
  68:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if 0
  69:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		static uint_8 g_Mem[BYTES_1024];
  70:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
  71:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		uint_8 g_Mem[BYTES_1024];
  72:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
  73:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#endif
  74:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Pointer to BDT Map Structure */
  75:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	BDTMAP *g_bdtmap = NULL;
  76:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* per endpoint per direction bdt index structure */
  77:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	static BDT_ELEM  g_bdt_elem[MAX_BDT_INDEX >> 1];
  78:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
  79:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /* stores Controller ID */
  80:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_8 g_dci_controller_Id = 0;
  81:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if HIGH_SPEED_DEVICE
  82:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_8 g_dci_address_state = 0;
  83:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* HIGH_SPEED_DEVICE */
  84:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  85:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
  86:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /* Start BDT buffer Address */
  87:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_32 g_bdt_address;
  88:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* HIGH_SPEED_DEVICE */
  89:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /* Transfer direction */
  90:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_8 g_trf_direction = USB_TRF_UNKNOWN;
  91:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  92:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  93:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** // HIGH_SPEED_DEVICE
  94:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if HIGH_SPEED_DEVICE
  95:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#define MAX_DTDS_PER_EP     5	// maximum number of transfer descriptors
  96:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#define DTD_FREE            0
  97:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#define DTD_BUSY            1
  98:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#define MAX_ENDPOINT_NUMBER 4
  99:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 100:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// QH structures are 64-byte aligned
 101:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#define TOTAL_QHD_SIZE (SIZE_OF_QHD * (MAX_ENDPOINT_NUMBER * 2))
 102:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// TD structures are 64-byte aligned
 103:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#define TOTAL_QTD_SIZE ((SIZE_OF_DTD0) * (MAX_ENDPOINT_NUMBER * 2) * MAX_DTDS_PER_EP)
 104:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 105:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#ifdef __CWCC__
 106:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		#pragma define_section usb_dqh ".usb_dqh" RW
 107:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		__declspec(usb_dqh) uint_8 g_usbd_qh_buf[TOTAL_QHD_SIZE];	// 512
 108:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		#pragma define_section usb_dtd ".usb_dtd" RW
 109:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		__declspec(usb_dtd) uint_8 g_usbd_td_buf[TOTAL_QTD_SIZE];	// 1280
 110:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#else
 111:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		#pragma data_alignment=(0x1000)
 112:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		uint_8 g_usbd_qh_buf[TOTAL_QHD_SIZE];	// 512
 113:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		#pragma data_alignment=(0x800)
 114:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		uint_8 g_usbd_td_buf[TOTAL_QTD_SIZE];	// 1280
 115:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	#endif
 116:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 117:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 118:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* flag status for td */
 119:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	static struct _td_status
 120:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	{
 121:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		uint_8  status;                 // DTD_BUSY or DTD_FREE
 122:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		unsigned int total_bytes;       // Original total bytes to transfer (not used by EP0)
 123:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		volatile struct dtd_setup_t *phys_td;   // Pointer to physical TD (not used by EP0)
 124:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	} g_usbd_td_flag[MAX_ENDPOINT_NUMBER * 2][MAX_DTDS_PER_EP];
 125:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	static struct dtd_setup_t *g_usbd_qh_tail[MAX_ENDPOINT_NUMBER * 2];
 126:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif // HIGH_SPEED_DEVICE
 127:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 128:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /*****************************************************************************
 129:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Local Types - None
 130:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 131:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 132:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /*****************************************************************************
 133:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Local Functions Prototypes
 134:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 135:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void USB_Bus_Reset_Handler(void);
 136:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 137:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_8 USB_DCI_Get_BDT_Index(uint_8 ep_num,
 138:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                     uint_8 direction,
 139:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                     boolean odd);
 140:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_8 USB_DCI_Validate_Param(uint_8 ep_num,
 141:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                     uint_8 direction,
 142:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                     boolean odd);
 143:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef LONG_SEND_TRANSACTION
 144:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void USB_DCI_Prepare_Send_Data(P_BUFF_DSC buffer_dsc,
 145:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                     P_BDT_ELEM bdt_elem);
 146:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* LONG_SEND_TRANSACTION */
 147:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void USB_Bus_Token_Cpl_Handler(uint_8 stat,
 148:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                     USB_DEV_EVENT_STRUCT* event);
 149:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* HIGH_SPEED_DEVICE */
 150:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 151:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** // HIGH_SPEED_DEVICE
 152:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if HIGH_SPEED_DEVICE
 153:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_8 K70_ULPI_SetDeviceMode(uint_8 controller_ID);
 154:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_ep_qh_init(uint_8 controller_ID,
 155:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		unsigned char endpt_number, unsigned char direction,
 156:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		unsigned int max_pkt_len,
 157:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		unsigned int zlt, unsigned char mult, uint_32 next_dtd);
 158:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_setup_qhead(struct dqh_t *qhead);
 159:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_setup_td(struct dtd_t *td);
 160:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static unsigned int usbd_get_dqh(uint_8 controller_ID, unsigned char endpt_number, unsigned char di
 161:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_ep_setup(uint_8 controller_ID, unsigned char endpt_number, unsigned char direction
 162:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_ep_complete_handler(
 163:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_DEV_EVENT_STRUCT* event /* [IN] Pointer to USB EVENT Structure */
 164:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** );
 165:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_setup_packet_handler(
 166:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_DEV_EVENT_STRUCT* event /* [IN] Pointer to USB EVENT Structure */
 167:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** );
 168:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_read_setup_packet(uint_8 controller_ID, unsigned char *setup_packet);
 169:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_port_change(
 170:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		USB_DEV_EVENT_STRUCT* event /* [IN] Pointer to USB EVENT Structure */
 171:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** );
 172:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_ep0_complete(USB_DEV_EVENT_STRUCT* event);
 173:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_dtd_complete(USB_DEV_EVENT_STRUCT* event);
 174:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static usb_status_t usbd_receive_data_ep0out(uint_8 controller_ID, unsigned int ep0_data_buffer, un
 175:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static usb_status_t usbd_receive_data_epxout(uint_8 controller_ID, unsigned int epx_data_buffer, ui
 176:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_add_td(uint_8 controller_ID, unsigned char ep_num, unsigned char direction, struct
 177:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void usbd_prime_ep(uint_8 controller_ID, unsigned char ep_num, unsigned char direction, stru
 178:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static usb_status_t usbd_send_data_epxin(uint_8 controller_ID, unsigned int epx_data_buffer, uint_8
 179:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static usb_status_t usbd_send_data_ep0in(uint_8 controller_ID,
 180:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                          unsigned int ep0_data_buffer, unsigned int sz,
 181:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                          unsigned char zlt_enable);
 182:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 183:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 184:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USB_LOWPOWERMODE
 185:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	static void Enter_StopMode(STOP_MODE stop_mode);
 186:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 187:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /*****************************************************************************
 188:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Local Variables - None
 189:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 190:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 191:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /*****************************************************************************
 192:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Local Functions
 193:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 194:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 195:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 196:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 197:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_Bus_Reset_Handler
 198:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 199:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function handles Bus Reset Interrupt
 200:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 201:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param  None
 202:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 203:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
 204:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 205:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 206:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This functions is called when USB Bus Reset event is received on USB Bus.
 207:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function clears all the errors conditions and reinit Global data
 208:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * structures. Also resets USB device controller.
 209:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 210:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void USB_Bus_Reset_Handler (void)
 211:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 212:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 213:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_ERRSTAT = ERR_STAT_CLEAR_ALL;  /* clear USB error flag */
 214:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL |= USB_CTL_ODDRST_MASK;                /* Reset to Even buffer */
 215:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_ADDR = 0;                       /* reset to default address */
 216:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Select System Clock and Disable Weak Pull Downs */
 217:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_USBCTRL = 0x00;
 218:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 219:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Clear bdt elem structure */
 220:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	Clear_Mem((uint_8_ptr)(g_bdt_elem),
 221:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			(sizeof(BDT_ELEM) * (MAX_BDT_INDEX >> 1)),
 222:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			(uint_8)UNINITIALISED_VAL);
 223:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 224:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Clear Memory for BDT and buffer Data */
 225:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     Clear_Mem((uint_8_ptr)g_bdtmap,(uint_32) BYTES_1024, (uint_8)0);
 226:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 227:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Initialize BDT buffer address */
 228:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	g_bdt_address = ((uint_32)g_bdtmap + BYTES_512);
 229:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 230:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	g_trf_direction = USB_TRF_UNKNOWN;
 231:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 232:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL &= ~USB_CTL_ODDRST_MASK;
 233:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_USBTRC0 |= 0x40;             /* attach CFv1 core to USB bus */
 234:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 235:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_ERREN = ERR_ENB_ENABLE_ALL;   /* Enable All Error Interrupts */
 236:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_INTEN = INTENB_BUS_RESET_VAL; /* Enable All Interrupts except RESUME */
 237:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL &= ~USB_CTL_TXSUSPENDTOKENBUSY_MASK;
 238:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 239:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 240:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	uint_32 reg;
 241:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 242:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	//Clear the device address
 243:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USBHS_DEVICEADDR &= ~USBHS_DEVICEADDR_USBADR_MASK;
 244:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 245:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// 1. Clear all setup token semaphores
 246:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	reg = USBHS_EPSETUPSR;
 247:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USBHS_EPSETUPSR = reg;
 248:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 249:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// 2. Clear all the endpoint complete status bits
 250:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	reg = USBHS_EPCOMPLETE;
 251:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USBHS_EPCOMPLETE = reg;
 252:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 253:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// 3. Cancel all primed status
 254:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	while(USBHS_EPPRIME);
 255:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USBHS_EPFLUSH = 0xFFFFFFFF;
 256:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 257:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// 4. If reset bit is not cleared at this point force reset device
 258:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(!(USBHS_PORTSC1 & USBHS_PORTSC1_PR_MASK)){
 259:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		USBHS_USBCMD |= USBHS_USBCMD_RST_MASK;
 260:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
 261:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 262:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// 5. Free(reset) all allocated dTDs
 263:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	memset(g_usbd_td_buf, 0, TOTAL_QTD_SIZE);
 264:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	memset(g_usbd_td_flag,
 265:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			0,
 266:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			MAX_ENDPOINT_NUMBER * 2 * MAX_DTDS_PER_EP * sizeof(g_usbd_td_flag)/sizeof(*g_usbd_td_flag)
 267:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			);
 268:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 269:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	g_trf_direction = USB_TRF_UNKNOWN;
 270:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(g_trf_direction);
 271:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 272:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 273:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 274:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 275:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 276:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 277:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Get_BDT_Index
 278:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 279:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function maps endpoint number and direction to bdt index
 280:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 281:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param  ep_num   : Endpoint Number
 282:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param  direction: Endpoint direction
 283:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param  odd      : Odd or even buffer
 284:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 285:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return bdt index         : Mapped bdt index
 286:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         INVALID_BDT_INDEX : In case of error
 287:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 288:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 289:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function returns BDT Index from Endpoint number, direction,
 290:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * odd/even buffer
 291:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 292:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_8 USB_DCI_Get_BDT_Index (
 293:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 ep_num,     /* [IN] Endpoint Number */
 294:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 direction,  /* [IN] Endpoint direction */
 295:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     boolean odd        /* [IN] Odd or even buffer */
 296:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
 297:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = INVALID_BDT_INDEX;
 299:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(ep_num < MAX_SUPPORTED_ENDPOINTS)
 301:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 302:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* per endpoint 4 bdt_index -- 2 for recv 2 for send */
 303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_index=(uint_8)((ep_num * 4) + (uint_8)odd);
 304:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 305:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if(direction == USB_SEND)
 306:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             bdt_index += 2;
 308:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 309:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 310:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return bdt_index;
 311:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 312:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 313:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 314:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 315:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Validate_Param
 316:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 317:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function validates endpoint number & direction parameters
 318:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *        and returns bdt index.
 319:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 320:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param  ep_num   : Endpoint Number
 321:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param  direction: Endpoint direction
 322:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param  odd      : odd or even buffer
 323:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 324:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return bdt index         : mapped bdt index
 325:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         INVALID_BDT_INDEX : incase of error
 326:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 327:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 328:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function validates endpoint parameters and returns bdt index
 329:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 330:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_8 USB_DCI_Validate_Param (
  26              		.loc 1 330 15 view -0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
 331:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 ep_num,     /* [IN] Endpoint Number */
 332:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 direction,  /* [IN] Endpoint direction */
 333:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     boolean odd        /* [IN] Odd or even buffer */
 334:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
 335:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 336:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Get bdt index mapped to endpoint number-direction and odd/even buffer */
 337:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = USB_DCI_Get_BDT_Index(ep_num, direction, odd);
  31              		.loc 1 337 5 view .LVU1
  32              	.LBB12:
  33              	.LBI12:
 292:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 ep_num,     /* [IN] Endpoint Number */
  34              		.loc 1 292 15 view .LVU2
  35              	.LBB13:
 298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  36              		.loc 1 298 5 view .LVU3
 300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
  37              		.loc 1 300 5 view .LVU4
 300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
  38              		.loc 1 300 7 is_stmt 0 view .LVU5
  39 0000 0628     		cmp	r0, #6
  40 0002 12D8     		bhi	.L4
 303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  41              		.loc 1 303 9 is_stmt 1 view .LVU6
 303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  42              		.loc 1 303 19 is_stmt 0 view .LVU7
  43 0004 8000     		lsls	r0, r0, #2
  44              	.LVL1:
 305:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
  45              		.loc 1 305 11 view .LVU8
  46 0006 0129     		cmp	r1, #1
 303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
  47              		.loc 1 303 19 view .LVU9
  48 0008 C0B2     		uxtb	r0, r0
  49              	.LVL2:
 305:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
  50              		.loc 1 305 9 is_stmt 1 view .LVU10
 305:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
  51              		.loc 1 305 11 is_stmt 0 view .LVU11
  52 000a 01D1     		bne	.L3
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
  53              		.loc 1 307 13 is_stmt 1 view .LVU12
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
  54              		.loc 1 307 23 is_stmt 0 view .LVU13
  55 000c 0230     		adds	r0, r0, #2
  56              	.LVL3:
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
  57              		.loc 1 307 23 view .LVU14
  58 000e C0B2     		uxtb	r0, r0
  59              	.LVL4:
  60              	.L3:
 310:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
  61              		.loc 1 310 5 is_stmt 1 view .LVU15
 310:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
  62              		.loc 1 310 5 is_stmt 0 view .LVU16
  63              	.LBE13:
  64              	.LBE12:
 338:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 339:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if((bdt_index  != INVALID_BDT_INDEX) &&
  65              		.loc 1 339 5 is_stmt 1 view .LVU17
 340:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (g_bdt_elem[TRANSFER_INDEX(bdt_index)].len ==
  66              		.loc 1 340 47 is_stmt 0 view .LVU18
  67 0010 074A     		ldr	r2, .L7
  68              		.loc 1 340 21 view .LVU19
  69 0012 C0F34703 		ubfx	r3, r0, #1, #8
  70              		.loc 1 340 47 view .LVU20
  71 0016 1221     		movs	r1, #18
  72              	.LVL5:
  73              		.loc 1 340 47 view .LVU21
  74 0018 01FB0323 		mla	r3, r1, r3, r2
 339:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (g_bdt_elem[TRANSFER_INDEX(bdt_index)].len ==
  75              		.loc 1 339 42 view .LVU22
  76 001c 1A88     		ldrh	r2, [r3]	@ unaligned
 341:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (uint_16)UNINITIALISED_VAL))
 342:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 343:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Incase length in bdt_elem is uninitialised return invalid index */
 344:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_index = INVALID_BDT_INDEX;
  77              		.loc 1 344 19 view .LVU23
  78 001e 4FF6FF73 		movw	r3, #65535
  79 0022 9A42     		cmp	r2, r3
  80 0024 08BF     		it	eq
  81 0026 FF20     		moveq	r0, #255
  82              	.LVL6:
 345:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 346:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return bdt_index;
 347:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
  83              		.loc 1 347 1 view .LVU24
  84 0028 7047     		bx	lr
  85              	.LVL7:
  86              	.L4:
 344:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
  87              		.loc 1 344 19 view .LVU25
  88 002a FF20     		movs	r0, #255
  89              	.LVL8:
 344:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
  90              		.loc 1 344 19 view .LVU26
  91 002c 7047     		bx	lr
  92              	.L8:
  93 002e 00BF     		.align	2
  94              	.L7:
  95 0030 00000000 		.word	.LANCHOR0
  96              		.cfi_endproc
  97              	.LFE22:
  99              		.align	1
 100              		.global	USB_DCI_Init
 101              		.syntax unified
 102              		.thumb
 103              		.thumb_func
 104              		.fpu softvfp
 106              	USB_DCI_Init:
 107              	.LVL9:
 108              	.LFB4:
 348:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* HIGH_SPEED_DEVICE */
 349:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 350:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef LONG_SEND_TRANSACTION
 351:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 352:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 353:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 354:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Prepare_Send_Data
 355:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 356:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function sets up the BDT for Send
 357:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 358:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param  buffer_dsc   : Pointer to buffer descriptor element in USB_RAM
 359:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param  bdt_elem     : Pointer to per endpoint/direction structure
 360:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 361:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
 362:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 363:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 364:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This functions configures Buffer Descriptor (Address and Count)
 365:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 366:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static void USB_DCI_Prepare_Send_Data (
 367:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC buffer_dsc,  /* [OUT] Pointer to buffer descriptor
 368:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                 element in USB_RAM */
 369:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem     /* [IN] Pointer to per endpoint/direction
 370:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                 structure */
 371:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
 372:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 373:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8_ptr buff_ptr = bdt_elem->app_buffer + bdt_elem->curr_offset;
 374:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_16 current_count = 0;
 375:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 376:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* adjust size based on the input at the init endpoint */
 377:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if((bdt_elem->app_len - bdt_elem->curr_offset) > bdt_elem->len)
 378:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 379:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* If size of packet is greater than endpoint buffer size */
 380:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         current_count = bdt_elem->len;
 381:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 382:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     else
 383:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 384:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* If size of packet is smaller than endpoint buffer size */
 385:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         current_count = (uint_16)(bdt_elem->app_len - bdt_elem->curr_offset);
 386:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 387:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 388:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     buffer_dsc->cnt = SWAP16(current_count);
 389:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 390:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     buffer_dsc->addr = SWAP32((uint_32)buff_ptr);
 391:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 392:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* HIGH_SPEED_DEVICE */
 393:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* LONG_SEND_TRANSACTION */
 394:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 395:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /*****************************************************************************
 396:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Global Functions
 397:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 398:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 399:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 400:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 401:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Init
 402:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 403:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function initializes the Controller layer
 404:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 405:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param controller_ID : Controller ID
 406:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 407:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return status
 408:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_OK    : Always
 409:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 410:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Initializes the USB controller
 411:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 412:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** uint_8 USB_DCI_Init (
 413:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8    controller_ID,   /* [IN] Controller ID */
 414:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8    bVregEn         /* Enables or disables internal regulator */
 415:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
 416:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 109              		.loc 1 416 1 is_stmt 1 view -0
 110              		.cfi_startproc
 111              		@ args = 0, pretend = 0, frame = 0
 112              		@ frame_needed = 0, uses_anonymous_args = 0
 417:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 418:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if USB_USER_CONFIG_USE_STACK_INIT
 419:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Select System Clock and Disable Weak Pull Downs */
 420:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_USBCTRL = 0x00;
 113              		.loc 1 420 2 view .LVU28
 416:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 114              		.loc 1 416 1 is_stmt 0 view .LVU29
 115 0034 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 116              	.LCFI0:
 117              		.cfi_def_cfa_offset 24
 118              		.cfi_offset 3, -24
 119              		.cfi_offset 4, -20
 120              		.cfi_offset 5, -16
 121              		.cfi_offset 6, -12
 122              		.cfi_offset 7, -8
 123              		.cfi_offset 14, -4
 124              		.loc 1 420 15 view .LVU30
 125 0036 314C     		ldr	r4, .L15
 421:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 422:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 423:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* save the controller_ID for future use */
 424:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_dci_controller_Id = controller_ID;
 126              		.loc 1 424 25 view .LVU31
 127 0038 314D     		ldr	r5, .L15+4
 420:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 128              		.loc 1 420 15 view .LVU32
 129 003a 0027     		movs	r7, #0
 130 003c 84F80071 		strb	r7, [r4, #256]
 131              		.loc 1 424 5 is_stmt 1 view .LVU33
 132              	.LBB14:
 133              	.LBB15:
 425:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 426:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Clear bdt elem structure */
 427:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     Clear_Mem((uint_8_ptr)(g_bdt_elem),
 428:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (sizeof(BDT_ELEM) * (MAX_BDT_INDEX >> 1)),
 429:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (uint_8)UNINITIALISED_VAL);
 430:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_bdtmap = (BDTMAP *)((uint_32)g_Mem);
 431:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 432:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Clear Memory for BDT and buffer Data */
 433:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     Clear_Mem((uint_8_ptr)g_bdtmap,(uint_32) BYTES_1024, (uint_8)0);
 434:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 435:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #ifndef OTG_BUILD
 436:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #if 1   /* hardware bug workaround */ /* << EST: need to keep this workaround for FRDM-KL25Z */
 437:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Hard Reset to the USB Module */
 438:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_USBTRC0 |= USB_USBTRC0_USBRESET_MASK;
 439:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 440:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* loop till the Reset bit clears  */
 441:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     while((USB0_USBTRC0 & USB_USBTRC0_USBRESET_MASK))
 442:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 443:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     };
 444:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #if !USB_USER_CONFIG_USE_STACK_INIT
 445:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 446:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****       /* need to re-init USB, as the hard reset above has reset the whole module! */
 447:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****       void USB0_Init(void); /* prototype */
 448:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****       USB0_Init(); /* call Processor Expert Init_USB_OTG Init() */
 449:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 450:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #endif
 451:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 452:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #endif
 453:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #endif
 454:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 455:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_trf_direction = USB_TRF_UNKNOWN;
 456:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 457:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if USB_USER_CONFIG_USE_STACK_INIT
 458:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Asynchronous Resume Interrupt Enable */
 459:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_USBTRC0 |= 0x40; /* undocumented bit???? */
 460:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 461:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(bVregEn)
 462:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 463:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	SIM_SOPT1 |= SIM_SOPT1_USBREGEN_MASK;	// enable usb voltage regulator
 464:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 465:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     else
 466:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 467:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	SIM_SOPT1 &= ~SIM_SOPT1_USBREGEN_MASK;	// disable usb voltage regulator
 468:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 469:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 470:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Set the BDT Table address, Need to be on 512 byte boundary */
 471:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* D8 Bit is masked in BDT_PAGE_01 */
 472:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE1 = (uint_8)(((uint_32)g_bdtmap >> 8)& 0xFE);
 473:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE2 = (uint_8)((uint_32)g_bdtmap >> 16);
 474:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE3 = (uint_8)((uint_32)g_bdtmap >> 24);
 475:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 476:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Initialized BDT buffer address */
 477:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_bdt_address = ((uint_32)g_bdtmap + BYTES_512);
 478:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 479:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if USB_USER_CONFIG_USE_STACK_INIT
 480:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #ifndef OTG_BUILD
 481:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****      /* Pull Up configuration */
 482:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_CONTROL = USB_CONTROL_DPPULLUPNONOTG_MASK;
 483:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #endif
 484:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 485:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_CTL = USB_CTL_USBENSOFEN_MASK; 	/* Enable USB module */
 486:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_ISTAT = INT_STAT_CLEAR_ALL;      	/* Clear USB interrupts*/
 487:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 488:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Remove suspend state */
 489:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_USBCTRL &= ~USB_USBCTRL_SUSP_MASK;
 490:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 491:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if USB_USER_CONFIG_USE_STACK_INIT
 492:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Enable USB RESET Interrupt */
 493:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_INTEN |= USB_INTEN_USBRSTEN_MASK;
 494:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 495:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Enable USB Sleep Interrupt */
 496:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_INTEN |= USB_INTEN_SLEEPEN_MASK;
 497:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 498:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_OTGCTL = USB_OTGCTL_DPHIGH_MASK | USB_OTGCTL_OTGEN_MASK;
 499:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* USB_USER_CONFIG_USE_STACK_INIT */
 500:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH_SPEED_DEVICE
 501:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* save the controller_ID for future use */
 502:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_dci_controller_Id = controller_ID;
 503:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     memset(g_usbd_qh_buf, 0, TOTAL_QHD_SIZE);
 504:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     memset(g_usbd_td_buf, 0, TOTAL_QTD_SIZE);
 505:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 506:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     // initialize module in device mode
 507:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status;
 508:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     status = K70_ULPI_SetDeviceMode(controller_ID);
 509:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(status != USB_OK)
 510:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	return status;
 511:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 512:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     // initialize endpoint 0
 513:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     usbd_ep_qh_init(controller_ID, EP0, IN, 64, 0, 0, 1);
 514:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     usbd_ep_qh_init(controller_ID, EP0, OUT, 64, 0, 0, 1);
 515:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 516:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     // setup interrupts
 517:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USBHS_USBINTR = USBHS_USBINTR_UE_MASK	// USB interrupt
 518:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     		| USBHS_USBINTR_UEE_MASK		// USB error
 519:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     		| USBHS_USBINTR_PCE_MASK		// Port change
 520:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     		| USBHS_USBINTR_URE_MASK		// Reset enable
 521:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     		| USBHS_USBINTR_SRE_MASK		// SOF received
 522:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     		| USBHS_USBINTR_SLE_MASK		// suspend received
 523:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     		| USBHS_USBINTR_SEE_MASK;		// System error
 524:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 525:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     // enable pullup on DP and initiate attach event
 526:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USBHS_USBCMD |= USBHS_USBCMD_RS_MASK;
 527:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 528:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return USB_OK;
 529:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 530:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 531:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 532:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 533:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_DeInit
 534:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 535:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function de-initializes the Controller layer
 536:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 537:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param controller_ID : Controller ID
 538:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 539:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return status
 540:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_OK    : Always
 541:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 542:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Initializes the USB controller
 543:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 544:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** uint_8 USB_DCI_DeInit(void)
 545:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 546:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 547:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 548:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef MCU_MK70F12
 549:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if 0 /* hardware bug workaround */
 550:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// Reset module
 551:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_USBTRC0 |= USB_USBTRC0_USBRESET_MASK;
 552:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 553:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// Wait for reset to complete
 554:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	while((USB0_USBTRC0 & USB_USBTRC0_USBRESET_MASK));
 555:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 556:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 557:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 558:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Detach CFv1 core to USB bus*/
 559:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_USBTRC0 &= ~0x40;
 560:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 561:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 562:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 563:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Clear USB interrupts*/
 564:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_ISTAT = INT_STAT_CLEAR_ALL;
 565:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 566:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Disable USB RESET Interrupt */
 567:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_INTEN &= ~USB_INTEN_USBRSTEN_MASK;
 568:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 569:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Disable USB module */
 570:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL &= ~USB_CTL_USBENSOFEN_MASK;
 571:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 572:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_OTGCTL &= ~(USB_OTGCTL_DPHIGH_MASK | USB_OTGCTL_OTGEN_MASK);
 573:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH_SPEED_DEVICE
 574:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 575:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 576:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	 return USB_OK;
 577:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 578:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 579:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 580:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 581:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Init_EndPoint
 582:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 583:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function initializes an endpoint
 584:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 585:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param controller_ID : Controller ID
 586:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param ep_ptr        : Pointer to EndPoint Structures
 587:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param flag          : Zero Termination
 588:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 589:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return status
 590:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_OK                    : When Successfull
 591:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USBERR_EP_INIT_FAILED     : When Error
 592:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 593:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 594:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function initializes an endpoint and the Bufffer Descriptor Table
 595:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * entry associated with it. Incase the input parameters are invalid it will
 596:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * return USBERR_EP_INIT_FAILED error.
 597:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 598:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 599:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** uint_8 USB_DCI_Init_EndPoint (
 600:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8               controller_ID,/* [IN] Controller ID */
 601:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_EP_STRUCT_PTR    ep_ptr,       /* [IN] Pointer to Endpoint structure,
 602:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                                (endpoint number,
 603:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                                 endpoint type,
 604:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                                 endpoint direction,
 605:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                                                 max packet size) */
 606:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     boolean              flag          /* [IN] Zero Termination */
 607:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
 608:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 609:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 610:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdtmap_index;
 611:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdtelem_index;
 612:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 ep_num = ep_ptr->ep_num;
 613:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 direction = ep_ptr->direction;
 614:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_32 ep_ctrl[2] = {EP_OUT, EP_IN};
 615:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC temp;
 616:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem;
 617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(controller_ID);
 618:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 619:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* if the max packet size is greater than the max buffer size */
 620:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(ep_ptr->size > MAX_EP_BUFFER_SIZE)
 621:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 622:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         ep_ptr->size = MAX_EP_BUFFER_SIZE;
 623:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 624:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 625:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Get the bdt index correspoding to the endpoint */
 626:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdtmap_index = USB_DCI_Get_BDT_Index(ep_num, direction,
 627:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 628:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdtelem_index = (uint_8)TRANSFER_INDEX(bdtmap_index);
 629:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 630:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /*
 631:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        incase the bdtmap_index is invalid
 632:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        or already initialised return with an error
 633:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     */
 634:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if((bdtmap_index  == INVALID_BDT_INDEX) ||
 635:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (g_bdt_elem[bdtelem_index].len != (uint_16)UNINITIALISED_VAL) ||
 636:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (ep_ptr->type > USB_INTERRUPT_PIPE) ||
 637:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (ep_ptr->direction > USB_SEND))
 638:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 639:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         return USBERR_EP_INIT_FAILED;
 640:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 641:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 642:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem = &g_bdt_elem[bdtelem_index];
 643:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Reset Handler resets bdtmap_index to UNINITIALISED_VAL */
 644:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(bdt_elem->bdtmap_index == (uint_8)UNINITIALISED_VAL)
 645:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 646:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->bdtmap_index = 0;
 647:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 648:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 649:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****    /* update bdt element structure */
 650:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->len = (uint_16)ep_ptr->size;
 651:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->flag = flag;
 652:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* preserving even/odd buffer bit */
 653:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->bdtmap_index &= 0x01;
 654:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->bdtmap_index |= ((direction << 1) | (ep_num << 2));
 655:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->addr = g_bdt_address;
 656:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->type = ep_ptr->type;
 657:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->direction = direction;
 658:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 659:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index];
 660:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 661:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Update BDTMAP for endpoint's EVEN Buffer */
 662:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->cnt = SWAP16((uint_16)ep_ptr->size);
 663:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->addr = SWAP32(g_bdt_address);
 664:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->Stat._byte = (_CPU | _DATA0 | _DTS);
 665:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 666:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Update BDTMAP for endpoint's ODD Buffer */
 667:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp = &g_bdtmap->ep_dsc[(uint8)((bdt_elem->bdtmap_index) ^ 1)];
 668:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 669:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->cnt = SWAP16((uint_16)ep_ptr->size);
 670:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->addr = SWAP32(g_bdt_address);
 671:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->Stat._byte = (_CPU | _DATA1 | _DTS);
 672:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 673:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* update the buffer address for the next endpoint */
 674:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_bdt_address += ep_ptr->size;
 675:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 676:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(direction == USB_RECV)
 677:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 678:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /*
 679:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****            For Recv Endpoints
 680:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****            Give SIE Control to DATA0
 681:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         */
 682:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         temp = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index];
 683:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         temp->Stat._byte |= _SIE;
 684:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 685:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 686:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* enable handshake for Non-Isochronous Endpoints */
 687:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     ep_ctrl[direction] |= ((ep_ptr->type != USB_ISOCHRONOUS_PIPE) ?
 688:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         HSHK_EN:0x00);
 689:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* set the EndPoint Control MCU Register*/
 690:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     *((&USB0_ENDPT0) + (4 * ep_num)) |= ep_ctrl[direction];
 691:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	/* HIGH_SPEED_DEVICE */
 692:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     unsigned char mult;
 693:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 694:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* No need to initialize EP0 */
 695:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(ep_ptr->ep_num == CONTROL_ENDPOINT)
 696:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	return USB_OK;
 697:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 698:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     switch (ep_ptr->type & 0x3) {
 699:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		case EP_TRANSFER_TYPE_CONTROL:
 700:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		case EP_TRANSFER_TYPE_BULK:
 701:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		case EP_TRANSFER_TYPE_INTERRUPT:
 702:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			mult = 0;
 703:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			break;
 704:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		case EP_TRANSFER_TYPE_ISOCHRONOUS:
 705:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			/* Calculate the ISO transfer High-Bandwidth Pipe Multiplier
 706:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			 * The ISO endpoints, must set Mult 1, 2, 3 for high speed
 707:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			 * and only 1 for full speed
 708:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			 */
 709:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef ULPI_FORCE_FULLSPEED
 710:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			mult = 1;
 711:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 712:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			mult = (unsigned char)(1 + (((ep_ptr->size) >> 11) & 0x03));
 713:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 714:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 715:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 716:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* setup dQH */
 717:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     usbd_ep_qh_init(controller_ID, ep_ptr->ep_num, ep_ptr->direction, ep_ptr->size, flag, mult, 0xD
 718:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 719:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* enable endpoint */
 720:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     usbd_ep_setup(controller_ID, ep_ptr->ep_num, ep_ptr->direction, ep_ptr->type);
 721:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* HIGH_SPEED_DEVICE */
 722:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return USB_OK;
 723:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 724:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 725:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 726:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 727:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Cancel_Transfer
 728:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 729:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function cancels any pending Transfers which ahve not been sent
 730:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 731:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle          : USB Device handle
 732:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param endpoint_number : Endpoint number
 733:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param direction       : Endpoint direction
 734:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 735:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return status
 736:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USBERR_NOT_SUPPORTED : Always
 737:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 738:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function just returns Error Code not supported
 739:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 740:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** uint_8 USB_DCI_Cancel_Transfer (
 741:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle    handle,             /* [IN] USB Device handle */
 742:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                endpoint_number,    /* [IN] Endpoint number */
 743:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                direction           /* [IN] Endpoint direction */
 744:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
 745:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 746:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 747:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef LONG_TRANSACTION
 748:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status= USBERR_UNKNOWN_ERROR;
 749:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 750:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* validate params and get the bdt index */
 751:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = USB_DCI_Validate_Param (endpoint_number, direction,
 752:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 753:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdtelem_index = (uint_8)TRANSFER_INDEX(bdt_index);
 754:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(handle);
 755:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 756:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Check for valid bdt index */
 757:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(bdt_index != INVALID_BDT_INDEX)
 758:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 759:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BDT_ELEM bdt_elem = &g_bdt_elem[bdtelem_index];
 760:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index];
 761:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index ^ 1];
 762:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear SIE Control Bit for both buffers*/
 763:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         buffer_dsc->Stat._byte &= ~_SIE;
 764:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         buffer_dsc_alt->Stat._byte &= ~_SIE;
 765:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->app_len = (USB_PACKET_SIZE)UNINITIALISED_VAL;
 766:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 767:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         status = USB_OK;
 768:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 769:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return status;
 770:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 771:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return USBERR_NOT_SUPPORTED;
 772:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 773:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH_SPEED_DEVICE
 774:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USART_DEBUG
 775:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     printf("%s\n", __func__);
 776:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 777:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return USBERR_NOT_SUPPORTED;
 778:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 779:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 780:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 781:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 782:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 783:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Deinit_EndPoint
 784:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 785:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function de initializes an endpoint
 786:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 787:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param controller_ID : Controller ID
 788:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param ep_num        : Endpoint number
 789:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param direction     : Endpoint direction
 790:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 791:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return status
 792:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_OK                   : When successfull
 793:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USBERR_EP_DEINIT_FAILED  : When unsuccessfull
 794:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 795:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 796:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function un-intializes the endpoint by clearing the corresponding
 797:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * endpoint control register and then clearing the bdt elem.
 798:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 799:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 800:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** uint_8 USB_DCI_Deinit_EndPoint (
 801:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8    controller_ID,   /* [IN] Controller ID */
 802:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8    ep_num,          /* [IN] Endpoint number */
 803:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8    direction        /* [IN] Endpoint direction */
 804:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
 805:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 806:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 807:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* validate params and get the bdt index */
 808:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = USB_DCI_Validate_Param (ep_num, direction,
 809:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 810:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdtelem_index = (uint_8)TRANSFER_INDEX(bdt_index);
 811:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 812:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* in case the bdt_index is invalid*/
 813:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(bdt_index  == INVALID_BDT_INDEX)
 814:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 815:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         return USBERR_EP_DEINIT_FAILED;
 816:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 817:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_DCI_Cancel_Transfer(&controller_ID, ep_num, direction);
 818:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* delete buffer space for both even and odd buffers */
 819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_bdt_address -= (g_bdt_elem[bdtelem_index].len);
 820:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 821:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Disable endpoint */
 822:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     *((&USB0_ENDPT0) + (4 * ep_num)) = EP_DISABLE;
 823:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 824:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* un-initialize the bdt_elem structure for this endpoint */
 825:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_bdt_elem[bdtelem_index].len = (uint_16)UNINITIALISED_VAL;
 826:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_bdt_elem[bdtelem_index].addr = (uint_32)UNINITIALISED_VAL;
 827:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
 828:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_32 reg;
 829:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 830:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(ep_num<1)
 831:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	return USB_INVALID;
 832:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 833:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     // clear qhd
 834:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     dqh_setup_t *dqh_word = (dqh_setup_t*)usbd_get_dqh(controller_ID, ep_num, direction);
 835:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     memset((void *)dqh_word, 0, SIZE_OF_QHD);
 836:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 837:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     // clear endpoint register
 838:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     reg = USBHS_EPCR(ep_num-1);
 839:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USBHS_EPCR(ep_num-1) &= ~reg;
 840:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 841:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     // flush endpoint Tx(IN) buffer
 842:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(direction)
 843:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	USBHS_EPFLUSH |= USBHS_EPFLUSH_FETB(ep_num-1);
 844:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     // flush endpoint Rx(OUT) buffer
 845:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     else
 846:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	USBHS_EPFLUSH |= USBHS_EPFLUSH_FERB(ep_num-1);
 847:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 848:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return USB_OK;
 849:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 850:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 851:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 852:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 853:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Stall_EndPoint
 854:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 855:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function stalls an endpoint
 856:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 857:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle          : USB Device handle
 858:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param endpoint_number : Endpoint number
 859:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param direction       : Endpoint direction
 860:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 861:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
 862:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 863:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 864:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function stalls the endpoint by setting Endpoint BDT
 865:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 866:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void USB_DCI_Stall_EndPoint (
 867:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle    handle,             /* [IN] USB Device handle */
 868:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                endpoint_number,    /* [IN] Endpoint number to stall */
 869:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                direction           /* [IN] Direction to stall */
 870:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
 871:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 872:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 873:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* validate params and get the bdt index */
 874:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = USB_DCI_Validate_Param (endpoint_number, direction,
 875:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 876:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 877:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 878:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = bdt_elem->bdtmap_index;
 879:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 880:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Check for valid bdt index */
 881:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(bdt_index != INVALID_BDT_INDEX)
 882:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 883:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (void)USB_DCI_Cancel_Transfer(handle, endpoint_number, direction);
 884:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 885:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Stall endpoint */
 886:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         g_bdtmap->ep_dsc[bdt_index].Stat._byte |= (_SIE | _BDTSTALL);
 887:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 888:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
 889:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// check if it is control endpoint
 890:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(endpoint_number == 0){
 891:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		// stall both directions
 892:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		USBHS_EPCR0 |= USBHS_EPCR0_TXS_MASK|USBHS_EPCR0_RXS_MASK;
 893:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}else{
 894:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 895:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		USBHS_EPCR(endpoint_number-1) |= direction?USBHS_EPCR0_TXS_MASK:USBHS_EPCR0_RXS_MASK;
 896:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
 897:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 898:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 899:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 900:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 901:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 902:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 903:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Unstall_EndPoint
 904:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 905:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function unstalls an endpoint
 906:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 907:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle          : USB Device handle
 908:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param endpoint_number : Endpoint number
 909:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param direction       : Endpoint direction
 910:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 911:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
 912:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 913:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 914:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function unstalls the endpoint by clearing Endpoint Control Register
 915:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * and BDT
 916:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 917:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void USB_DCI_Unstall_EndPoint (
 918:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle     handle,             /* [IN] USB Device handle */
 919:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                 endpoint_number,    /* [IN] Endpoint number to unstall */
 920:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                 direction           /* [IN] Direction to unstall */
 921:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
 922:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 923:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 924:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* validate params and get the bdt index */
 925:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = USB_DCI_Validate_Param (endpoint_number, direction,
 926:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 927:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 928:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 929:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 930:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = bdt_elem->bdtmap_index;
 931:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 932:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Check for valid bdt index */
 933:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(bdt_index != INVALID_BDT_INDEX)
 934:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	{
 935:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         volatile ENDPT0STR *endpoint = (volatile ENDPT0STR*)(&USB0_ENDPT0 + (4 * endpoint_number));
 936:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 937:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    /* Enable ENDPTx for non control endpoints */
 938:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    /* For Control Endpoint the default Value 0x0D */
 939:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if(endpoint_number != CONTROL_ENDPOINT)
 940:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 941:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             uint_8 endpt;
 942:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /* Enable handshaking for non isochronous endpoint */
 943:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             endpt = (uint_8)((bdt_elem->type != USB_ISOCHRONOUS_PIPE) ?
 944:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 HSHK_EN:0);
 945:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /*
 946:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                Enable the endpoint in the specified direction and disable
 947:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                control tranfers (valid only in case the endpoint is
 948:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                bidirectional)
 949:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             */
 950:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	    endpt |= (uint_8)(EP_CTL_DIS |
 951:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 ((direction == USB_SEND)?EP_IN:EP_OUT));
 952:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             endpoint->Byte |= endpt;
 953:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 954:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear Endpoint Stall bit is endpoint control register */
 955:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         endpoint->Bits.EP_STALL = 0;
 956:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 957:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    /* Unstall endpoint by clearing stall bit in BDT  */
 958:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    g_bdtmap->ep_dsc[bdt_index].Stat._byte &= ~(_SIE | _BDTSTALL);
 959:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* We Require DATA0 PID to be zero on unstall */
 960:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         g_bdtmap->ep_dsc[bdt_index].Stat._byte = _DATA0;
 961:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    if(direction == USB_RECV)
 962:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    {
 963:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	        /* Initiate Next receive Transfer */
 964:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	        USB_DCI_Recv_Data(handle, endpoint_number, NULL, 0);
 965:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    }
 966:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 967:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 968:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// todo //: Dieses To-do hatte kein Kommentar - ist das noch notwendig? (LH)
 969:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// This function unstalls the endpoint by clearing Endpoint Control Register
 970:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// and QH
 971:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(endpoint_number == 0){
 972:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			// unstall both directions
 973:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			USBHS_EPCR0 &= ~(direction ? USBHS_EPCR0_TXS_MASK:USBHS_EPCR0_RXS_MASK);
 974:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		}else{
 975:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			USBHS_EPCR(endpoint_number-1) &= ~(direction?USBHS_EPCR_TXS_MASK:USBHS_EPCR_RXS_MASK);
 976:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		}
 977:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USART_DEBUG
 978:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	printf("%s\n", __func__);
 979:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 980:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 981:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 982:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 983:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 984:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
 985:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 986:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Get_Setup_Data
 987:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 988:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function copies Setup Packet from USB RAM to application buffer
 989:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 990:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle          : USB Device handle
 991:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param endpoint_number : Endpoint number
 992:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param buffer_ptr      : Application buffer pointer
 993:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 994:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
 995:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
 996:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
 997:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Copies setup packet from USB RAM to Application Buffer
 998:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
 999:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void USB_DCI_Get_Setup_Data (
1000:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle    handle,             /* [IN] USB Device handle */
1001:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                endpoint_number,    /* [IN] Endpoint number for the transaction */
1002:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8_ptr            buffer_ptr          /* [IN] Pointer to the buffer into which to read data
1003:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
1004:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1006:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1007:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	uint_8_ptr addr;
1008:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* validate params and get the bdt index */
1009:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = USB_DCI_Validate_Param (endpoint_number, USB_RECV,
1010:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
1011:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1012:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
1013:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(handle);
1014:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = bdt_elem->bdtmap_index;
1015:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1016:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* address correponding to the endpoint */
1017:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     addr = (uint_8_ptr)SWAP32(g_bdtmap->ep_dsc[bdt_index].addr);
1018:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1019:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* copy bdt buffer to application buffer */
1020:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     (void)memcpy(buffer_ptr, addr, USB_SETUP_PKT_SIZE);
1021:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
1022:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
1023:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if USART_DEBUG
1024:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     printf("%s\n", __func__);
1025:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* USART_DEBUG */
1026:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1027:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1028:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1029:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1030:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1031:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Get_Transfer_Status
1032:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1033:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function retrieves the Transfer status of an endpoint
1034:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1035:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle          : USB Device handle
1036:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param endpoint_number : Endpoint number
1037:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param direction       : Endpoint direction
1038:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1039:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return status
1040:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USBERR_TR_FAILED                : When unsuccessful
1041:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_STATUS_IDLE                 : No transfer on endpoint
1042:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_STATUS_DISABLED             : endpoint is disabled
1043:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_STATUS_STALLED              : endpoint is stalled
1044:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_STATUS_TRANSFER_IN_PROGRESS : When SIE has control of BDT
1045:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1046:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1047:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function retrieves the transfer status of the endpoint by checking the
1048:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * BDT as well as the endpoint control register
1049:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1050:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1051:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** uint_8 USB_DCI_Get_Transfer_Status (
1052:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle    handle,             /* [IN] USB Device handle */
1053:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                endpoint_number,    /* [IN] Endpoint number */
1054:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                direction           /* [IN] Endpoint direction */
1055:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
1056:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1057:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USB_STATUS_DISABLED;
1058:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1059:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1060:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* validate params and get the bdt index */
1061:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = USB_DCI_Validate_Param (endpoint_number, direction,
1062:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
1063:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(handle);
1064:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1065:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Check for valid bdt index */
1066:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(bdt_index != INVALID_BDT_INDEX)
1067:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1068:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         uint_8 ep_control = (uint_8)(*((&USB0_ENDPT0)+4*endpoint_number));
1069:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1070:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         status = USB_STATUS_IDLE;
1071:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1072:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Check for direction in endpoint control register */
1073:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if((ep_control & (EP_IN|EP_OUT)) == EP_DISABLE)
1074:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1075:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             status = USB_STATUS_DISABLED;
1076:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1077:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Check for stall bit in endpoint control register */
1078:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         else if((ep_control &  EPCTL_STALL) == EPCTL_STALL)
1079:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1080:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             status = USB_STATUS_STALLED ;
1081:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1082:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Check whether SIE has control of BDT */
1083:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         else if((g_bdtmap->ep_dsc[bdt_index].Stat.SieCtlBit.own == 1)
1084:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             || (g_bdtmap->ep_dsc[bdt_index ^ 1].Stat.SieCtlBit.own == 1))
1085:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1086:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             status = USB_STATUS_TRANSFER_IN_PROGRESS;
1087:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1088:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1089:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
1090:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if USART_DEBUG
1091:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     printf("%s, ep_num is %d\n", __func__, endpoint_number);
1092:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* USART_DEBUG */
1093:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     status = USB_OK;
1094:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* HIGH_SPEED_DEVICE */
1095:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return status;
1096:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1097:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1098:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1099:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1100:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Clear_DATA0_Endpoint
1101:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1102:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function clear the DATA0/1 bit
1103:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1104:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle          : USB Device handle
1105:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param endpoint_number : Endpoint number
1106:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param direction       : Endpoint direction
1107:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1108:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
1109:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1110:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1111:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function clear the DATA0/1 bit
1112:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1113:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void  USB_DCI_Clear_DATA0_Endpoint (
1114:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                endpoint_number,    /* [IN] Endpoint number */
1115:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                direction           /* [IN] Endpoint direction */
1116:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
1117:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1118:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1119:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1120:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1121:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	uint_8 bdt_index = USB_DCI_Validate_Param(endpoint_number, direction, USB_RAM_EVEN_BUFFER);
1122:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
1123:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1124:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	bdt_index = bdt_elem->bdtmap_index;
1125:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1126:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/*Check for a valid bdt index */
1127:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(bdt_index != INVALID_BDT_INDEX)
1128:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	{
1129:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		//ENDPT0STR *endpoint = (ENDPT0STR*)(&USB0_ENDPT0 + (4 * endpoint_number)); /* << EST not used */
1130:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		g_bdtmap->ep_dsc[bdt_index].Stat._byte = _DATA0;
1131:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
1132:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
1133:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
1134:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USART_DEBUG
1135:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     printf("%s\n", __func__);
1136:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1137:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1138:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1139:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1140:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1141:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1142:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Recv_Data
1143:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1144:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function retrieves data received on an RECV endpoint
1145:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1146:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle          : USB Device handle
1147:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param endpoint_number : Endpoint number
1148:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param buffer_ptr      : Application buffer pointer
1149:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param size            : Size of the buffer
1150:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1151:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return status
1152:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_OK                          : When successful
1153:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USBERR_RX_FAILED                : When unsuccessful
1154:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1155:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function retrieves data received data on a RECV endpoint by copying it
1156:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * from USB RAM to application buffer
1157:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1158:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** uint_8 USB_DCI_Recv_Data (
1159:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle    handle,             /* [IN] USB Device handle */
1160:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                endpoint_number,    /* [IN] Endpoint number for the transaction */
1161:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint8_ptr             buffer_ptr,         /* [OUT] Pointer to the buffer into which to receive 
1162:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_32               size                /* [IN] Number of bytes to receive */
1163:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
1164:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1165:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USBERR_RX_FAILED;
1166:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1167:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1168:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* validate params and get the bdt index */
1169:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = USB_DCI_Validate_Param (endpoint_number, USB_RECV, USB_RAM_EVEN_BUFFER);
1170:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
1171:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1172:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	UNUSED(handle);
1173:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1174:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* For selecting even/odd buffer */
1175:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = bdt_elem->bdtmap_index;
1176:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1177:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(bdt_index != INVALID_BDT_INDEX)
1178:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1179:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc = &g_bdtmap->ep_dsc[bdt_index ^ 1];
1180:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = NULL;
1181:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1182:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Check for valid bdt index */
1183:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if(bdt_elem->len != (uint_16)UNINITIALISED_VAL)
1184:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1185:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /* Does MCU owns it */
1186:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             if(buffer_dsc->Stat.SieCtlBit.own == FALSE)
1187:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
1188:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 if(size == 0)
1189:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 {
1190:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     /*
1191:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                        Give control to the other buffer to recv the next
1192:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                        packet
1193:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     */
1194:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_index];
1195:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     buffer_dsc_alt->cnt = SWAP16(bdt_elem->len);
1196:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     buffer_dsc_alt->addr = SWAP32(bdt_elem->addr);
1197:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1198:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     /* Give the ownership to SIE and TOGGLE DATA BIT */
1199:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     buffer_dsc_alt->Stat._byte = (uint_8)(
1200:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                         (buffer_dsc_alt->Stat.McuCtlBit.data << 6) |
1201:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                         _SIE | _DTS);
1202:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     return USB_OK;
1203:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 }
1204:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* adjust size based on the input at the init endpoint */
1205:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef LONG_RECEIVE_TRANSACTION
1206:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Initialise transfer */
1207:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 bdt_elem->app_len = size;
1208:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 bdt_elem->app_buffer = buffer_ptr;
1209:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1210:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 if(size > bdt_elem->len)
1211:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 {
1212:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     size = bdt_elem->len;
1213:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 }
1214:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1215:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef LONG_RECEIVE_TRANSACTION
1216:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 bdt_elem->curr_offset = 0;
1217:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1218:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_index];
1219:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->cnt = SWAP16(size);
1220:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->addr = SWAP32((uint_32)buffer_ptr);
1221:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->Stat._byte = (uint_8)(
1222:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (buffer_dsc_alt->Stat.McuCtlBit.data << 6) |
1223:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     _SIE | _DTS);
1224:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 status = USB_OK;
1225:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
1226:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1227:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1228:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return status;
1229:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
1230:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(endpoint_number != 0)
1231:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1232:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	status = usbd_receive_data_epxout(0, (unsigned int)buffer_ptr, endpoint_number, size);
1233:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1234:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     else
1235:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	status = usbd_receive_data_ep0out(0, (unsigned int)buffer_ptr, size);
1236:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1237:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(status != USB_SUCCESS)
1238:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1239:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	return USBERR_RX_FAILED;
1240:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1241:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     else
1242:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1243:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	return USB_OK;
1244:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1245:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1246:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1247:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1248:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1249:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1250:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Send_Data
1251:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1252:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function configures Controller to send data on an SEND endpoint
1253:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1254:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle          : USB Device handle
1255:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param endpoint_number : Endpoint number
1256:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param buffer_ptr      : Application buffer pointer
1257:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param size            : Size of the buffer
1258:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1259:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return status
1260:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USB_OK           : When successfull
1261:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *         USBERR_TX_FAILED : When unsuccessfull
1262:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1263:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function configures Controller to send data on a SEND endpoint by
1264:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * setting the BDT to send data.
1265:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1266:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** uint_8 USB_DCI_Send_Data (
1267:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle    handle,             /* [IN] USB Device handle */
1268:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                endpoint_number,    /* [IN] Endpoint number */
1269:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint8_ptr             buffer_ptr,         /* [IN] Application buffer pointer */
1270:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_32               size                /* [IN] Size of the buffer */
1271:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
1272:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1273:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1274:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USBERR_TX_FAILED;
1275:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC buffer_dsc;
1276:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1277:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* validate params and get the bdt index */
1278:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = USB_DCI_Validate_Param (endpoint_number, USB_SEND, USB_RAM_EVEN_BUFFER);
1279:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
1280:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1281:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	UNUSED(handle);
1282:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1283:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(bdt_index == INVALID_BDT_INDEX)
1284:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         return USBERR_TX_FAILED;
1285:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1286:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Send Data After Toggling Buffer */
1287:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = (uint_8)bdt_elem->bdtmap_index;
1288:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1289:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     buffer_dsc = &g_bdtmap->ep_dsc[bdt_index];
1290:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1291:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Does MCU owns it and it is not stalled */
1292:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(!((buffer_dsc->Stat.SieCtlBit.own) ||/* For MCU: own is 0 */
1293:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (*(&USB0_ENDPT0 + (endpoint_number * 4)) & ENDPT_EP_STALL_MASK)))
1294:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1295:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Now configure buffer_dsc->addr and buffer_dsc->cnt */
1296:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef LONG_SEND_TRANSACTION
1297:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Initialize transfer */
1298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->app_len = size;
1299:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->app_buffer = buffer_ptr;
1300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->curr_offset = 0;
1301:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1302:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Prepare for send */
1303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_DCI_Prepare_Send_Data(buffer_dsc, bdt_elem);
1304:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
1305:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         buffer_dsc->addr = SWAP32(buffer_ptr);
1306:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Adjust size based on the input at the init endpoint */
1308:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if((uint_16)size > bdt_elem->len)
1309:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1310:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             buffer_dsc->cnt = SWAP16(bdt_elem->len);
1311:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1312:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         else
1313:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1314:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             buffer_dsc->cnt = SWAP16((uint_16)size);
1315:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1316:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1317:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if(endpoint_number == CONTROL_ENDPOINT)
1318:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1319:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /* Set up the control endpoint bdt for next packet */
1320:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             buffer_dsc->Stat._byte = (_SIE | _DATA1 | _DTS);
1321:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1322:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         else
1323:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1324:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             buffer_dsc->Stat._byte = (uint_8)(
1325:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 (buffer_dsc->Stat.McuCtlBit.data << 6) |
1326:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 _SIE | _DTS);
1327:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1328:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1329:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         status = USB_OK;
1330:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     } /* Does MCU own IN BDT */
1331:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return status;
1332:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
1333:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     usb_status_t status;
1334:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1335:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(endpoint_number != 0) {
1336:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	status = usbd_send_data_epxin(0, (unsigned int)buffer_ptr, endpoint_number, size);
1337:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1338:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1339:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Send descriptor - Data Phase */
1340:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     //zlt is false=>not zero length packet, send dev descriptor to host.
1341:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     else
1342:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	status = usbd_send_data_ep0in(0, (unsigned int)buffer_ptr, size, 0);
1343:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1344:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(status != USB_SUCCESS)
1345:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	return USBERR_TX_FAILED;
1346:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1347:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return USB_OK;
1348:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1349:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1350:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1351:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1352:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1353:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Set_Address
1354:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1355:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function configures Controller to send data on an SEND endpoint
1356:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1357:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle  : USB Device handle
1358:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param address : Controller Address
1359:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1360:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
1361:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1362:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1363:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Assigns the Address to the Controller
1364:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1365:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void  USB_DCI_Set_Address (
1366:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle    handle,    /* [IN] USB Device handle */
1367:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8                address    /* [IN] Address of the USB device */
1368:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
1369:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1370:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1371:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	UNUSED(handle);
1372:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1373:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* set the address */
1374:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1375:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_ADDR = address;
1376:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
1377:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USBHS_DEVICEADDR = USBHS_DEVICEADDR_USBADR(address);
1378:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1379:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1380:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_set_status(&g_dci_controller_Id, USB_STATUS_DEVICE_STATE,
1381:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_STATE_ADDRESS);
1382:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
1383:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1384:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1385:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1386:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1387:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Shutdown
1388:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1389:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function shuts down the controller
1390:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1391:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle : USB Device handle
1392:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1393:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
1394:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1395:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1396:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * Resets USB Device Controller
1397:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1398:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void USB_DCI_Shutdown (
1399:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle    handle    /* [IN] USB Device handle */
1400:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
1401:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1402:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	UNUSED(handle);
1403:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1404:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Reset the Control Register */
1405:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL = 0;
1406:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Initiate Reset in the USB Control0 Register */
1407:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****   #ifndef OTG_BUILD
1408:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1409:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_USBTRC0 = _USBRESET;
1410:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****   #endif
1411:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1412:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	_usb_device_set_status(&g_dci_controller_Id, USB_STATUS_DEVICE_STATE,
1413:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_STATE_UNKNOWN);
1414:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
1415:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
1416:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if USART_DEBUG
1417:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     printf("%s\n", __func__);
1418:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* USART_DEBUG */
1419:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1420:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1421:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1422:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1423:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1424:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_DCI_Assert_Resume
1425:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1426:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function makes the Controller start USB RESUME signaling
1427:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1428:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param handle : USB Device handle
1429:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1430:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
1431:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1432:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1433:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1434:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function starts RESUME signalling and then stops it after some delay.
1435:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * In this delay make sure that COP is reset.
1436:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1437:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1438:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void USB_DCI_Assert_Resume (
1439:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     _usb_device_handle    handle    /* [IN] USB Device handle */
1440:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
1441:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1442:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1443:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_16 delay_count;
1444:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1445:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Clear SUSP Bit from USB_CTRL */
1446:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_USBCTRL &= ~USB_USBCTRL_SUSP_MASK;
1447:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1448:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     (void)handle;
1449:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1450:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Reset Low Power RESUME enable */
1451:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_USBTRC0 &= ~USB_USBTRC0_USBRESMEN_MASK;
1452:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1453:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_DCI_WAKEUP
1454:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1455:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_CTL |= USB_CTL_RESUME_MASK;   /* Start RESUME signaling and make SUSPEND bit 0*/
1456:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1457:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     delay_count = ASSERT_RESUME_DELAY_COUNT; /* Set RESUME line for 1-15 ms*/
1458:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1459:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     do
1460:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1461:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        delay_count--;
1462:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        Watchdog_Reset();    /* Reset the COP */
1463:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }while(delay_count);
1464:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1465:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_CTL &= ~USB_CTL_RESUME_MASK;          /* Stop RESUME signalling */
1466:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1467:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
1468:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
1469:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USART_DEBUG
1470:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     printf("%s\n", __func__);
1471:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* USART_DEBUG */
1472:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1473:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1474:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1475:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1476:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1477:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_Bus_Token_Cpl_Handler
1478:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1479:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function handles Token Complete USB interrupts on the bus.
1480:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1481:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param stat  : BDT stat byte
1482:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param event : Pointer to USB EVENT Structure
1483:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1484:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
1485:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1486:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function handles Token Complete USB interrupts on the bus.
1487:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1488:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1489:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void USB_Bus_Token_Cpl_Handler (
1490:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 stat,            /* [IN] Value of STAT register */
1491:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_DEV_EVENT_STRUCT* event /* [IN] Pointer to USB EVENT Structure */
1492:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
1493:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1494:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdt_index = 0 ;
1495:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC buffer_dsc = NULL;
1496:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC buffer_dsc_alt = NULL;/* stores data of alternate buffer */
1497:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = NULL;
1498:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     boolean odd = (boolean)((stat & 0x04) >> 2);
1499:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1500:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Get the direction from STAT register */
1501:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event->direction = (uint_8)((stat & ENDPOINT_DIRECTION_MASK) >>
1502:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         ENDPOINT_DIRECTION_SHIFT);
1503:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1504:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1505:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Get bdt index corresponding to endpoint number and direction */
1506:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = USB_DCI_Get_BDT_Index(event->ep_num,event->direction, odd);
1507:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1508:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     buffer_dsc = &g_bdtmap->ep_dsc[bdt_index];
1509:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_index ^ 1];
1510:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1511:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
1512:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1513:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Get address from BDT */
1514:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event->buffer_ptr = (uint_8_ptr)SWAP32(buffer_dsc->addr);
1515:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1516:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Get len from BDT */
1517:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event->len = SWAP16(buffer_dsc->cnt);
1518:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1519:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Prepare for Next USB Transaction */
1520:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = (uint_8)(bdt_elem->bdtmap_index ^ 1);
1521:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->bdtmap_index = bdt_index;
1522:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1523:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Toggle Data PID*/
1524:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     buffer_dsc_alt->Stat._byte = (uint_8)((buffer_dsc->Stat.McuCtlBit.data ^ 1) << 6);
1525:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1526:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(event->direction == USB_SEND)
1527:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1528:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if(event->ep_num == CONTROL_ENDPOINT)
1529:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1530:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /* for Control Endpoint */
1531:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /* For Transfer Direction Host to Device */
1532:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             if(g_trf_direction == USB_RECV)
1533:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
1534:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /*
1535:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                    Enters here for first time after Set_Address TRANSFER
1536:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                    Completed
1537:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 */
1538:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* make Transfer Direction UNKNOWN */
1539:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 g_trf_direction = USB_TRF_UNKNOWN;
1540:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Cancel any pending Transfers on RECV Control Endpoint*/
1541:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 USB_DCI_Cancel_Transfer(&(event->controller_ID), (uint_8)CONTROL_ENDPOINT,
1542:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                   (uint_8)USB_RECV);
1543:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* We Require DATA0 PID for Setup Token */
1544:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->Stat._byte = _DATA0;
1545:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Prepare for Next SETUP PACKET Receive */
1546:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 USB_DCI_Recv_Data(&(event->controller_ID),
1547:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     CONTROL_ENDPOINT,
1548:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     NULL,0);
1549:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1550:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
1551:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }/* ep_num is CONTROL ENDPOINT */
1552:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1553:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef LONG_SEND_TRANSACTION
1554:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if( (g_trf_direction == USB_SEND) ||
1555:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (event->ep_num != CONTROL_ENDPOINT) )
1556:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1557:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /* update the request */
1558:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             bdt_elem->curr_offset += event->len;
1559:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /*
1560:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                Initiate next USB SEND if:
1561:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                1. More Data is still pending OR
1562:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                2. Send Data == Endpoint Size AND
1563:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                3. Zero Termination Flag is TRUE
1564:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             */
1565:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             if((bdt_elem->app_len > bdt_elem->curr_offset) ||
1566:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (((uint_8)event->len == bdt_elem->len) && (bdt_elem->flag == TRUE))
1567:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                )
1568:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
1569:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* send next Req */
1570:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 USB_DCI_Prepare_Send_Data(buffer_dsc_alt, bdt_elem);
1571:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1572:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* give the ownership to SIE and TOGGLE DATA BIT */
1573:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->Stat._byte = (uint_8)(
1574:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     ((buffer_dsc_alt->Stat.McuCtlBit.data) << 6) |
1575:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     _SIE | _DTS);;
1576:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 return;
1577:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
1578:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             else
1579:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
1580:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->buffer_ptr = bdt_elem->app_buffer;
1581:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->len = bdt_elem->curr_offset;
1582:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
1583:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1584:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1585:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }/* End of SEND loop */
1586:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     else /* direction IS USB_RECV */
1587:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1588:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if(event->ep_num == CONTROL_ENDPOINT)
1589:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1590:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /* for Control Endpoint */
1591:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             if(buffer_dsc->Stat.RecPid.pid == USB_SETUP_TOKEN)
1592:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
1593:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* set setup phase */
1594:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->setup = TRUE;
1595:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Transfer direction of next packet */
1596:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 g_trf_direction = (uint_8)((uint_8)
1597:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (event->buffer_ptr[0]) >> 7);
1598:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
1599:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             else if(g_trf_direction == USB_SEND)
1600:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
1601:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* make Transfer Direction UNKNOWN */
1602:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 g_trf_direction = USB_TRF_UNKNOWN;
1603:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Cancel any pending Transfers on SEND Control Endpoint*/
1604:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 USB_DCI_Cancel_Transfer(&(event->controller_ID), (uint_8)CONTROL_ENDPOINT,
1605:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 (uint_8)USB_SEND);
1606:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* We Require DATA0 PID for Setup Token */
1607:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->Stat._byte = _DATA0;
1608:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Prepare for Next SETUP PACKET Receive */
1609:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 USB_DCI_Recv_Data(&(event->controller_ID),
1610:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     CONTROL_ENDPOINT,
1611:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     NULL,0);
1612:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
1613:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }   /* ep_num is CONTROL ENDPOINT */
1614:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1615:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef LONG_RECEIVE_TRANSACTION
1616:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* For NON CONTROL ENDPOINT only */
1617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if(bdt_elem->app_len != (USB_PACKET_SIZE)UNINITIALISED_VAL)
1618:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1619:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /* on control endpoint the data is only 8 bytes */
1620:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             USB_PACKET_SIZE size = event->len;
1621:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             bdt_elem->curr_offset += size;
1622:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1623:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /*
1624:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                Initiate next USB RECV if:
1625:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                1. More Data is still pending OR
1626:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                2. Received Data == Endpoint Size AND
1627:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                3. Zero Termination Flag is TRUE
1628:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             */
1629:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             if(
1630:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                ( (size == bdt_elem->len) &&
1631:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (bdt_elem->app_len > bdt_elem->curr_offset)
1632:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                ) ||
1633:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                ( (bdt_elem->app_len)&&
1634:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (!(bdt_elem->app_len % bdt_elem->len)) &&
1635:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (bdt_elem->flag == TRUE)
1636:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                )
1637:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****               )
1638:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
1639:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* send next IO */
1640:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 uint_16 count;
1641:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 count = (uint_16)(((bdt_elem->app_len - bdt_elem->curr_offset)
1642:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     > bdt_elem->len) ? bdt_elem->len :
1643:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (bdt_elem->app_len - bdt_elem->curr_offset));
1644:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				if(count == 0)
1645:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				{
1646:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             		/* For Zero byte Packet Receive */
1647:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 					buffer_dsc_alt->addr = SWAP32(bdt_elem->addr);
1648:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = 0;
1649:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				}
1650:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				else
1651:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				{
1652:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     buffer_dsc_alt->addr = SWAP32((uint_32)(bdt_elem->app_buffer + bdt_elem->curr_o
1653:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = SWAP16(count);
1654:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				}
1655:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1656:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* give the ownership to SIE and Toggle DATA bit*/
1657:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->Stat._byte = (uint_8)((
1658:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (buffer_dsc_alt->Stat.McuCtlBit.data) << 6) |
1659:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     _SIE | _DTS);
1660:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 return;
1661:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
1662:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             else /* request completed */
1663:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
1664:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* populate buffer structure */
1665:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->buffer_ptr = bdt_elem->app_buffer;
1666:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->len = bdt_elem->curr_offset;
1667:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 bdt_elem->app_len = (USB_PACKET_SIZE)UNINITIALISED_VAL;
1668:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
1669:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1670:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1671:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     } /* End of RECV loop */
1672:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1673:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Notify Device Layer of Data Received or Sent Event */
1674:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     (void)USB_Device_Call_Service(event->ep_num, event);
1675:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1676:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
1677:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1678:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif	// HIGH_SPEED_DEVICE
1679:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1680:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if HIGH_SPEED_DEVICE
1681:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1682:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * */
1683:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** uint_32 sof_counter = 0;
1684:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** static uint_32 micro_sof_counter = 0;
1685:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void USBHS_ISR(void){
1686:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	uint_32 usbsts;
1687:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_32 reg;
1688:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB_DEV_EVENT_STRUCT event;
1689:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1690:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// get interrupt status
1691:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     reg = USBHS_USBINTR;
1692:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	usbsts = USBHS_USBSTS & reg;
1693:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1694:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// clear interrupt status
1695:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USBHS_USBSTS |= usbsts;
1696:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1697:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// initialize event structure
1698:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	event.controller_ID = g_dci_controller_Id;
1699:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	event.setup = FALSE;
1700:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	event.buffer_ptr = NULL;
1701:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	event.len = 0;
1702:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	event.direction = USB_RECV;
1703:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	event.errors = NO_ERRORS;
1704:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	event.ep_num = (uint_8)UNINITIALISED_VAL;
1705:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1706:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// handle SOF
1707:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(usbsts & USBHS_USBSTS_SRI_MASK){
1708:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		//USBHS_USBSTS |= USBHS_USBSTS_SRI_MASK;
1709:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef ULPI_FORCE_FULLSPEED
1710:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		sof_counter++;
1711:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
1712:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		if(++micro_sof_counter == 8){
1713:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			//sof_counter++;
1714:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			//micro_sof_counter = 0;
1715:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		}
1716:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1717:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
1718:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1719:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// handle Suspend
1720:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(usbsts & USBHS_USBSTS_SLI_MASK){
1721:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		USB_Device_Call_Service(USB_SERVICE_SUSPEND, &event);
1722:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		return;
1723:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
1724:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1725:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// handle Bus Reset
1726:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(usbsts & USBHS_USBSTS_URI_MASK){
1727:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		// handle reset
1728:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		USB_Bus_Reset_Handler();
1729:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1730:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		// notify device layer
1731:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		USB_Device_Call_Service(USB_SERVICE_BUS_RESET, &event);
1732:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		return;
1733:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
1734:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1735:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// handle Transaction Complete
1736:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(usbsts & USBHS_USBSTS_UI_MASK){
1737:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		if(!USBHS_EPSETUPSR && !USBHS_EPCOMPLETE){
1738:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USART_DEBUG
1739:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			printf("Warning: unexpected UI interrupt\n");
1740:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* USART_DEBUG */
1741:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		}
1742:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1743:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		// Handle dTD complete interrupt.
1744:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		// Must process EP complete events first, because setup complete events
1745:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		// trigger stack to re-prime endpoints.
1746:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		if(USBHS_EPCOMPLETE)
1747:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			usbd_ep_complete_handler(&event);
1748:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1749:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		// Handle setup compete packet interrupt
1750:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		if(USBHS_EPSETUPSR & USBHS_EPSETUPSR_EPSETUPSTAT(1))
1751:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			usbd_setup_packet_handler(&event);
1752:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1753:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		//
1754:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		if( (USBHS_EPSETUPSR & USBHS_EPSETUPSR_EPSETUPSTAT(2))||
1755:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				(USBHS_EPSETUPSR & USBHS_EPSETUPSR_EPSETUPSTAT(4))||
1756:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				(USBHS_EPSETUPSR & USBHS_EPSETUPSR_EPSETUPSTAT(8))){
1757:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if USART_DEBUG
1758:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			printf("");
1759:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* USART_DEBUG */
1760:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		}
1761:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
1762:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1763:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// handle Port Change
1764:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(usbsts & USBHS_USBSTS_PCI_MASK){
1765:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		usbd_port_change(&event);
1766:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
1767:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1768:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// handle USB Error
1769:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(usbsts & USBHS_USBSTS_UEI_MASK){
1770:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USART_DEBUG
1771:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		printf("USBHS: Error\n");
1772:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1773:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		// Notify Device Layer of ERROR Event to error service
1774:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		(void)USB_Device_Call_Service(USB_SERVICE_ERROR, &event);
1775:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
1776:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1777:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	// handle USB System Error
1778:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	if(usbsts & USBHS_USBSTS_SEI_MASK){
1779:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USART_DEBUG
1780:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		printf("USBHS: System Error\n");
1781:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1782:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		// Notify Device Layer of ERROR Event to error service
1783:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		(void)USB_Device_Call_Service(USB_SERVICE_ERROR, &event);
1784:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
1785:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1786:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1787:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif	// HIGH_SPEED_DEVICE
1788:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1789:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1790:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1791:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  USB_ISR
1792:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1793:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function handles USB interrupts on the bus.
1794:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1795:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param None
1796:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1797:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
1798:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1799:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1800:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function is hooked onto interrupt 69 and handles the USB interrupts.
1801:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * After handling the interrupt it calls the Device Layer to notify it about
1802:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * the event.
1803:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1804:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
1805:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void USB_ISR(void)
1806:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
1807:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Which interrupt occured and also was enabled */
1808:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	uint_8 v1 = USB0_ISTAT;
1809:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	uint_8 v2 = USB0_INTEN;
1810:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 intr_stat = (uint_8)(v1 & v2);
1811:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 stat = (uint_8)USB0_STAT;
1812:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_DEV_EVENT_STRUCT event;
1813:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 dev_state = USB_STATUS_UNKNOWN;
1814:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1815:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* initialize event structure */
1816:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.controller_ID = g_dci_controller_Id;
1817:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.setup = FALSE;
1818:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.buffer_ptr = NULL;
1819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.len = 0;
1820:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.direction = USB_RECV;
1821:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.errors = NO_ERRORS;
1822:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1823:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.ep_num = (uint_8)UNINITIALISED_VAL;
1824:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1825:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Get the device state from the Device Layer */
1826:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     (void)_usb_device_get_status(&g_dci_controller_Id, USB_STATUS_DEVICE_STATE,
1827:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         &dev_state);
1828:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1829:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* if current device state is SUSPEND and Low Power Resume Flag set */
1830:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if((USB0_USBTRC0 & USB_USBTRC0_USB_RESUME_INT_MASK) && (dev_state == USB_STATE_SUSPEND))
1831:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1832:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear SUSP Bit from USB_CTRL */
1833:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	USB0_USBCTRL &= ~USB_USBCTRL_SUSP_MASK;
1834:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1835:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Reset Low Power RESUME enable */
1836:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_USBTRC0 &= ~USB_USBTRC0_USBRESMEN_MASK;
1837:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1838:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1839:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* SOF received */
1840:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(SOF_TOKEN_FLAG(intr_stat))
1841:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1842:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         uint_16 sof_count;
1843:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		uint_16 tmp1, tmp2, tmp3;
1844:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		tmp1 = USB0_FRMNUMH;
1845:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		tmp2 = FRAME_HIGH_BYTE_SHIFT;
1846:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		tmp3 = USB0_FRMNUML;
1847:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear SOF Interrupt */
1848:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_ISTAT = USB_ISTAT_SOFTOK_MASK;
1849:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         sof_count = (uint_16)((tmp1 << tmp2) | tmp3);
1850:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /*address of Lower byte of Frame number*/
1851:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         event.buffer_ptr = (uint_8_ptr)(&sof_count);
1852:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Notify Device Layer of SOF Event */
1853:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (void)USB_Device_Call_Service(USB_SERVICE_SOF, &event);
1854:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1855:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USE_FEEDBACK_ENDPOINT
1856:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         // set feedback rate info number
1857:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if(gNrSamples!=0)
1858:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         	feedback_data = gNrSamples;
1859:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         gNrSamples = 0;
1860:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1861:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1862:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1863:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(BUS_RESET_FLAG(intr_stat))
1864:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1865:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear Reset Flag */
1866:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	USB0_ISTAT = USB_ISTAT_USBRST_MASK;
1867:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1868:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Handle RESET Interrupt */
1869:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_Bus_Reset_Handler();
1870:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1871:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Notify Device Layer of RESET Event */
1872:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (void)USB_Device_Call_Service(USB_SERVICE_BUS_RESET, &event);
1873:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1874:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clearing this bit allows the SIE to continue token processing
1875:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****            and clear suspend condition */
1876:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_CTL &= ~USB_CTL_TXSUSPENDTOKENBUSY_MASK;
1877:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1878:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* No need to process other interrupts */
1879:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         return;
1880:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1881:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1882:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(TOKEN_COMPL_FLAG(intr_stat))
1883:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1884:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear TOKEN Interrupt */
1885:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	USB0_ISTAT = USB_ISTAT_TOKDNE_MASK;
1886:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1887:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         event.ep_num = (uint_8)((stat & ENDPOINT_NUMBER_MASK) >>
1888:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             ENDPOINT_NUMBER_SHIFT);
1889:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1890:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_Bus_Token_Cpl_Handler(stat, &event);
1891:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1892:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clearing this bit allows the SIE to continue token processing
1893:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****            and clear suspend condition */
1894:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_CTL &= ~USB_CTL_TXSUSPENDTOKENBUSY_MASK;
1895:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1896:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1897:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(ERROR_FLAG(intr_stat))
1898:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1899:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear ERROR Interrupt */
1900:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	USB0_ISTAT = USB_ISTAT_ERROR_MASK;
1901:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1902:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		v1 = USB0_ERRSTAT;
1903:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		v2 = USB0_ERREN;
1904:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         event.errors = (uint_8)(v1 & v2);
1905:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1906:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Notify Device Layer of ERROR Event to error service */
1907:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (void)USB_Device_Call_Service(USB_SERVICE_ERROR, &event);
1908:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1909:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        USB0_ERRSTAT = ERR_STAT_CLEAR_ALL;  /*clear all errors*/
1910:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clearing this bit allows the SIE to continue token processing
1911:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****            and clear suspend condition */
1912:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        USB0_CTL &= ~USB_CTL_TXSUSPENDTOKENBUSY_MASK;
1913:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1914:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1915:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(SLEEP_FLAG(intr_stat))
1916:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1917:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear RESUME Interrupt if Pending */
1918:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	USB0_ISTAT = USB_ISTAT_RESUME_MASK;
1919:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1920:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear SLEEP Interrupt */
1921:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	USB0_ISTAT = USB_ISTAT_SLEEP_MASK;
1922:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1923:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Notify Device Layer of SLEEP Event */
1924:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (void)USB_Device_Call_Service(USB_SERVICE_SLEEP, &event);
1925:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1926:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Set Low Power RESUME enable */
1927:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_USBTRC0 |= USB_USBTRC0_USBRESMEN_MASK;
1928:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1929:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Set SUSP Bit in USB_CTRL */
1930:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_USBCTRL |= USB_USBCTRL_SUSP_MASK;
1931:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1932:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Enable RESUME Interrupt */
1933:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_INTEN |= USB_INTEN_RESUMEEN_MASK;
1934:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USB_LOWPOWERMODE
1935:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Enter Stop3 Mode*/
1936:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         Enter_StopMode(STOP_MODE3);
1937:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
1938:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1939:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1940:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(RESUME_FLAG(intr_stat))
1941:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1942:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear RESUME Interrupt */
1943:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     	USB0_ISTAT = USB_ISTAT_RESUME_MASK;
1944:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1945:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Notify Device Layer of RESUME Event */
1946:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (void)USB_Device_Call_Service(USB_SERVICE_RESUME, &event);
1947:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1948:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Disable RESUME Interrupt */
1949:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_INTEN &= ~USB_INTEN_RESUMEEN_MASK;
1950:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1951:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1952:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     if(STALL_FLAG(intr_stat))
1953:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
1954:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         uint_8 endp_status;
1955:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         event.ep_num = (uint_8)UNINITIALISED_VAL;
1956:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1957:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* If Control Endpoint is stalled then unstall it.
1958:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         For other endpoints host issues clear endpoint feature request
1959:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         to unstall them */
1960:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1961:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Get Control Endpoint Status*/
1962:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (void)_usb_device_get_status(&(event.controller_ID),
1963:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (USB_STATUS_ENDPOINT|CONTROL_ENDPOINT),
1964:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             &endp_status);
1965:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         if(endp_status == USB_STATUS_STALLED)
1966:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
1967:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             event.ep_num = CONTROL_ENDPOINT;
1968:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             event.direction = USB_SEND;
1969:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
1970:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1971:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear STALL Interrupt */
1972:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_ISTAT = USB_ISTAT_STALL_MASK;
1973:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1974:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Notify Device Layer of STALL Event */
1975:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         (void)USB_Device_Call_Service(USB_SERVICE_STALL, &event);
1976:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1977:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clearing this bit allows the SIE to continue token processing
1978:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****            and clear suspend condition */
1979:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB0_CTL &= ~USB_CTL_TXSUSPENDTOKENBUSY_MASK;
1980:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
1981:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
1982:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
1983:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif // HIGH_SPEED_DEVICE
1984:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
1985:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** /**************************************************************************//*!
1986:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1987:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @name  Clear_Mem
1988:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1989:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @brief The function clears memory starting from start_addr till count bytes
1990:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1991:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param start_addr : Buffer Start address
1992:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param count      : Count of Bytes
1993:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @param val        : Value to be set
1994:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *
1995:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * @return None
1996:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  ******************************************************************************
1997:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  * This function is an implementation of memset
1998:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****  *****************************************************************************/
1999:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** void Clear_Mem (
2000:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8_ptr start_addr,  /* [OUT] Buffer Start address */
2001:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_32 count,          /* [IN] Count of Bytes */
2002:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 val              /* [IN] Value to be set */
2003:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** )
2004:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     (void)memset(start_addr, val, count);
 134              		.loc 1 2005 11 is_stmt 0 view .LVU34
 135 0040 4FF41072 		mov	r2, #576
 136              	.LBE15:
 137              	.LBE14:
 424:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 138              		.loc 1 424 25 view .LVU35
 139 0044 85F84002 		strb	r0, [r5, #576]
 427:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (sizeof(BDT_ELEM) * (MAX_BDT_INDEX >> 1)),
 140              		.loc 1 427 5 is_stmt 1 view .LVU36
 141              	.LVL10:
 142              	.LBB18:
 143              	.LBI14:
1999:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8_ptr start_addr,  /* [OUT] Buffer Start address */
 144              		.loc 1 1999 6 view .LVU37
 145              	.LBB16:
 146              		.loc 1 2005 5 view .LVU38
 147              	.LBE16:
 148              	.LBE18:
 416:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 149              		.loc 1 416 1 is_stmt 0 view .LVU39
 150 0048 0E46     		mov	r6, r1
 151              	.LBB19:
 152              	.LBB17:
 153              		.loc 1 2005 11 view .LVU40
 154 004a 2846     		mov	r0, r5
 155              	.LVL11:
 156              		.loc 1 2005 11 view .LVU41
 157 004c FF21     		movs	r1, #255
 158              	.LVL12:
 159              		.loc 1 2005 11 view .LVU42
 160 004e FFF7FEFF 		bl	memset
 161              	.LVL13:
2006:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 162              		.loc 1 2006 5 is_stmt 1 view .LVU43
 163              		.loc 1 2006 5 is_stmt 0 view .LVU44
 164              	.LBE17:
 165              	.LBE19:
 430:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 166              		.loc 1 430 5 is_stmt 1 view .LVU45
 430:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 167              		.loc 1 430 14 is_stmt 0 view .LVU46
 168 0052 2C4B     		ldr	r3, .L15+8
 169 0054 C5F84432 		str	r3, [r5, #580]
 433:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 170              		.loc 1 433 5 is_stmt 1 view .LVU47
 171              	.LVL14:
 172              	.LBB20:
 173              	.LBI20:
1999:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8_ptr start_addr,  /* [OUT] Buffer Start address */
 174              		.loc 1 1999 6 view .LVU48
 175              	.LBB21:
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 176              		.loc 1 2005 5 view .LVU49
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 177              		.loc 1 2005 11 is_stmt 0 view .LVU50
 178 0058 4FF48062 		mov	r2, #1024
 179 005c 3946     		mov	r1, r7
 180 005e 1846     		mov	r0, r3
 181 0060 FFF7FEFF 		bl	memset
 182              	.LVL15:
 183              		.loc 1 2006 5 is_stmt 1 view .LVU51
 184              		.loc 1 2006 5 is_stmt 0 view .LVU52
 185              	.LBE21:
 186              	.LBE20:
 438:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 187              		.loc 1 438 5 is_stmt 1 view .LVU53
 438:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 188              		.loc 1 438 18 is_stmt 0 view .LVU54
 189 0064 94F80C21 		ldrb	r2, [r4, #268]	@ zero_extendqisi2
 190 0068 42F08002 		orr	r2, r2, #128
 191 006c 84F80C21 		strb	r2, [r4, #268]
 441:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 192              		.loc 1 441 5 is_stmt 1 view .LVU55
 193 0070 0246     		mov	r2, r0
 194              	.L10:
 443:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #if !USB_USER_CONFIG_USE_STACK_INIT
 195              		.loc 1 443 5 discriminator 1 view .LVU56
 441:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 196              		.loc 1 441 10 discriminator 1 view .LVU57
 441:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 197              		.loc 1 441 12 is_stmt 0 discriminator 1 view .LVU58
 198 0072 94F80C31 		ldrb	r3, [r4, #268]	@ zero_extendqisi2
 441:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 199              		.loc 1 441 10 discriminator 1 view .LVU59
 200 0076 1B06     		lsls	r3, r3, #24
 201 0078 FBD4     		bmi	.L10
 443:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #if !USB_USER_CONFIG_USE_STACK_INIT
 202              		.loc 1 443 6 is_stmt 1 view .LVU60
 455:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 203              		.loc 1 455 5 view .LVU61
 455:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 204              		.loc 1 455 21 is_stmt 0 view .LVU62
 205 007a 234B     		ldr	r3, .L15+12
 206 007c FF21     		movs	r1, #255
 207 007e 1970     		strb	r1, [r3]
 459:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 208              		.loc 1 459 5 is_stmt 1 view .LVU63
 459:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 209              		.loc 1 459 18 is_stmt 0 view .LVU64
 210 0080 94F80C31 		ldrb	r3, [r4, #268]	@ zero_extendqisi2
 211 0084 43F04003 		orr	r3, r3, #64
 212 0088 84F80C31 		strb	r3, [r4, #268]
 461:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 213              		.loc 1 461 5 is_stmt 1 view .LVU65
 214 008c 1F4B     		ldr	r3, .L15+16
 463:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 215              		.loc 1 463 16 is_stmt 0 view .LVU66
 216 008e 1968     		ldr	r1, [r3]
 461:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 217              		.loc 1 461 7 view .LVU67
 218 0090 86B3     		cbz	r6, .L11
 463:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 219              		.loc 1 463 6 is_stmt 1 view .LVU68
 463:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 220              		.loc 1 463 16 is_stmt 0 view .LVU69
 221 0092 41F00041 		orr	r1, r1, #-2147483648
 222              	.L14:
 467:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 223              		.loc 1 467 16 view .LVU70
 224 0096 1960     		str	r1, [r3]
 472:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE2 = (uint_8)((uint_32)g_bdtmap >> 16);
 225              		.loc 1 472 5 is_stmt 1 view .LVU71
 472:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE2 = (uint_8)((uint_32)g_bdtmap >> 16);
 226              		.loc 1 472 19 is_stmt 0 view .LVU72
 227 0098 184B     		ldr	r3, .L15
 472:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE2 = (uint_8)((uint_32)g_bdtmap >> 16);
 228              		.loc 1 472 21 view .LVU73
 229 009a C2F30721 		ubfx	r1, r2, #8, #8
 472:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE2 = (uint_8)((uint_32)g_bdtmap >> 16);
 230              		.loc 1 472 19 view .LVU74
 231 009e 83F89C10 		strb	r1, [r3, #156]
 473:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE3 = (uint_8)((uint_32)g_bdtmap >> 24);
 232              		.loc 1 473 5 is_stmt 1 view .LVU75
 473:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE3 = (uint_8)((uint_32)g_bdtmap >> 24);
 233              		.loc 1 473 21 is_stmt 0 view .LVU76
 234 00a2 C2F30741 		ubfx	r1, r2, #16, #8
 474:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 235              		.loc 1 474 21 view .LVU77
 236 00a6 120E     		lsrs	r2, r2, #24
 473:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_BDTPAGE3 = (uint_8)((uint_32)g_bdtmap >> 24);
 237              		.loc 1 473 19 view .LVU78
 238 00a8 83F8B010 		strb	r1, [r3, #176]
 474:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 239              		.loc 1 474 5 is_stmt 1 view .LVU79
 474:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 240              		.loc 1 474 19 is_stmt 0 view .LVU80
 241 00ac 83F8B420 		strb	r2, [r3, #180]
 477:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 242              		.loc 1 477 5 is_stmt 1 view .LVU81
 477:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 243              		.loc 1 477 40 is_stmt 0 view .LVU82
 244 00b0 174A     		ldr	r2, .L15+20
 477:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 245              		.loc 1 477 19 view .LVU83
 246 00b2 C5F84822 		str	r2, [r5, #584]
 482:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #endif
 247              		.loc 1 482 5 is_stmt 1 view .LVU84
 482:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     #endif
 248              		.loc 1 482 18 is_stmt 0 view .LVU85
 249 00b6 1022     		movs	r2, #16
 250 00b8 83F80821 		strb	r2, [r3, #264]
 485:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_ISTAT = INT_STAT_CLEAR_ALL;      	/* Clear USB interrupts*/
 251              		.loc 1 485 5 is_stmt 1 view .LVU86
 485:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB0_ISTAT = INT_STAT_CLEAR_ALL;      	/* Clear USB interrupts*/
 252              		.loc 1 485 14 is_stmt 0 view .LVU87
 253 00bc 0122     		movs	r2, #1
 254 00be 83F89420 		strb	r2, [r3, #148]
 486:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 255              		.loc 1 486 5 is_stmt 1 view .LVU88
 486:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 256              		.loc 1 486 16 is_stmt 0 view .LVU89
 257 00c2 BF22     		movs	r2, #191
 258 00c4 83F88020 		strb	r2, [r3, #128]
 489:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 259              		.loc 1 489 5 is_stmt 1 view .LVU90
 489:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 260              		.loc 1 489 18 is_stmt 0 view .LVU91
 261 00c8 93F80021 		ldrb	r2, [r3, #256]	@ zero_extendqisi2
 262 00cc 02F07F02 		and	r2, r2, #127
 263 00d0 83F80021 		strb	r2, [r3, #256]
 493:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 264              		.loc 1 493 5 is_stmt 1 view .LVU92
 493:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 265              		.loc 1 493 16 is_stmt 0 view .LVU93
 266 00d4 93F88420 		ldrb	r2, [r3, #132]	@ zero_extendqisi2
 267 00d8 42F00102 		orr	r2, r2, #1
 268 00dc 83F88420 		strb	r2, [r3, #132]
 496:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 269              		.loc 1 496 5 is_stmt 1 view .LVU94
 496:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 270              		.loc 1 496 16 is_stmt 0 view .LVU95
 271 00e0 93F88420 		ldrb	r2, [r3, #132]	@ zero_extendqisi2
 272 00e4 42F01002 		orr	r2, r2, #16
 273 00e8 83F88420 		strb	r2, [r3, #132]
 498:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* USB_USER_CONFIG_USE_STACK_INIT */
 274              		.loc 1 498 5 is_stmt 1 view .LVU96
 498:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif /* USB_USER_CONFIG_USE_STACK_INIT */
 275              		.loc 1 498 17 is_stmt 0 view .LVU97
 276 00ec 8422     		movs	r2, #132
 277 00ee 1A77     		strb	r2, [r3, #28]
 528:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 278              		.loc 1 528 5 is_stmt 1 view .LVU98
 529:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 279              		.loc 1 529 1 is_stmt 0 view .LVU99
 280 00f0 0020     		movs	r0, #0
 281 00f2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 282              	.L11:
 467:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 283              		.loc 1 467 6 is_stmt 1 view .LVU100
 467:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 284              		.loc 1 467 16 is_stmt 0 view .LVU101
 285 00f4 21F00041 		bic	r1, r1, #-2147483648
 286 00f8 CDE7     		b	.L14
 287              	.L16:
 288 00fa 00BF     		.align	2
 289              	.L15:
 290 00fc 00200740 		.word	1074208768
 291 0100 00000000 		.word	.LANCHOR0
 292 0104 00000000 		.word	g_Mem
 293 0108 00000000 		.word	.LANCHOR1
 294 010c 00700440 		.word	1074032640
 295 0110 00020000 		.word	g_Mem+512
 296              		.cfi_endproc
 297              	.LFE4:
 299              		.align	1
 300              		.global	USB_DCI_DeInit
 301              		.syntax unified
 302              		.thumb
 303              		.thumb_func
 304              		.fpu softvfp
 306              	USB_DCI_DeInit:
 307              	.LFB5:
 545:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 308              		.loc 1 545 1 is_stmt 1 view -0
 309              		.cfi_startproc
 310              		@ args = 0, pretend = 0, frame = 0
 311              		@ frame_needed = 0, uses_anonymous_args = 0
 312              		@ link register save eliminated.
 559:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 313              		.loc 1 559 2 view .LVU103
 559:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 314              		.loc 1 559 15 is_stmt 0 view .LVU104
 315 0114 0D4B     		ldr	r3, .L18
 316 0116 93F80C21 		ldrb	r2, [r3, #268]	@ zero_extendqisi2
 317 011a 02F0BF02 		and	r2, r2, #191
 318 011e 83F80C21 		strb	r2, [r3, #268]
 564:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 319              		.loc 1 564 2 is_stmt 1 view .LVU105
 564:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 320              		.loc 1 564 13 is_stmt 0 view .LVU106
 321 0122 BF22     		movs	r2, #191
 322 0124 83F88020 		strb	r2, [r3, #128]
 567:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 323              		.loc 1 567 2 is_stmt 1 view .LVU107
 567:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 324              		.loc 1 567 13 is_stmt 0 view .LVU108
 325 0128 93F88420 		ldrb	r2, [r3, #132]	@ zero_extendqisi2
 326 012c 02F0FE02 		and	r2, r2, #254
 327 0130 83F88420 		strb	r2, [r3, #132]
 570:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 328              		.loc 1 570 2 is_stmt 1 view .LVU109
 570:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 329              		.loc 1 570 11 is_stmt 0 view .LVU110
 330 0134 93F89420 		ldrb	r2, [r3, #148]	@ zero_extendqisi2
 331 0138 02F0FE02 		and	r2, r2, #254
 332 013c 83F89420 		strb	r2, [r3, #148]
 572:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH_SPEED_DEVICE
 333              		.loc 1 572 5 is_stmt 1 view .LVU111
 572:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH_SPEED_DEVICE
 334              		.loc 1 572 17 is_stmt 0 view .LVU112
 335 0140 1A7F     		ldrb	r2, [r3, #28]	@ zero_extendqisi2
 336 0142 02F07B02 		and	r2, r2, #123
 337 0146 1A77     		strb	r2, [r3, #28]
 576:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 338              		.loc 1 576 3 is_stmt 1 view .LVU113
 577:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 339              		.loc 1 577 1 is_stmt 0 view .LVU114
 340 0148 0020     		movs	r0, #0
 341 014a 7047     		bx	lr
 342              	.L19:
 343              		.align	2
 344              	.L18:
 345 014c 00200740 		.word	1074208768
 346              		.cfi_endproc
 347              	.LFE5:
 349              		.align	1
 350              		.global	USB_DCI_Init_EndPoint
 351              		.syntax unified
 352              		.thumb
 353              		.thumb_func
 354              		.fpu softvfp
 356              	USB_DCI_Init_EndPoint:
 357              	.LVL16:
 358              	.LFB6:
 608:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 359              		.loc 1 608 1 is_stmt 1 view -0
 360              		.cfi_startproc
 361              		@ args = 0, pretend = 0, frame = 8
 362              		@ frame_needed = 0, uses_anonymous_args = 0
 610:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 bdtelem_index;
 363              		.loc 1 610 5 view .LVU116
 611:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 ep_num = ep_ptr->ep_num;
 364              		.loc 1 611 5 view .LVU117
 612:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 direction = ep_ptr->direction;
 365              		.loc 1 612 5 view .LVU118
 608:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 366              		.loc 1 608 1 is_stmt 0 view .LVU119
 367 0150 2DE9F341 		push	{r0, r1, r4, r5, r6, r7, r8, lr}
 368              	.LCFI1:
 369              		.cfi_def_cfa_offset 32
 370              		.cfi_offset 4, -24
 371              		.cfi_offset 5, -20
 372              		.cfi_offset 6, -16
 373              		.cfi_offset 7, -12
 374              		.cfi_offset 8, -8
 375              		.cfi_offset 14, -4
 614:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC temp;
 376              		.loc 1 614 13 view .LVU120
 377 0154 0423     		movs	r3, #4
 378 0156 0820     		movs	r0, #8
 379              	.LVL17:
 614:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC temp;
 380              		.loc 1 614 13 view .LVU121
 381 0158 CDE90003 		strd	r0, r3, [sp]
 620:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 382              		.loc 1 620 7 view .LVU122
 383 015c B1F80330 		ldrh	r3, [r1, #3]	@ unaligned
 612:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 direction = ep_ptr->direction;
 384              		.loc 1 612 12 view .LVU123
 385 0160 0E78     		ldrb	r6, [r1]	@ zero_extendqisi2
 386              	.LVL18:
 613:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_32 ep_ctrl[2] = {EP_OUT, EP_IN};
 387              		.loc 1 613 5 is_stmt 1 view .LVU124
 613:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_32 ep_ctrl[2] = {EP_OUT, EP_IN};
 388              		.loc 1 613 12 is_stmt 0 view .LVU125
 389 0162 8C78     		ldrb	r4, [r1, #2]	@ zero_extendqisi2
 390              	.LVL19:
 614:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC temp;
 391              		.loc 1 614 5 is_stmt 1 view .LVU126
 615:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem;
 392              		.loc 1 615 5 view .LVU127
 616:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(controller_ID);
 393              		.loc 1 616 5 view .LVU128
 617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 394              		.loc 1 617 5 view .LVU129
 617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 395              		.loc 1 617 26 view .LVU130
 620:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 396              		.loc 1 620 5 view .LVU131
 620:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 397              		.loc 1 620 7 is_stmt 0 view .LVU132
 398 0164 B3F5007F 		cmp	r3, #512
 622:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 399              		.loc 1 622 9 is_stmt 1 view .LVU133
 622:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 400              		.loc 1 622 22 is_stmt 0 view .LVU134
 401 0168 81BF     		itttt	hi
 402 016a 0023     		movhi	r3, #0
 403 016c CB70     		strbhi	r3, [r1, #3]
 404 016e 0223     		movhi	r3, #2
 405 0170 0B71     		strbhi	r3, [r1, #4]
 626:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 406              		.loc 1 626 5 is_stmt 1 view .LVU135
 407              	.LVL20:
 408              	.LBB24:
 409              	.LBI24:
 292:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 ep_num,     /* [IN] Endpoint Number */
 410              		.loc 1 292 15 view .LVU136
 411              	.LBB25:
 298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 412              		.loc 1 298 5 view .LVU137
 300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 413              		.loc 1 300 5 view .LVU138
 300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 414              		.loc 1 300 7 is_stmt 0 view .LVU139
 415 0172 062E     		cmp	r6, #6
 416 0174 75D8     		bhi	.L29
 303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 417              		.loc 1 303 9 is_stmt 1 view .LVU140
 303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 418              		.loc 1 303 19 is_stmt 0 view .LVU141
 419 0176 B000     		lsls	r0, r6, #2
 420 0178 C3B2     		uxtb	r3, r0
 421              	.LVL21:
 305:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 422              		.loc 1 305 9 is_stmt 1 view .LVU142
 305:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 423              		.loc 1 305 11 is_stmt 0 view .LVU143
 424 017a 012C     		cmp	r4, #1
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 425              		.loc 1 307 13 is_stmt 1 view .LVU144
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 426              		.loc 1 307 23 is_stmt 0 view .LVU145
 427 017c 04BF     		itt	eq
 428 017e 0233     		addeq	r3, r3, #2
 429              	.LVL22:
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 430              		.loc 1 307 23 view .LVU146
 431 0180 DBB2     		uxtbeq	r3, r3
 432              	.LVL23:
 310:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 433              		.loc 1 310 5 is_stmt 1 view .LVU147
 310:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 434              		.loc 1 310 5 is_stmt 0 view .LVU148
 435              	.LBE25:
 436              	.LBE24:
 628:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 437              		.loc 1 628 5 is_stmt 1 view .LVU149
 634:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (g_bdt_elem[bdtelem_index].len != (uint_16)UNINITIALISED_VAL) ||
 438              		.loc 1 634 5 view .LVU150
 635:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (ep_ptr->type > USB_INTERRUPT_PIPE) ||
 439              		.loc 1 635 34 is_stmt 0 view .LVU151
 440 0182 394D     		ldr	r5, .L30
 441 0184 4FEA530C 		lsr	ip, r3, #1
 442 0188 1223     		movs	r3, #18
 443              	.LVL24:
 635:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (ep_ptr->type > USB_INTERRUPT_PIPE) ||
 444              		.loc 1 635 34 view .LVU152
 445 018a 03FB0C53 		mla	r3, r3, ip, r5
 634:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (g_bdt_elem[bdtelem_index].len != (uint_16)UNINITIALISED_VAL) ||
 446              		.loc 1 634 45 view .LVU153
 447 018e 4FF6FF77 		movw	r7, #65535
 448 0192 B3F800E0 		ldrh	lr, [r3]	@ unaligned
 449 0196 BE45     		cmp	lr, r7
 450              	.LVL25:
 634:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (g_bdt_elem[bdtelem_index].len != (uint_16)UNINITIALISED_VAL) ||
 451              		.loc 1 634 45 view .LVU154
 452 0198 63D1     		bne	.L29
 636:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (ep_ptr->direction > USB_SEND))
 453              		.loc 1 636 15 view .LVU155
 454 019a 4F78     		ldrb	r7, [r1, #1]	@ zero_extendqisi2
 635:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (ep_ptr->type > USB_INTERRUPT_PIPE) ||
 455              		.loc 1 635 70 view .LVU156
 456 019c 032F     		cmp	r7, #3
 457 019e 60D8     		bhi	.L29
 636:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (ep_ptr->direction > USB_SEND))
 458              		.loc 1 636 44 view .LVU157
 459 01a0 012C     		cmp	r4, #1
 460              	.LVL26:
 636:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (ep_ptr->direction > USB_SEND))
 461              		.loc 1 636 44 view .LVU158
 462 01a2 5ED8     		bhi	.L29
 642:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Reset Handler resets bdtmap_index to UNINITIALISED_VAL */
 463              		.loc 1 642 5 is_stmt 1 view .LVU159
 464              	.LVL27:
 644:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 465              		.loc 1 644 5 view .LVU160
 644:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 466              		.loc 1 644 7 is_stmt 0 view .LVU161
 467 01a4 93F80FE0 		ldrb	lr, [r3, #15]	@ zero_extendqisi2
 468 01a8 BEF1FF0F 		cmp	lr, #255
 469              	.LVL28:
 646:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 470              		.loc 1 646 9 is_stmt 1 view .LVU162
 646:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 471              		.loc 1 646 32 is_stmt 0 view .LVU163
 472 01ac 04BF     		itt	eq
 473 01ae 4FF0000E 		moveq	lr, #0
 474 01b2 83F80FE0 		strbeq	lr, [r3, #15]
 650:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->flag = flag;
 475              		.loc 1 650 5 is_stmt 1 view .LVU164
 650:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->flag = flag;
 476              		.loc 1 650 19 is_stmt 0 view .LVU165
 477 01b6 1223     		movs	r3, #18
 478 01b8 03FB0CF3 		mul	r3, r3, ip
 479 01bc 05EB0308 		add	r8, r5, r3
 650:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->flag = flag;
 480              		.loc 1 650 36 view .LVU166
 481 01c0 B1F803E0 		ldrh	lr, [r1, #3]	@ unaligned
 650:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->flag = flag;
 482              		.loc 1 650 19 view .LVU167
 483 01c4 25F803E0 		strh	lr, [r5, r3]	@ unaligned
 651:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* preserving even/odd buffer bit */
 484              		.loc 1 651 5 is_stmt 1 view .LVU168
 653:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->bdtmap_index |= ((direction << 1) | (ep_num << 2));
 485              		.loc 1 653 28 is_stmt 0 view .LVU169
 486 01c8 98F80F30 		ldrb	r3, [r8, #15]	@ zero_extendqisi2
 651:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* preserving even/odd buffer bit */
 487              		.loc 1 651 20 view .LVU170
 488 01cc 88F80E20 		strb	r2, [r8, #14]
 653:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->bdtmap_index |= ((direction << 1) | (ep_num << 2));
 489              		.loc 1 653 5 is_stmt 1 view .LVU171
 654:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->addr = g_bdt_address;
 490              		.loc 1 654 5 view .LVU172
 654:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->addr = g_bdt_address;
 491              		.loc 1 654 49 is_stmt 0 view .LVU173
 492 01d0 40EA4400 		orr	r0, r0, r4, lsl #1
 493              	.LVL29:
 653:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->bdtmap_index |= ((direction << 1) | (ep_num << 2));
 494              		.loc 1 653 28 view .LVU174
 495 01d4 03F00103 		and	r3, r3, #1
 654:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->addr = g_bdt_address;
 496              		.loc 1 654 28 view .LVU175
 497 01d8 0343     		orrs	r3, r3, r0
 659:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 498              		.loc 1 659 21 view .LVU176
 499 01da D5F84402 		ldr	r0, [r5, #580]
 655:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->type = ep_ptr->type;
 500              		.loc 1 655 20 view .LVU177
 501 01de D5F84822 		ldr	r2, [r5, #584]
 502              	.LVL30:
 655:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->type = ep_ptr->type;
 503              		.loc 1 655 20 view .LVU178
 504 01e2 C8F80220 		str	r2, [r8, #2]	@ unaligned
 654:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->addr = g_bdt_address;
 505              		.loc 1 654 28 view .LVU179
 506 01e6 D9B2     		uxtb	r1, r3
 507              	.LVL31:
 654:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->addr = g_bdt_address;
 508              		.loc 1 654 28 view .LVU180
 509 01e8 5BB2     		sxtb	r3, r3
 510 01ea 00EBC30C 		add	ip, r0, r3, lsl #3
 511              	.LVL32:
 654:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->addr = g_bdt_address;
 512              		.loc 1 654 28 view .LVU181
 513 01ee 88F80F10 		strb	r1, [r8, #15]
 655:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->type = ep_ptr->type;
 514              		.loc 1 655 5 is_stmt 1 view .LVU182
 656:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->direction = direction;
 515              		.loc 1 656 5 view .LVU183
 656:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->direction = direction;
 516              		.loc 1 656 20 is_stmt 0 view .LVU184
 517 01f2 88F81170 		strb	r7, [r8, #17]
 657:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 518              		.loc 1 657 5 is_stmt 1 view .LVU185
 657:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 519              		.loc 1 657 25 is_stmt 0 view .LVU186
 520 01f6 88F81040 		strb	r4, [r8, #16]
 659:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 521              		.loc 1 659 5 is_stmt 1 view .LVU187
 522              	.LVL33:
 662:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->addr = SWAP32(g_bdt_address);
 523              		.loc 1 662 5 view .LVU188
 524 01fa 81F00101 		eor	r1, r1, #1
 663:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->Stat._byte = (_CPU | _DATA0 | _DTS);
 525              		.loc 1 663 16 is_stmt 0 view .LVU189
 526 01fe CCF80420 		str	r2, [ip, #4]	@ unaligned
 662:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->addr = SWAP32(g_bdt_address);
 527              		.loc 1 662 15 view .LVU190
 528 0202 ACF802E0 		strh	lr, [ip, #2]	@ unaligned
 663:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->Stat._byte = (_CPU | _DATA0 | _DTS);
 529              		.loc 1 663 5 is_stmt 1 view .LVU191
 664:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 530              		.loc 1 664 5 view .LVU192
 664:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 531              		.loc 1 664 22 is_stmt 0 view .LVU193
 532 0206 4FF0080C 		mov	ip, #8
 533 020a 00F833C0 		strb	ip, [r0, r3, lsl #3]
 667:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 534              		.loc 1 667 5 is_stmt 1 view .LVU194
 669:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->addr = SWAP32(g_bdt_address);
 535              		.loc 1 669 5 view .LVU195
 536 020e 00EBC10C 		add	ip, r0, r1, lsl #3
 670:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->Stat._byte = (_CPU | _DATA1 | _DTS);
 537              		.loc 1 670 16 is_stmt 0 view .LVU196
 538 0212 CCF80420 		str	r2, [ip, #4]	@ unaligned
 669:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->addr = SWAP32(g_bdt_address);
 539              		.loc 1 669 15 view .LVU197
 540 0216 ACF802E0 		strh	lr, [ip, #2]	@ unaligned
 670:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     temp->Stat._byte = (_CPU | _DATA1 | _DTS);
 541              		.loc 1 670 5 is_stmt 1 view .LVU198
 671:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 542              		.loc 1 671 5 view .LVU199
 674:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 543              		.loc 1 674 19 is_stmt 0 view .LVU200
 544 021a 12FA8EF2 		uxtah	r2, r2, lr
 671:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 545              		.loc 1 671 22 view .LVU201
 546 021e 4FF0480C 		mov	ip, #72
 547 0222 00F831C0 		strb	ip, [r0, r1, lsl #3]
 674:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 548              		.loc 1 674 5 is_stmt 1 view .LVU202
 674:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 549              		.loc 1 674 19 is_stmt 0 view .LVU203
 550 0226 C5F84822 		str	r2, [r5, #584]
 676:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 551              		.loc 1 676 5 is_stmt 1 view .LVU204
 676:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 552              		.loc 1 676 7 is_stmt 0 view .LVU205
 553 022a 2CB9     		cbnz	r4, .L25
 682:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         temp->Stat._byte |= _SIE;
 554              		.loc 1 682 9 is_stmt 1 view .LVU206
 683:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 555              		.loc 1 683 9 view .LVU207
 683:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 556              		.loc 1 683 26 is_stmt 0 view .LVU208
 557 022c 10F83320 		ldrb	r2, [r0, r3, lsl #3]	@ zero_extendqisi2
 558 0230 62F07F02 		orn	r2, r2, #127
 559 0234 00F83320 		strb	r2, [r0, r3, lsl #3]
 560              	.L25:
 687:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         HSHK_EN:0x00);
 561              		.loc 1 687 5 is_stmt 1 view .LVU209
 690:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	/* HIGH_SPEED_DEVICE */
 562              		.loc 1 690 5 view .LVU210
 687:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         HSHK_EN:0x00);
 563              		.loc 1 687 24 is_stmt 0 view .LVU211
 564 0238 02AB     		add	r3, sp, #8
 565 023a 03EB8403 		add	r3, r3, r4, lsl #2
 690:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	/* HIGH_SPEED_DEVICE */
 566              		.loc 1 690 38 view .LVU212
 567 023e 0B49     		ldr	r1, .L30+4
 687:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         HSHK_EN:0x00);
 568              		.loc 1 687 24 view .LVU213
 569 0240 53F8083C 		ldr	r3, [r3, #-8]
 690:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	/* HIGH_SPEED_DEVICE */
 570              		.loc 1 690 38 view .LVU214
 571 0244 36B2     		sxth	r6, r6
 572              	.LVL34:
 687:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         HSHK_EN:0x00);
 573              		.loc 1 687 24 view .LVU215
 574 0246 012F     		cmp	r7, #1
 575 0248 18BF     		it	ne
 576 024a 43F00103 		orrne	r3, r3, #1
 690:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	/* HIGH_SPEED_DEVICE */
 577              		.loc 1 690 38 view .LVU216
 578 024e 11F82620 		ldrb	r2, [r1, r6, lsl #2]	@ zero_extendqisi2
 579 0252 1343     		orrs	r3, r3, r2
 580 0254 DBB2     		uxtb	r3, r3
 581 0256 01F82630 		strb	r3, [r1, r6, lsl #2]
 582              	.LVL35:
 722:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 583              		.loc 1 722 5 is_stmt 1 view .LVU217
 722:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 584              		.loc 1 722 12 is_stmt 0 view .LVU218
 585 025a 0020     		movs	r0, #0
 586              	.L22:
 723:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 587              		.loc 1 723 1 view .LVU219
 588 025c 02B0     		add	sp, sp, #8
 589              	.LCFI2:
 590              		.cfi_remember_state
 591              		.cfi_def_cfa_offset 24
 592              		@ sp needed
 593 025e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 594              	.LVL36:
 595              	.L29:
 596              	.LCFI3:
 597              		.cfi_restore_state
 639:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 598              		.loc 1 639 16 view .LVU220
 599 0262 9520     		movs	r0, #149
 600 0264 FAE7     		b	.L22
 601              	.L31:
 602 0266 00BF     		.align	2
 603              	.L30:
 604 0268 00000000 		.word	.LANCHOR0
 605 026c C0200740 		.word	1074208960
 606              		.cfi_endproc
 607              	.LFE6:
 609              		.align	1
 610              		.global	_usb_device_cancel_transfer
 611              		.syntax unified
 612              		.thumb
 613              		.thumb_func
 614              		.fpu softvfp
 616              	_usb_device_cancel_transfer:
 617              	.LVL37:
 618              	.LFB7:
 745:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 619              		.loc 1 745 1 is_stmt 1 view -0
 620              		.cfi_startproc
 621              		@ args = 0, pretend = 0, frame = 0
 622              		@ frame_needed = 0, uses_anonymous_args = 0
 748:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 623              		.loc 1 748 5 view .LVU222
 751:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 624              		.loc 1 751 5 view .LVU223
 745:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 625              		.loc 1 745 1 is_stmt 0 view .LVU224
 626 0270 0846     		mov	r0, r1
 627              	.LVL38:
 745:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 628              		.loc 1 745 1 view .LVU225
 629 0272 10B5     		push	{r4, lr}
 630              	.LCFI4:
 631              		.cfi_def_cfa_offset 8
 632              		.cfi_offset 4, -8
 633              		.cfi_offset 14, -4
 751:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 634              		.loc 1 751 24 view .LVU226
 635 0274 1146     		mov	r1, r2
 636              	.LVL39:
 751:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 637              		.loc 1 751 24 view .LVU227
 638 0276 FFF7C3FE 		bl	USB_DCI_Validate_Param.constprop.0
 639              	.LVL40:
 753:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(handle);
 640              		.loc 1 753 5 is_stmt 1 view .LVU228
 757:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 641              		.loc 1 757 7 is_stmt 0 view .LVU229
 642 027a FF28     		cmp	r0, #255
 753:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(handle);
 643              		.loc 1 753 12 view .LVU230
 644 027c C0F34703 		ubfx	r3, r0, #1, #8
 645              	.LVL41:
 754:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 646              		.loc 1 754 5 is_stmt 1 view .LVU231
 754:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 647              		.loc 1 754 19 view .LVU232
 757:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 648              		.loc 1 757 5 view .LVU233
 757:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 649              		.loc 1 757 7 is_stmt 0 view .LVU234
 650 0280 1AD0     		beq	.L34
 651              	.LBB26:
 759:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index];
 652              		.loc 1 759 9 is_stmt 1 view .LVU235
 653              	.LVL42:
 760:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index ^ 1];
 654              		.loc 1 760 9 view .LVU236
 760:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index ^ 1];
 655              		.loc 1 760 42 is_stmt 0 view .LVU237
 656 0282 0E49     		ldr	r1, .L35
 760:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index ^ 1];
 657              		.loc 1 760 59 view .LVU238
 658 0284 1220     		movs	r0, #18
 659              	.LVL43:
 760:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index ^ 1];
 660              		.loc 1 760 59 view .LVU239
 661 0286 00FB0313 		mla	r3, r0, r3, r1
 662              	.LVL44:
 760:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index ^ 1];
 663              		.loc 1 760 42 view .LVU240
 664 028a D1F84422 		ldr	r2, [r1, #580]
 760:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_elem->bdtmap_index ^ 1];
 665              		.loc 1 760 59 view .LVU241
 666 028e D97B     		ldrb	r1, [r3, #15]	@ zero_extendqisi2
 667              	.LVL45:
 761:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear SIE Control Bit for both buffers*/
 668              		.loc 1 761 9 is_stmt 1 view .LVU242
 763:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         buffer_dsc_alt->Stat._byte &= ~_SIE;
 669              		.loc 1 763 9 view .LVU243
 763:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         buffer_dsc_alt->Stat._byte &= ~_SIE;
 670              		.loc 1 763 32 is_stmt 0 view .LVU244
 671 0290 12F83100 		ldrb	r0, [r2, r1, lsl #3]	@ zero_extendqisi2
 672 0294 00F07F00 		and	r0, r0, #127
 673 0298 02F83100 		strb	r0, [r2, r1, lsl #3]
 764:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->app_len = (USB_PACKET_SIZE)UNINITIALISED_VAL;
 674              		.loc 1 764 9 is_stmt 1 view .LVU245
 675 029c 81F00101 		eor	r1, r1, #1
 676              	.LVL46:
 764:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->app_len = (USB_PACKET_SIZE)UNINITIALISED_VAL;
 677              		.loc 1 764 36 is_stmt 0 view .LVU246
 678 02a0 12F83100 		ldrb	r0, [r2, r1, lsl #3]	@ zero_extendqisi2
 679 02a4 00F07F00 		and	r0, r0, #127
 680 02a8 02F83100 		strb	r0, [r2, r1, lsl #3]
 765:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 681              		.loc 1 765 9 is_stmt 1 view .LVU247
 765:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 682              		.loc 1 765 27 is_stmt 0 view .LVU248
 683 02ac 4FF0FF32 		mov	r2, #-1
 684              	.LVL47:
 765:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 685              		.loc 1 765 27 view .LVU249
 686 02b0 9A72     		strb	r2, [r3, #10]
 687 02b2 DA72     		strb	r2, [r3, #11]
 767:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 688              		.loc 1 767 9 is_stmt 1 view .LVU250
 689              	.LVL48:
 767:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 690              		.loc 1 767 16 is_stmt 0 view .LVU251
 691 02b4 0020     		movs	r0, #0
 692              	.LVL49:
 693              	.L33:
 767:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 694              		.loc 1 767 16 view .LVU252
 695              	.LBE26:
 769:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 696              		.loc 1 769 5 is_stmt 1 view .LVU253
 779:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 697              		.loc 1 779 1 is_stmt 0 view .LVU254
 698 02b6 10BD     		pop	{r4, pc}
 699              	.LVL50:
 700              	.L34:
 748:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 701              		.loc 1 748 12 view .LVU255
 702 02b8 C420     		movs	r0, #196
 703              	.LVL51:
 748:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 704              		.loc 1 748 12 view .LVU256
 705 02ba FCE7     		b	.L33
 706              	.L36:
 707              		.align	2
 708              	.L35:
 709 02bc 00000000 		.word	.LANCHOR0
 710              		.cfi_endproc
 711              	.LFE7:
 713              		.align	1
 714              		.global	USB_DCI_Deinit_EndPoint
 715              		.syntax unified
 716              		.thumb
 717              		.thumb_func
 718              		.fpu softvfp
 720              	USB_DCI_Deinit_EndPoint:
 721              	.LVL52:
 722              	.LFB8:
 805:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 723              		.loc 1 805 1 is_stmt 1 view -0
 724              		.cfi_startproc
 725              		@ args = 0, pretend = 0, frame = 8
 726              		@ frame_needed = 0, uses_anonymous_args = 0
 808:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 727              		.loc 1 808 5 view .LVU258
 805:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 728              		.loc 1 805 1 is_stmt 0 view .LVU259
 729 02c0 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 730              	.LCFI5:
 731              		.cfi_def_cfa_offset 32
 732              		.cfi_offset 4, -20
 733              		.cfi_offset 5, -16
 734              		.cfi_offset 6, -12
 735              		.cfi_offset 7, -8
 736              		.cfi_offset 14, -4
 805:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 737              		.loc 1 805 1 view .LVU260
 738 02c2 0C46     		mov	r4, r1
 739 02c4 8DF80700 		strb	r0, [sp, #7]
 808:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 740              		.loc 1 808 24 view .LVU261
 741 02c8 1146     		mov	r1, r2
 742              	.LVL53:
 808:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 743              		.loc 1 808 24 view .LVU262
 744 02ca 2046     		mov	r0, r4
 745              	.LVL54:
 805:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 746              		.loc 1 805 1 view .LVU263
 747 02cc 1646     		mov	r6, r2
 808:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 748              		.loc 1 808 24 view .LVU264
 749 02ce FFF797FE 		bl	USB_DCI_Validate_Param.constprop.0
 750              	.LVL55:
 810:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 751              		.loc 1 810 5 is_stmt 1 view .LVU265
 813:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 752              		.loc 1 813 7 is_stmt 0 view .LVU266
 753 02d2 FF28     		cmp	r0, #255
 810:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 754              		.loc 1 810 12 view .LVU267
 755 02d4 C0F34707 		ubfx	r7, r0, #1, #8
 756              	.LVL56:
 813:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 757              		.loc 1 813 5 is_stmt 1 view .LVU268
 813:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 758              		.loc 1 813 7 is_stmt 0 view .LVU269
 759 02d8 1ED0     		beq	.L39
 817:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* delete buffer space for both even and odd buffers */
 760              		.loc 1 817 5 is_stmt 1 view .LVU270
 819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 761              		.loc 1 819 48 is_stmt 0 view .LVU271
 762 02da 1225     		movs	r5, #18
 817:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* delete buffer space for both even and odd buffers */
 763              		.loc 1 817 5 view .LVU272
 764 02dc 3246     		mov	r2, r6
 819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 765              		.loc 1 819 48 view .LVU273
 766 02de 7D43     		muls	r5, r7, r5
 819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 767              		.loc 1 819 19 view .LVU274
 768 02e0 0E4E     		ldr	r6, .L40
 817:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* delete buffer space for both even and odd buffers */
 769              		.loc 1 817 5 view .LVU275
 770 02e2 2146     		mov	r1, r4
 771 02e4 0DF10700 		add	r0, sp, #7
 772              	.LVL57:
 817:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* delete buffer space for both even and odd buffers */
 773              		.loc 1 817 5 view .LVU276
 774 02e8 FFF7FEFF 		bl	_usb_device_cancel_transfer
 775              	.LVL58:
 819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 776              		.loc 1 819 5 is_stmt 1 view .LVU277
 819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 777              		.loc 1 819 48 is_stmt 0 view .LVU278
 778 02ec 715B     		ldrh	r1, [r6, r5]	@ unaligned
 819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 779              		.loc 1 819 19 view .LVU279
 780 02ee D6F84832 		ldr	r3, [r6, #584]
 781 02f2 5B1A     		subs	r3, r3, r1
 782 02f4 C6F84832 		str	r3, [r6, #584]
 822:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 783              		.loc 1 822 5 is_stmt 1 view .LVU280
 822:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 784              		.loc 1 822 27 is_stmt 0 view .LVU281
 785 02f8 24B2     		sxth	r4, r4
 822:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 786              		.loc 1 822 38 view .LVU282
 787 02fa 094B     		ldr	r3, .L40+4
 819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 788              		.loc 1 819 48 view .LVU283
 789 02fc 7219     		adds	r2, r6, r5
 822:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 790              		.loc 1 822 38 view .LVU284
 791 02fe 0020     		movs	r0, #0
 792 0300 03F82400 		strb	r0, [r3, r4, lsl #2]
 825:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_bdt_elem[bdtelem_index].addr = (uint_32)UNINITIALISED_VAL;
 793              		.loc 1 825 5 is_stmt 1 view .LVU285
 825:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_bdt_elem[bdtelem_index].addr = (uint_32)UNINITIALISED_VAL;
 794              		.loc 1 825 35 is_stmt 0 view .LVU286
 795 0304 4FF0FF33 		mov	r3, #-1
 796 0308 7355     		strb	r3, [r6, r5]
 826:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
 797              		.loc 1 826 36 view .LVU287
 798 030a 9370     		strb	r3, [r2, #2]
 825:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     g_bdt_elem[bdtelem_index].addr = (uint_32)UNINITIALISED_VAL;
 799              		.loc 1 825 35 view .LVU288
 800 030c 5370     		strb	r3, [r2, #1]
 826:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
 801              		.loc 1 826 5 is_stmt 1 view .LVU289
 826:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
 802              		.loc 1 826 36 is_stmt 0 view .LVU290
 803 030e D370     		strb	r3, [r2, #3]
 804 0310 1371     		strb	r3, [r2, #4]
 805 0312 5371     		strb	r3, [r2, #5]
 848:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 806              		.loc 1 848 5 is_stmt 1 view .LVU291
 807              	.L38:
 849:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 808              		.loc 1 849 1 is_stmt 0 view .LVU292
 809 0314 03B0     		add	sp, sp, #12
 810              	.LCFI6:
 811              		.cfi_remember_state
 812              		.cfi_def_cfa_offset 20
 813              		@ sp needed
 814 0316 F0BD     		pop	{r4, r5, r6, r7, pc}
 815              	.LVL59:
 816              	.L39:
 817              	.LCFI7:
 818              		.cfi_restore_state
 815:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 819              		.loc 1 815 16 view .LVU293
 820 0318 9620     		movs	r0, #150
 821              	.LVL60:
 815:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 822              		.loc 1 815 16 view .LVU294
 823 031a FBE7     		b	.L38
 824              	.L41:
 825              		.align	2
 826              	.L40:
 827 031c 00000000 		.word	.LANCHOR0
 828 0320 C0200740 		.word	1074208960
 829              		.cfi_endproc
 830              	.LFE8:
 832              		.align	1
 833              		.global	_usb_device_stall_endpoint
 834              		.syntax unified
 835              		.thumb
 836              		.thumb_func
 837              		.fpu softvfp
 839              	_usb_device_stall_endpoint:
 840              	.LVL61:
 841              	.LFB9:
 871:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 842              		.loc 1 871 1 is_stmt 1 view -0
 843              		.cfi_startproc
 844              		@ args = 0, pretend = 0, frame = 0
 845              		@ frame_needed = 0, uses_anonymous_args = 0
 874:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 846              		.loc 1 874 5 view .LVU296
 871:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 847              		.loc 1 871 1 is_stmt 0 view .LVU297
 848 0324 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 849              	.LCFI8:
 850              		.cfi_def_cfa_offset 24
 851              		.cfi_offset 4, -24
 852              		.cfi_offset 5, -20
 853              		.cfi_offset 6, -16
 854              		.cfi_offset 7, -12
 855              		.cfi_offset 8, -8
 856              		.cfi_offset 14, -4
 871:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 857              		.loc 1 871 1 view .LVU298
 858 0328 0C46     		mov	r4, r1
 859 032a 0746     		mov	r7, r0
 874:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 860              		.loc 1 874 24 view .LVU299
 861 032c 1146     		mov	r1, r2
 862              	.LVL62:
 874:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 863              		.loc 1 874 24 view .LVU300
 864 032e 2046     		mov	r0, r4
 865              	.LVL63:
 871:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 866              		.loc 1 871 1 view .LVU301
 867 0330 1546     		mov	r5, r2
 874:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 868              		.loc 1 874 24 view .LVU302
 869 0332 FFF765FE 		bl	USB_DCI_Validate_Param.constprop.0
 870              	.LVL64:
 877:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = bdt_elem->bdtmap_index;
 871              		.loc 1 877 5 is_stmt 1 view .LVU303
 878:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 872              		.loc 1 878 15 is_stmt 0 view .LVU304
 873 0336 DFF83080 		ldr	r8, .L47
 877:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = bdt_elem->bdtmap_index;
 874              		.loc 1 877 39 view .LVU305
 875 033a C0F34703 		ubfx	r3, r0, #1, #8
 876              	.LVL65:
 878:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 877              		.loc 1 878 5 is_stmt 1 view .LVU306
 878:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 878              		.loc 1 878 15 is_stmt 0 view .LVU307
 879 033e 1220     		movs	r0, #18
 880              	.LVL66:
 878:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 881              		.loc 1 878 15 view .LVU308
 882 0340 00FB0383 		mla	r3, r0, r3, r8
 883              	.LVL67:
 878:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 884              		.loc 1 878 15 view .LVU309
 885 0344 DE7B     		ldrb	r6, [r3, #15]	@ zero_extendqisi2
 886              	.LVL68:
 881:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 887              		.loc 1 881 2 is_stmt 1 view .LVU310
 881:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 888              		.loc 1 881 4 is_stmt 0 view .LVU311
 889 0346 FF2E     		cmp	r6, #255
 890 0348 0CD0     		beq	.L42
 883:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 891              		.loc 1 883 9 is_stmt 1 view .LVU312
 883:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 892              		.loc 1 883 15 is_stmt 0 view .LVU313
 893 034a 2A46     		mov	r2, r5
 894 034c 2146     		mov	r1, r4
 895 034e 3846     		mov	r0, r7
 896 0350 FFF7FEFF 		bl	_usb_device_cancel_transfer
 897              	.LVL69:
 886:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 898              		.loc 1 886 9 is_stmt 1 view .LVU314
 899 0354 D8F84422 		ldr	r2, [r8, #580]
 886:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 900              		.loc 1 886 48 is_stmt 0 view .LVU315
 901 0358 12F83630 		ldrb	r3, [r2, r6, lsl #3]	@ zero_extendqisi2
 902 035c 63F07B03 		orn	r3, r3, #123
 903 0360 02F83630 		strb	r3, [r2, r6, lsl #3]
 898:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 904              		.loc 1 898 5 is_stmt 1 view .LVU316
 905              	.L42:
 899:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 906              		.loc 1 899 1 is_stmt 0 view .LVU317
 907 0364 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 908              	.LVL70:
 909              	.L48:
 899:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 910              		.loc 1 899 1 view .LVU318
 911              		.align	2
 912              	.L47:
 913 0368 00000000 		.word	.LANCHOR0
 914              		.cfi_endproc
 915              	.LFE9:
 917              		.align	1
 918              		.global	_usb_device_read_setup_data
 919              		.syntax unified
 920              		.thumb
 921              		.thumb_func
 922              		.fpu softvfp
 924              	_usb_device_read_setup_data:
 925              	.LVL71:
 926              	.LFB11:
1004:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 927              		.loc 1 1004 1 is_stmt 1 view -0
 928              		.cfi_startproc
 929              		@ args = 0, pretend = 0, frame = 0
 930              		@ frame_needed = 0, uses_anonymous_args = 0
1007:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* validate params and get the bdt index */
 931              		.loc 1 1007 2 view .LVU320
1009:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 932              		.loc 1 1009 5 view .LVU321
1004:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 933              		.loc 1 1004 1 is_stmt 0 view .LVU322
 934 036c 10B5     		push	{r4, lr}
 935              	.LCFI9:
 936              		.cfi_def_cfa_offset 8
 937              		.cfi_offset 4, -8
 938              		.cfi_offset 14, -4
1004:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 939              		.loc 1 1004 1 view .LVU323
 940 036e 0846     		mov	r0, r1
 941              	.LVL72:
1009:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 942              		.loc 1 1009 24 view .LVU324
 943 0370 0021     		movs	r1, #0
 944              	.LVL73:
1004:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 945              		.loc 1 1004 1 view .LVU325
 946 0372 1446     		mov	r4, r2
1009:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 947              		.loc 1 1009 24 view .LVU326
 948 0374 FFF744FE 		bl	USB_DCI_Validate_Param.constprop.0
 949              	.LVL74:
1012:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(handle);
 950              		.loc 1 1012 5 is_stmt 1 view .LVU327
1017:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 951              		.loc 1 1017 24 is_stmt 0 view .LVU328
 952 0378 084A     		ldr	r2, .L50
1012:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     UNUSED(handle);
 953              		.loc 1 1012 39 view .LVU329
 954 037a C0F34700 		ubfx	r0, r0, #1, #8
 955              	.LVL75:
1013:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = bdt_elem->bdtmap_index;
 956              		.loc 1 1013 5 is_stmt 1 view .LVU330
1013:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_index = bdt_elem->bdtmap_index;
 957              		.loc 1 1013 19 view .LVU331
1014:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 958              		.loc 1 1014 5 view .LVU332
1017:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 959              		.loc 1 1017 5 view .LVU333
1020:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 960              		.loc 1 1020 5 view .LVU334
1014:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 961              		.loc 1 1014 15 is_stmt 0 view .LVU335
 962 037e 1221     		movs	r1, #18
 963 0380 01FB0020 		mla	r0, r1, r0, r2
 964              	.LVL76:
1017:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 965              		.loc 1 1017 24 view .LVU336
 966 0384 D2F84432 		ldr	r3, [r2, #580]
 967 0388 C27B     		ldrb	r2, [r0, #15]	@ zero_extendqisi2
 968 038a 03EBC203 		add	r3, r3, r2, lsl #3
 969 038e 5A68     		ldr	r2, [r3, #4]	@ unaligned
1020:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 970              		.loc 1 1020 11 view .LVU337
 971 0390 1368     		ldr	r3, [r2]	@ unaligned
 972 0392 2360     		str	r3, [r4]	@ unaligned
1020:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 973              		.loc 1 1020 11 view .LVU338
 974 0394 5368     		ldr	r3, [r2, #4]	@ unaligned
 975 0396 6360     		str	r3, [r4, #4]	@ unaligned
1021:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
 976              		.loc 1 1021 5 is_stmt 1 view .LVU339
1027:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 977              		.loc 1 1027 1 is_stmt 0 view .LVU340
 978 0398 10BD     		pop	{r4, pc}
 979              	.LVL77:
 980              	.L51:
1027:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 981              		.loc 1 1027 1 view .LVU341
 982 039a 00BF     		.align	2
 983              	.L50:
 984 039c 00000000 		.word	.LANCHOR0
 985              		.cfi_endproc
 986              	.LFE11:
 988              		.align	1
 989              		.global	_usb_device_get_transfer_status
 990              		.syntax unified
 991              		.thumb
 992              		.thumb_func
 993              		.fpu softvfp
 995              	_usb_device_get_transfer_status:
 996              	.LVL78:
 997              	.LFB12:
1056:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USB_STATUS_DISABLED;
 998              		.loc 1 1056 1 is_stmt 1 view -0
 999              		.cfi_startproc
 1000              		@ args = 0, pretend = 0, frame = 0
 1001              		@ frame_needed = 0, uses_anonymous_args = 0
1057:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1002              		.loc 1 1057 5 view .LVU343
1061:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 1003              		.loc 1 1061 5 view .LVU344
1056:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USB_STATUS_DISABLED;
 1004              		.loc 1 1056 1 is_stmt 0 view .LVU345
 1005 03a0 10B5     		push	{r4, lr}
 1006              	.LCFI10:
 1007              		.cfi_def_cfa_offset 8
 1008              		.cfi_offset 4, -8
 1009              		.cfi_offset 14, -4
1056:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USB_STATUS_DISABLED;
 1010              		.loc 1 1056 1 view .LVU346
 1011 03a2 0C46     		mov	r4, r1
1061:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 1012              		.loc 1 1061 24 view .LVU347
 1013 03a4 2046     		mov	r0, r4
 1014              	.LVL79:
1061:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 1015              		.loc 1 1061 24 view .LVU348
 1016 03a6 1146     		mov	r1, r2
 1017              	.LVL80:
1061:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 1018              		.loc 1 1061 24 view .LVU349
 1019 03a8 FFF72AFE 		bl	USB_DCI_Validate_Param.constprop.0
 1020              	.LVL81:
1066:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1021              		.loc 1 1066 4 view .LVU350
 1022 03ac FF28     		cmp	r0, #255
1061:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 1023              		.loc 1 1061 24 view .LVU351
 1024 03ae 0246     		mov	r2, r0
 1025              	.LVL82:
1063:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1026              		.loc 1 1063 5 is_stmt 1 view .LVU352
1063:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1027              		.loc 1 1063 19 view .LVU353
1066:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1028              		.loc 1 1066 2 view .LVU354
1066:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1029              		.loc 1 1066 4 is_stmt 0 view .LVU355
 1030 03b0 1AD0     		beq	.L55
 1031              	.LBB27:
1068:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1032              		.loc 1 1068 9 is_stmt 1 view .LVU356
1068:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1033              		.loc 1 1068 54 is_stmt 0 view .LVU357
 1034 03b2 104B     		ldr	r3, .L59
1068:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1035              		.loc 1 1068 56 view .LVU358
 1036 03b4 24B2     		sxth	r4, r4
1068:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1037              		.loc 1 1068 16 view .LVU359
 1038 03b6 13F82410 		ldrb	r1, [r3, r4, lsl #2]	@ zero_extendqisi2
1073:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1039              		.loc 1 1073 11 view .LVU360
 1040 03ba 11F00C0F 		tst	r1, #12
1068:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1041              		.loc 1 1068 16 view .LVU361
 1042 03be CBB2     		uxtb	r3, r1
 1043              	.LVL83:
1070:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1044              		.loc 1 1070 9 is_stmt 1 view .LVU362
1073:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1045              		.loc 1 1073 9 view .LVU363
1073:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1046              		.loc 1 1073 11 is_stmt 0 view .LVU364
 1047 03c0 12D0     		beq	.L55
1078:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1048              		.loc 1 1078 14 is_stmt 1 view .LVU365
1078:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1049              		.loc 1 1078 16 is_stmt 0 view .LVU366
 1050 03c2 13F00200 		ands	r0, r3, #2
 1051              	.LVL84:
1078:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1052              		.loc 1 1078 16 view .LVU367
 1053 03c6 11D1     		bne	.L56
1083:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             || (g_bdtmap->ep_dsc[bdt_index ^ 1].Stat.SieCtlBit.own == 1))
 1054              		.loc 1 1083 14 is_stmt 1 view .LVU368
1083:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             || (g_bdtmap->ep_dsc[bdt_index ^ 1].Stat.SieCtlBit.own == 1))
 1055              		.loc 1 1083 26 is_stmt 0 view .LVU369
 1056 03c8 0B4B     		ldr	r3, .L59+4
 1057              	.LVL85:
1083:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             || (g_bdtmap->ep_dsc[bdt_index ^ 1].Stat.SieCtlBit.own == 1))
 1058              		.loc 1 1083 26 view .LVU370
 1059 03ca D3F84432 		ldr	r3, [r3, #580]
1083:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             || (g_bdtmap->ep_dsc[bdt_index ^ 1].Stat.SieCtlBit.own == 1))
 1060              		.loc 1 1083 60 view .LVU371
 1061 03ce 13F83210 		ldrb	r1, [r3, r2, lsl #3]	@ zero_extendqisi2
 1062              	.LVL86:
1083:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             || (g_bdtmap->ep_dsc[bdt_index ^ 1].Stat.SieCtlBit.own == 1))
 1063              		.loc 1 1083 16 view .LVU372
 1064 03d2 C909     		lsrs	r1, r1, #7
 1065 03d4 0CD1     		bne	.L57
1084:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1066              		.loc 1 1084 44 view .LVU373
 1067 03d6 82F00102 		eor	r2, r2, #1
 1068 03da D2B2     		uxtb	r2, r2
1084:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1069              		.loc 1 1084 63 view .LVU374
 1070 03dc 13F83230 		ldrb	r3, [r3, r2, lsl #3]	@ zero_extendqisi2
1084:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1071              		.loc 1 1084 13 view .LVU375
 1072 03e0 DB09     		lsrs	r3, r3, #7
1086:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1073              		.loc 1 1086 20 view .LVU376
 1074 03e2 18BF     		it	ne
 1075 03e4 0320     		movne	r0, #3
 1076              	.LVL87:
 1077              	.L53:
1086:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1078              		.loc 1 1086 20 view .LVU377
 1079              	.LBE27:
1095:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 1080              		.loc 1 1095 5 is_stmt 1 view .LVU378
1096:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1081              		.loc 1 1096 1 is_stmt 0 view .LVU379
 1082 03e6 10BD     		pop	{r4, pc}
 1083              	.LVL88:
 1084              	.L55:
1057:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1085              		.loc 1 1057 12 view .LVU380
 1086 03e8 0520     		movs	r0, #5
 1087              	.LVL89:
1057:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1088              		.loc 1 1057 12 view .LVU381
 1089 03ea FCE7     		b	.L53
 1090              	.LVL90:
 1091              	.L56:
 1092              	.LBB28:
1080:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1093              		.loc 1 1080 20 view .LVU382
 1094 03ec 0120     		movs	r0, #1
 1095 03ee FAE7     		b	.L53
 1096              	.LVL91:
 1097              	.L57:
1086:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1098              		.loc 1 1086 20 view .LVU383
 1099 03f0 0320     		movs	r0, #3
 1100 03f2 F8E7     		b	.L53
 1101              	.L60:
 1102              		.align	2
 1103              	.L59:
 1104 03f4 C0200740 		.word	1074208960
 1105 03f8 00000000 		.word	.LANCHOR0
 1106              	.LBE28:
 1107              		.cfi_endproc
 1108              	.LFE12:
 1110              		.align	1
 1111              		.global	_usb_device_clear_data0_endpoint
 1112              		.syntax unified
 1113              		.thumb
 1114              		.thumb_func
 1115              		.fpu softvfp
 1117              	_usb_device_clear_data0_endpoint:
 1118              	.LVL92:
 1119              	.LFB13:
1117:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1120              		.loc 1 1117 1 is_stmt 1 view -0
 1121              		.cfi_startproc
 1122              		@ args = 0, pretend = 0, frame = 0
 1123              		@ frame_needed = 0, uses_anonymous_args = 0
1121:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 1124              		.loc 1 1121 2 view .LVU385
1117:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1125              		.loc 1 1117 1 is_stmt 0 view .LVU386
 1126 03fc 08B5     		push	{r3, lr}
 1127              	.LCFI11:
 1128              		.cfi_def_cfa_offset 8
 1129              		.cfi_offset 3, -8
 1130              		.cfi_offset 14, -4
1121:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 1131              		.loc 1 1121 21 view .LVU387
 1132 03fe FFF7FFFD 		bl	USB_DCI_Validate_Param.constprop.0
 1133              	.LVL93:
1122:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1134              		.loc 1 1122 2 is_stmt 1 view .LVU388
1124:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1135              		.loc 1 1124 12 is_stmt 0 view .LVU389
 1136 0402 074A     		ldr	r2, .L66
 1137 0404 1223     		movs	r3, #18
1122:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1138              		.loc 1 1122 36 view .LVU390
 1139 0406 C0F34700 		ubfx	r0, r0, #1, #8
 1140              	.LVL94:
1124:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1141              		.loc 1 1124 2 is_stmt 1 view .LVU391
1124:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1142              		.loc 1 1124 12 is_stmt 0 view .LVU392
 1143 040a 03FB0020 		mla	r0, r3, r0, r2
 1144              	.LVL95:
1124:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1145              		.loc 1 1124 12 view .LVU393
 1146 040e C37B     		ldrb	r3, [r0, #15]	@ zero_extendqisi2
 1147              	.LVL96:
1127:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	{
 1148              		.loc 1 1127 2 is_stmt 1 view .LVU394
1127:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	{
 1149              		.loc 1 1127 4 is_stmt 0 view .LVU395
 1150 0410 FF2B     		cmp	r3, #255
1130:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
 1151              		.loc 1 1130 3 is_stmt 1 view .LVU396
1130:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	}
 1152              		.loc 1 1130 42 is_stmt 0 view .LVU397
 1153 0412 1EBF     		ittt	ne
 1154 0414 D2F84422 		ldrne	r2, [r2, #580]
 1155 0418 0021     		movne	r1, #0
 1156 041a 02F83310 		strbne	r1, [r2, r3, lsl #3]
1132:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else	// HIGH SPEED
 1157              		.loc 1 1132 5 is_stmt 1 view .LVU398
1138:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1158              		.loc 1 1138 1 is_stmt 0 view .LVU399
 1159 041e 08BD     		pop	{r3, pc}
 1160              	.LVL97:
 1161              	.L67:
1138:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1162              		.loc 1 1138 1 view .LVU400
 1163              		.align	2
 1164              	.L66:
 1165 0420 00000000 		.word	.LANCHOR0
 1166              		.cfi_endproc
 1167              	.LFE13:
 1169              		.align	1
 1170              		.global	_usb_device_recv_data
 1171              		.syntax unified
 1172              		.thumb
 1173              		.thumb_func
 1174              		.fpu softvfp
 1176              	_usb_device_recv_data:
 1177              	.LVL98:
 1178              	.LFB14:
1164:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USBERR_RX_FAILED;
 1179              		.loc 1 1164 1 is_stmt 1 view -0
 1180              		.cfi_startproc
 1181              		@ args = 0, pretend = 0, frame = 0
 1182              		@ frame_needed = 0, uses_anonymous_args = 0
1165:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1183              		.loc 1 1165 5 view .LVU402
1169:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 1184              		.loc 1 1169 5 view .LVU403
1164:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USBERR_RX_FAILED;
 1185              		.loc 1 1164 1 is_stmt 0 view .LVU404
 1186 0424 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1187              	.LCFI12:
 1188              		.cfi_def_cfa_offset 24
 1189              		.cfi_offset 4, -24
 1190              		.cfi_offset 5, -20
 1191              		.cfi_offset 6, -16
 1192              		.cfi_offset 7, -12
 1193              		.cfi_offset 8, -8
 1194              		.cfi_offset 14, -4
1164:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USBERR_RX_FAILED;
 1195              		.loc 1 1164 1 view .LVU405
 1196 0428 0846     		mov	r0, r1
 1197              	.LVL99:
1169:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 1198              		.loc 1 1169 24 view .LVU406
 1199 042a 0021     		movs	r1, #0
 1200              	.LVL100:
1164:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 status = USBERR_RX_FAILED;
 1201              		.loc 1 1164 1 view .LVU407
 1202 042c 9046     		mov	r8, r2
 1203 042e 1D46     		mov	r5, r3
1169:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 1204              		.loc 1 1169 24 view .LVU408
 1205 0430 FFF7E6FD 		bl	USB_DCI_Validate_Param.constprop.0
 1206              	.LVL101:
1170:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1207              		.loc 1 1170 5 is_stmt 1 view .LVU409
1175:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1208              		.loc 1 1175 15 is_stmt 0 view .LVU410
 1209 0434 214C     		ldr	r4, .L74
1170:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1210              		.loc 1 1170 39 view .LVU411
 1211 0436 C0F34701 		ubfx	r1, r0, #1, #8
 1212              	.LVL102:
1172:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1213              		.loc 1 1172 2 is_stmt 1 view .LVU412
1172:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1214              		.loc 1 1172 16 view .LVU413
1175:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1215              		.loc 1 1175 5 view .LVU414
1175:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1216              		.loc 1 1175 15 is_stmt 0 view .LVU415
 1217 043a 1220     		movs	r0, #18
 1218              	.LVL103:
1175:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1219              		.loc 1 1175 15 view .LVU416
 1220 043c 00FB0141 		mla	r1, r0, r1, r4
 1221              	.LVL104:
1175:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1222              		.loc 1 1175 15 view .LVU417
 1223 0440 CE7B     		ldrb	r6, [r1, #15]	@ zero_extendqisi2
 1224              	.LVL105:
1177:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1225              		.loc 1 1177 5 is_stmt 1 view .LVU418
1177:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1226              		.loc 1 1177 7 is_stmt 0 view .LVU419
 1227 0442 FF2E     		cmp	r6, #255
 1228 0444 38D0     		beq	.L73
 1229              	.LBB29:
1179:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = NULL;
 1230              		.loc 1 1179 9 is_stmt 1 view .LVU420
1183:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1231              		.loc 1 1183 20 is_stmt 0 view .LVU421
 1232 0446 0A88     		ldrh	r2, [r1]	@ unaligned
1183:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1233              		.loc 1 1183 11 view .LVU422
 1234 0448 4FF6FF77 		movw	r7, #65535
1183:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1235              		.loc 1 1183 20 view .LVU423
 1236 044c 93B2     		uxth	r3, r2
1183:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1237              		.loc 1 1183 11 view .LVU424
 1238 044e BB42     		cmp	r3, r7
1179:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = NULL;
 1239              		.loc 1 1179 61 view .LVU425
 1240 0450 86F00100 		eor	r0, r6, #1
 1241              	.LVL106:
1180:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1242              		.loc 1 1180 9 is_stmt 1 view .LVU426
1183:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1243              		.loc 1 1183 9 view .LVU427
1183:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1244              		.loc 1 1183 11 is_stmt 0 view .LVU428
 1245 0454 30D0     		beq	.L73
1179:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         P_BUFF_DSC buffer_dsc_alt = NULL;
 1246              		.loc 1 1179 42 view .LVU429
 1247 0456 D4F84442 		ldr	r4, [r4, #580]
1186:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 1248              		.loc 1 1186 13 is_stmt 1 view .LVU430
1186:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 1249              		.loc 1 1186 15 is_stmt 0 view .LVU431
 1250 045a 14F93000 		ldrsb	r0, [r4, r0, lsl #3]
 1251              	.LVL107:
1186:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 1252              		.loc 1 1186 15 view .LVU432
 1253 045e 0028     		cmp	r0, #0
 1254 0460 2ADB     		blt	.L73
1188:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 {
 1255              		.loc 1 1188 17 is_stmt 1 view .LVU433
 1256 0462 37B2     		sxth	r7, r6
1188:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 {
 1257              		.loc 1 1188 19 is_stmt 0 view .LVU434
 1258 0464 85B9     		cbnz	r5, .L70
1194:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     buffer_dsc_alt->cnt = SWAP16(bdt_elem->len);
 1259              		.loc 1 1194 21 is_stmt 1 view .LVU435
 1260              	.LVL108:
1195:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     buffer_dsc_alt->addr = SWAP32(bdt_elem->addr);
 1261              		.loc 1 1195 21 view .LVU436
 1262 0466 04EBC703 		add	r3, r4, r7, lsl #3
1202:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 }
 1263              		.loc 1 1202 28 is_stmt 0 view .LVU437
 1264 046a 2846     		mov	r0, r5
1195:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     buffer_dsc_alt->addr = SWAP32(bdt_elem->addr);
 1265              		.loc 1 1195 41 view .LVU438
 1266 046c 5A80     		strh	r2, [r3, #2]	@ unaligned
1196:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1267              		.loc 1 1196 21 is_stmt 1 view .LVU439
1196:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1268              		.loc 1 1196 44 is_stmt 0 view .LVU440
 1269 046e D1F80220 		ldr	r2, [r1, #2]	@ unaligned
1196:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1270              		.loc 1 1196 42 view .LVU441
 1271 0472 5A60     		str	r2, [r3, #4]	@ unaligned
1199:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                         (buffer_dsc_alt->Stat.McuCtlBit.data << 6) |
 1272              		.loc 1 1199 21 is_stmt 1 view .LVU442
1200:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                         _SIE | _DTS);
 1273              		.loc 1 1200 56 is_stmt 0 view .LVU443
 1274 0474 14F83630 		ldrb	r3, [r4, r6, lsl #3]	@ zero_extendqisi2
1200:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                         _SIE | _DTS);
 1275              		.loc 1 1200 62 view .LVU444
 1276 0478 03F04003 		and	r3, r3, #64
1201:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     return USB_OK;
 1277              		.loc 1 1201 30 view .LVU445
 1278 047c 63F07703 		orn	r3, r3, #119
1199:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                         (buffer_dsc_alt->Stat.McuCtlBit.data << 6) |
 1279              		.loc 1 1199 48 view .LVU446
 1280 0480 04F83730 		strb	r3, [r4, r7, lsl #3]
1202:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 }
 1281              		.loc 1 1202 21 is_stmt 1 view .LVU447
 1282              	.LVL109:
 1283              	.L69:
1202:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 }
 1284              		.loc 1 1202 21 is_stmt 0 view .LVU448
 1285              	.LBE29:
1246:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1286              		.loc 1 1246 1 view .LVU449
 1287 0484 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1288              	.LVL110:
 1289              	.L70:
 1290              	.LBB30:
1207:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 bdt_elem->app_buffer = buffer_ptr;
 1291              		.loc 1 1207 17 is_stmt 1 view .LVU450
 1292 0488 04EBC702 		add	r2, r4, r7, lsl #3
1219:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->addr = SWAP32((uint_32)buffer_ptr);
 1293              		.loc 1 1219 37 is_stmt 0 view .LVU451
 1294 048c AB42     		cmp	r3, r5
1216:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 1295              		.loc 1 1216 39 view .LVU452
 1296 048e 4FF00000 		mov	r0, #0
1219:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->addr = SWAP32((uint_32)buffer_ptr);
 1297              		.loc 1 1219 37 view .LVU453
 1298 0492 28BF     		it	cs
 1299 0494 2B46     		movcs	r3, r5
1207:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 bdt_elem->app_buffer = buffer_ptr;
 1300              		.loc 1 1207 35 view .LVU454
 1301 0496 4D81     		strh	r5, [r1, #10]	@ unaligned
1208:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 1302              		.loc 1 1208 17 is_stmt 1 view .LVU455
1208:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 1303              		.loc 1 1208 38 is_stmt 0 view .LVU456
 1304 0498 C1F80680 		str	r8, [r1, #6]	@ unaligned
1210:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 {
 1305              		.loc 1 1210 17 is_stmt 1 view .LVU457
 1306              	.LVL111:
1216:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 1307              		.loc 1 1216 17 view .LVU458
1216:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif
 1308              		.loc 1 1216 39 is_stmt 0 view .LVU459
 1309 049c 0873     		strb	r0, [r1, #12]
 1310 049e 4873     		strb	r0, [r1, #13]
1218:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->cnt = SWAP16(size);
 1311              		.loc 1 1218 17 is_stmt 1 view .LVU460
 1312              	.LVL112:
1219:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->addr = SWAP32((uint_32)buffer_ptr);
 1313              		.loc 1 1219 17 view .LVU461
1219:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->addr = SWAP32((uint_32)buffer_ptr);
 1314              		.loc 1 1219 37 is_stmt 0 view .LVU462
 1315 04a0 5380     		strh	r3, [r2, #2]	@ unaligned
 1316              	.LVL113:
1220:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->Stat._byte = (uint_8)(
 1317              		.loc 1 1220 17 is_stmt 1 view .LVU463
1220:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 buffer_dsc_alt->Stat._byte = (uint_8)(
 1318              		.loc 1 1220 38 is_stmt 0 view .LVU464
 1319 04a2 C2F80480 		str	r8, [r2, #4]	@ unaligned
1221:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (buffer_dsc_alt->Stat.McuCtlBit.data << 6) |
 1320              		.loc 1 1221 17 is_stmt 1 view .LVU465
1222:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     _SIE | _DTS);
 1321              		.loc 1 1222 52 is_stmt 0 view .LVU466
 1322 04a6 14F83630 		ldrb	r3, [r4, r6, lsl #3]	@ zero_extendqisi2
1222:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     _SIE | _DTS);
 1323              		.loc 1 1222 58 view .LVU467
 1324 04aa 03F04003 		and	r3, r3, #64
1223:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 status = USB_OK;
 1325              		.loc 1 1223 26 view .LVU468
 1326 04ae 63F07703 		orn	r3, r3, #119
1221:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (buffer_dsc_alt->Stat.McuCtlBit.data << 6) |
 1327              		.loc 1 1221 44 view .LVU469
 1328 04b2 04F83730 		strb	r3, [r4, r7, lsl #3]
1224:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 1329              		.loc 1 1224 17 is_stmt 1 view .LVU470
 1330              	.LVL114:
1224:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 1331              		.loc 1 1224 17 is_stmt 0 view .LVU471
 1332 04b6 E5E7     		b	.L69
 1333              	.LVL115:
 1334              	.L73:
1224:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 1335              		.loc 1 1224 17 view .LVU472
 1336              	.LBE30:
1165:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1337              		.loc 1 1165 12 view .LVU473
 1338 04b8 9420     		movs	r0, #148
 1339 04ba E3E7     		b	.L69
 1340              	.L75:
 1341              		.align	2
 1342              	.L74:
 1343 04bc 00000000 		.word	.LANCHOR0
 1344              		.cfi_endproc
 1345              	.LFE14:
 1347              		.align	1
 1348              		.global	_usb_device_unstall_endpoint
 1349              		.syntax unified
 1350              		.thumb
 1351              		.thumb_func
 1352              		.fpu softvfp
 1354              	_usb_device_unstall_endpoint:
 1355              	.LVL116:
 1356              	.LFB10:
 922:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1357              		.loc 1 922 1 is_stmt 1 view -0
 1358              		.cfi_startproc
 1359              		@ args = 0, pretend = 0, frame = 0
 1360              		@ frame_needed = 0, uses_anonymous_args = 0
 925:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 1361              		.loc 1 925 5 view .LVU475
 922:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1362              		.loc 1 922 1 is_stmt 0 view .LVU476
 1363 04c0 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1364              	.LCFI13:
 1365              		.cfi_def_cfa_offset 24
 1366              		.cfi_offset 4, -24
 1367              		.cfi_offset 5, -20
 1368              		.cfi_offset 6, -16
 1369              		.cfi_offset 7, -12
 1370              		.cfi_offset 8, -8
 1371              		.cfi_offset 14, -4
 922:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1372              		.loc 1 922 1 view .LVU477
 1373 04c4 0C46     		mov	r4, r1
 1374 04c6 0646     		mov	r6, r0
 925:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 1375              		.loc 1 925 24 view .LVU478
 1376 04c8 1146     		mov	r1, r2
 1377              	.LVL117:
 925:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 1378              		.loc 1 925 24 view .LVU479
 1379 04ca 2046     		mov	r0, r4
 1380              	.LVL118:
 922:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1381              		.loc 1 922 1 view .LVU480
 1382 04cc 1546     		mov	r5, r2
 925:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_RAM_EVEN_BUFFER);
 1383              		.loc 1 925 24 view .LVU481
 1384 04ce FFF797FD 		bl	USB_DCI_Validate_Param.constprop.0
 1385              	.LVL119:
 928:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1386              		.loc 1 928 5 is_stmt 1 view .LVU482
 930:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1387              		.loc 1 930 15 is_stmt 0 view .LVU483
 1388 04d2 1949     		ldr	r1, .L86
 928:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1389              		.loc 1 928 39 view .LVU484
 1390 04d4 C0F34703 		ubfx	r3, r0, #1, #8
 1391              	.LVL120:
 930:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1392              		.loc 1 930 5 is_stmt 1 view .LVU485
 930:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1393              		.loc 1 930 15 is_stmt 0 view .LVU486
 1394 04d8 1220     		movs	r0, #18
 1395              	.LVL121:
 930:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1396              		.loc 1 930 15 view .LVU487
 1397 04da 00FB0313 		mla	r3, r0, r3, r1
 1398              	.LVL122:
 930:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1399              		.loc 1 930 15 view .LVU488
 1400 04de DF7B     		ldrb	r7, [r3, #15]	@ zero_extendqisi2
 1401              	.LVL123:
 933:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	{
 1402              		.loc 1 933 2 is_stmt 1 view .LVU489
 933:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	{
 1403              		.loc 1 933 4 is_stmt 0 view .LVU490
 1404 04e0 FF2F     		cmp	r7, #255
 1405 04e2 27D0     		beq	.L76
 1406              	.LBB31:
 935:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1407              		.loc 1 935 9 is_stmt 1 view .LVU491
 935:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1408              		.loc 1 935 29 is_stmt 0 view .LVU492
 1409 04e4 1548     		ldr	r0, .L86+4
 935:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1410              		.loc 1 935 80 view .LVU493
 1411 04e6 0FFA84FC 		sxth	ip, r4
 1412              	.LVL124:
 939:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1413              		.loc 1 939 9 is_stmt 1 view .LVU494
 939:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1414              		.loc 1 939 11 is_stmt 0 view .LVU495
 1415 04ea 7CB1     		cbz	r4, .L79
 1416              	.LBB32:
 941:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /* Enable handshaking for non isochronous endpoint */
 1417              		.loc 1 941 13 is_stmt 1 view .LVU496
 943:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 HSHK_EN:0);
 1418              		.loc 1 943 13 view .LVU497
 943:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 HSHK_EN:0);
 1419              		.loc 1 943 21 is_stmt 0 view .LVU498
 1420 04ec 93F811E0 		ldrb	lr, [r3, #17]	@ zero_extendqisi2
 1421              	.LVL125:
 950:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 ((direction == USB_SEND)?EP_IN:EP_OUT));
 1422              		.loc 1 950 10 is_stmt 1 view .LVU499
 952:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1423              		.loc 1 952 28 is_stmt 0 view .LVU500
 1424 04f0 10F82C30 		ldrb	r3, [r0, ip, lsl #2]	@ zero_extendqisi2
 950:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 ((direction == USB_SEND)?EP_IN:EP_OUT));
 1425              		.loc 1 950 16 view .LVU501
 1426 04f4 012D     		cmp	r5, #1
 1427 04f6 0CBF     		ite	eq
 1428 04f8 1422     		moveq	r2, #20
 1429 04fa 1822     		movne	r2, #24
 1430              	.LVL126:
 952:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1431              		.loc 1 952 13 is_stmt 1 view .LVU502
 950:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 ((direction == USB_SEND)?EP_IN:EP_OUT));
 1432              		.loc 1 950 16 is_stmt 0 view .LVU503
 1433 04fc BEF1010F 		cmp	lr, #1
 1434 0500 18BF     		it	ne
 1435 0502 42F00102 		orrne	r2, r2, #1
 1436              	.LVL127:
 952:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1437              		.loc 1 952 28 view .LVU504
 1438 0506 1343     		orrs	r3, r3, r2
 1439 0508 00F82C30 		strb	r3, [r0, ip, lsl #2]
 1440              	.L79:
 952:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1441              		.loc 1 952 28 view .LVU505
 1442              	.LBE32:
 955:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1443              		.loc 1 955 9 is_stmt 1 view .LVU506
 955:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1444              		.loc 1 955 33 is_stmt 0 view .LVU507
 1445 050c 10F82C30 		ldrb	r3, [r0, ip, lsl #2]	@ zero_extendqisi2
 1446 0510 6FF34103 		bfc	r3, #1, #1
 1447 0514 00F82C30 		strb	r3, [r0, ip, lsl #2]
 958:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* We Require DATA0 PID to be zero on unstall */
 1448              		.loc 1 958 6 is_stmt 1 view .LVU508
 960:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    if(direction == USB_RECV)
 1449              		.loc 1 960 9 view .LVU509
 960:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    if(direction == USB_RECV)
 1450              		.loc 1 960 48 is_stmt 0 view .LVU510
 1451 0518 D1F84432 		ldr	r3, [r1, #580]
 1452 051c 0022     		movs	r2, #0
 1453 051e 03F83720 		strb	r2, [r3, r7, lsl #3]
 961:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    {
 1454              		.loc 1 961 6 is_stmt 1 view .LVU511
 961:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    {
 1455              		.loc 1 961 8 is_stmt 0 view .LVU512
 1456 0522 3DB9     		cbnz	r5, .L76
 964:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    }
 1457              		.loc 1 964 10 is_stmt 1 view .LVU513
 1458 0524 2B46     		mov	r3, r5
 1459 0526 2A46     		mov	r2, r5
 1460 0528 2146     		mov	r1, r4
 1461 052a 3046     		mov	r0, r6
 1462              	.LVL128:
 964:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    }
 1463              		.loc 1 964 10 is_stmt 0 view .LVU514
 1464              	.LBE31:
 982:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1465              		.loc 1 982 1 view .LVU515
 1466 052c BDE8F041 		pop	{r4, r5, r6, r7, r8, lr}
 1467              	.LCFI14:
 1468              		.cfi_remember_state
 1469              		.cfi_restore 14
 1470              		.cfi_restore 8
 1471              		.cfi_restore 7
 1472              		.cfi_restore 6
 1473              		.cfi_restore 5
 1474              		.cfi_restore 4
 1475              		.cfi_def_cfa_offset 0
 1476              	.LVL129:
 1477              	.LBB33:
 964:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    }
 1478              		.loc 1 964 10 view .LVU516
 1479 0530 FFF7FEBF 		b	_usb_device_recv_data
 1480              	.LVL130:
 1481              	.L76:
 1482              	.LCFI15:
 1483              		.cfi_restore_state
 964:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	    }
 1484              		.loc 1 964 10 view .LVU517
 1485              	.LBE33:
 982:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1486              		.loc 1 982 1 view .LVU518
 1487 0534 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1488              	.LVL131:
 1489              	.L87:
 982:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1490              		.loc 1 982 1 view .LVU519
 1491              		.align	2
 1492              	.L86:
 1493 0538 00000000 		.word	.LANCHOR0
 1494 053c C0200740 		.word	1074208960
 1495              		.cfi_endproc
 1496              	.LFE10:
 1498              		.align	1
 1499              		.global	_usb_device_send_data
 1500              		.syntax unified
 1501              		.thumb
 1502              		.thumb_func
 1503              		.fpu softvfp
 1505              	_usb_device_send_data:
 1506              	.LVL132:
 1507              	.LFB15:
1272:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1508              		.loc 1 1272 1 is_stmt 1 view -0
 1509              		.cfi_startproc
 1510              		@ args = 0, pretend = 0, frame = 0
 1511              		@ frame_needed = 0, uses_anonymous_args = 0
1274:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC buffer_dsc;
 1512              		.loc 1 1274 5 view .LVU521
1275:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1513              		.loc 1 1275 5 view .LVU522
1278:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 1514              		.loc 1 1278 5 view .LVU523
1272:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1515              		.loc 1 1272 1 is_stmt 0 view .LVU524
 1516 0540 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1517              	.LCFI16:
 1518              		.cfi_def_cfa_offset 24
 1519              		.cfi_offset 4, -24
 1520              		.cfi_offset 5, -20
 1521              		.cfi_offset 6, -16
 1522              		.cfi_offset 7, -12
 1523              		.cfi_offset 8, -8
 1524              		.cfi_offset 14, -4
1272:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1525              		.loc 1 1272 1 view .LVU525
 1526 0544 0F46     		mov	r7, r1
1278:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 1527              		.loc 1 1278 24 view .LVU526
 1528 0546 3846     		mov	r0, r7
 1529              	.LVL133:
1278:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 1530              		.loc 1 1278 24 view .LVU527
 1531 0548 0121     		movs	r1, #1
 1532              	.LVL134:
1272:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1533              		.loc 1 1272 1 view .LVU528
 1534 054a 9046     		mov	r8, r2
 1535 054c 1D46     		mov	r5, r3
1278:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = &g_bdt_elem[TRANSFER_INDEX(bdt_index)];
 1536              		.loc 1 1278 24 view .LVU529
 1537 054e FFF757FD 		bl	USB_DCI_Validate_Param.constprop.0
 1538              	.LVL135:
1279:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1539              		.loc 1 1279 5 is_stmt 1 view .LVU530
1283:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         return USBERR_TX_FAILED;
 1540              		.loc 1 1283 7 is_stmt 0 view .LVU531
 1541 0552 FF28     		cmp	r0, #255
1279:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1542              		.loc 1 1279 39 view .LVU532
 1543 0554 C0F34704 		ubfx	r4, r0, #1, #8
 1544              	.LVL136:
1281:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1545              		.loc 1 1281 2 is_stmt 1 view .LVU533
1281:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1546              		.loc 1 1281 16 view .LVU534
1283:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         return USBERR_TX_FAILED;
 1547              		.loc 1 1283 5 view .LVU535
1283:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         return USBERR_TX_FAILED;
 1548              		.loc 1 1283 7 is_stmt 0 view .LVU536
 1549 0558 30D0     		beq	.L94
1287:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1550              		.loc 1 1287 5 is_stmt 1 view .LVU537
1287:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1551              		.loc 1 1287 15 is_stmt 0 view .LVU538
 1552 055a 194B     		ldr	r3, .L96
 1553 055c 1222     		movs	r2, #18
 1554 055e 02FB0434 		mla	r4, r2, r4, r3
 1555              	.LVL137:
1289:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1556              		.loc 1 1289 27 view .LVU539
 1557 0562 D3F84462 		ldr	r6, [r3, #580]
1287:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1558              		.loc 1 1287 15 view .LVU540
 1559 0566 94F80FC0 		ldrb	ip, [r4, #15]	@ zero_extendqisi2
 1560              	.LVL138:
1289:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1561              		.loc 1 1289 5 is_stmt 1 view .LVU541
1292:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (*(&USB0_ENDPT0 + (endpoint_number * 4)) & ENDPT_EP_STALL_MASK)))
 1562              		.loc 1 1292 5 view .LVU542
1292:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (*(&USB0_ENDPT0 + (endpoint_number * 4)) & ENDPT_EP_STALL_MASK)))
 1563              		.loc 1 1292 7 is_stmt 0 view .LVU543
 1564 056a 16F93C30 		ldrsb	r3, [r6, ip, lsl #3]
 1565 056e 002B     		cmp	r3, #0
 1566 0570 6146     		mov	r1, ip
 1567 0572 06EBCC02 		add	r2, r6, ip, lsl #3
 1568              	.LVL139:
1292:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (*(&USB0_ENDPT0 + (endpoint_number * 4)) & ENDPT_EP_STALL_MASK)))
 1569              		.loc 1 1292 7 view .LVU544
 1570 0576 21DB     		blt	.L94
1293:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1571              		.loc 1 1293 24 discriminator 1 view .LVU545
 1572 0578 1248     		ldr	r0, .L96+4
 1573              	.LVL140:
1293:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1574              		.loc 1 1293 43 discriminator 1 view .LVU546
 1575 057a 3BB2     		sxth	r3, r7
1293:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1576              		.loc 1 1293 9 discriminator 1 view .LVU547
 1577 057c 10F82300 		ldrb	r0, [r0, r3, lsl #2]	@ zero_extendqisi2
1292:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        (*(&USB0_ENDPT0 + (endpoint_number * 4)) & ENDPT_EP_STALL_MASK)))
 1578              		.loc 1 1292 8 discriminator 1 view .LVU548
 1579 0580 10F00200 		ands	r0, r0, #2
 1580 0584 1AD1     		bne	.L94
1298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->app_buffer = buffer_ptr;
 1581              		.loc 1 1298 9 is_stmt 1 view .LVU549
 1582              	.LBB36:
 1583              	.LBB37:
 377:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1584              		.loc 1 377 62 is_stmt 0 view .LVU550
 1585 0586 2388     		ldrh	r3, [r4]	@ unaligned
 1586              	.LBE37:
 1587              	.LBE36:
1298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->app_buffer = buffer_ptr;
 1588              		.loc 1 1298 27 view .LVU551
 1589 0588 6581     		strh	r5, [r4, #10]	@ unaligned
1299:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->curr_offset = 0;
 1590              		.loc 1 1299 9 is_stmt 1 view .LVU552
1298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->app_buffer = buffer_ptr;
 1591              		.loc 1 1298 27 is_stmt 0 view .LVU553
 1592 058a 1FFA85FE 		uxth	lr, r5
 1593              	.LBB40:
 1594              	.LBB38:
 385:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 1595              		.loc 1 385 23 view .LVU554
 1596 058e 9E45     		cmp	lr, r3
 1597 0590 D8BF     		it	le
 1598 0592 7346     		movle	r3, lr
 1599              	.LBE38:
 1600              	.LBE40:
1299:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         bdt_elem->curr_offset = 0;
 1601              		.loc 1 1299 30 view .LVU555
 1602 0594 C4F80680 		str	r8, [r4, #6]	@ unaligned
1300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1603              		.loc 1 1300 9 is_stmt 1 view .LVU556
1300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1604              		.loc 1 1300 31 is_stmt 0 view .LVU557
 1605 0598 2073     		strb	r0, [r4, #12]
 1606 059a 6073     		strb	r0, [r4, #13]
1303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 1607              		.loc 1 1303 9 is_stmt 1 view .LVU558
 1608              	.LVL141:
 1609              	.LBB41:
 1610              	.LBI36:
 366:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC buffer_dsc,  /* [OUT] Pointer to buffer descriptor
 1611              		.loc 1 366 13 view .LVU559
 1612              	.LBB39:
 373:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_16 current_count = 0;
 1613              		.loc 1 373 5 view .LVU560
 374:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1614              		.loc 1 374 5 view .LVU561
 377:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1615              		.loc 1 377 5 view .LVU562
 388:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1616              		.loc 1 388 5 view .LVU563
 388:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1617              		.loc 1 388 21 is_stmt 0 view .LVU564
 1618 059c 5380     		strh	r3, [r2, #2]	@ unaligned
 390:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 1619              		.loc 1 390 5 is_stmt 1 view .LVU565
 390:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 1620              		.loc 1 390 22 is_stmt 0 view .LVU566
 1621 059e C2F80480 		str	r8, [r2, #4]	@ unaligned
 1622              	.LVL142:
 390:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 1623              		.loc 1 390 22 view .LVU567
 1624              	.LBE39:
 1625              	.LBE41:
1317:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1626              		.loc 1 1317 9 is_stmt 1 view .LVU568
1317:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 1627              		.loc 1 1317 11 is_stmt 0 view .LVU569
 1628 05a2 27B9     		cbnz	r7, .L91
1320:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1629              		.loc 1 1320 13 is_stmt 1 view .LVU570
1320:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1630              		.loc 1 1320 36 is_stmt 0 view .LVU571
 1631 05a4 C823     		movs	r3, #200
 1632              	.L95:
1324:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 (buffer_dsc->Stat.McuCtlBit.data << 6) |
 1633              		.loc 1 1324 36 view .LVU572
 1634 05a6 06F83130 		strb	r3, [r6, r1, lsl #3]
 1635              	.LVL143:
 1636              	.L89:
1349:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1637              		.loc 1 1349 1 view .LVU573
 1638 05aa BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1639              	.LVL144:
 1640              	.L91:
1324:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 (buffer_dsc->Stat.McuCtlBit.data << 6) |
 1641              		.loc 1 1324 13 is_stmt 1 view .LVU574
1325:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 _SIE | _DTS);
 1642              		.loc 1 1325 44 is_stmt 0 view .LVU575
 1643 05ae 16F83C30 		ldrb	r3, [r6, ip, lsl #3]	@ zero_extendqisi2
1325:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 _SIE | _DTS);
 1644              		.loc 1 1325 50 view .LVU576
 1645 05b2 03F04003 		and	r3, r3, #64
1326:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 1646              		.loc 1 1326 22 view .LVU577
 1647 05b6 63F07703 		orn	r3, r3, #119
 1648 05ba F4E7     		b	.L95
 1649              	.LVL145:
 1650              	.L94:
1284:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1651              		.loc 1 1284 16 view .LVU578
 1652 05bc 9320     		movs	r0, #147
 1653 05be F4E7     		b	.L89
 1654              	.L97:
 1655              		.align	2
 1656              	.L96:
 1657 05c0 00000000 		.word	.LANCHOR0
 1658 05c4 C0200740 		.word	1074208960
 1659              		.cfi_endproc
 1660              	.LFE15:
 1662              		.align	1
 1663              		.global	_usb_device_set_address
 1664              		.syntax unified
 1665              		.thumb
 1666              		.thumb_func
 1667              		.fpu softvfp
 1669              	_usb_device_set_address:
 1670              	.LVL146:
 1671              	.LFB16:
1369:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1672              		.loc 1 1369 1 is_stmt 1 view -0
 1673              		.cfi_startproc
 1674              		@ args = 0, pretend = 0, frame = 0
 1675              		@ frame_needed = 0, uses_anonymous_args = 0
 1676              		@ link register save eliminated.
1371:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1677              		.loc 1 1371 2 view .LVU580
1371:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1678              		.loc 1 1371 16 view .LVU581
1375:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 1679              		.loc 1 1375 5 view .LVU582
1375:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 1680              		.loc 1 1375 15 is_stmt 0 view .LVU583
 1681 05c8 034B     		ldr	r3, .L99
1380:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_STATE_ADDRESS);
 1682              		.loc 1 1380 5 view .LVU584
 1683 05ca 0448     		ldr	r0, .L99+4
 1684              	.LVL147:
1375:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 1685              		.loc 1 1375 15 view .LVU585
 1686 05cc 83F89810 		strb	r1, [r3, #152]
1380:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_STATE_ADDRESS);
 1687              		.loc 1 1380 5 is_stmt 1 view .LVU586
 1688 05d0 0122     		movs	r2, #1
 1689 05d2 1146     		mov	r1, r2
 1690              	.LVL148:
1380:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_STATE_ADDRESS);
 1691              		.loc 1 1380 5 is_stmt 0 view .LVU587
 1692 05d4 FFF7FEBF 		b	_usb_device_set_status
 1693              	.LVL149:
 1694              	.L100:
1380:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_STATE_ADDRESS);
 1695              		.loc 1 1380 5 view .LVU588
 1696              		.align	2
 1697              	.L99:
 1698 05d8 00200740 		.word	1074208768
 1699 05dc 40020000 		.word	.LANCHOR0+576
 1700              		.cfi_endproc
 1701              	.LFE16:
 1703              		.align	1
 1704              		.global	_usb_device_shutdown
 1705              		.syntax unified
 1706              		.thumb
 1707              		.thumb_func
 1708              		.fpu softvfp
 1710              	_usb_device_shutdown:
 1711              	.LVL150:
 1712              	.LFB17:
1401:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	UNUSED(handle);
 1713              		.loc 1 1401 1 is_stmt 1 view -0
 1714              		.cfi_startproc
 1715              		@ args = 0, pretend = 0, frame = 0
 1716              		@ frame_needed = 0, uses_anonymous_args = 0
 1717              		@ link register save eliminated.
1402:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1718              		.loc 1 1402 2 view .LVU590
1402:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1719              		.loc 1 1402 16 view .LVU591
1405:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Initiate Reset in the USB Control0 Register */
 1720              		.loc 1 1405 2 view .LVU592
1405:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Initiate Reset in the USB Control0 Register */
 1721              		.loc 1 1405 11 is_stmt 0 view .LVU593
 1722 05e0 054B     		ldr	r3, .L102
1412:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_STATE_UNKNOWN);
 1723              		.loc 1 1412 2 view .LVU594
 1724 05e2 0648     		ldr	r0, .L102+4
 1725              	.LVL151:
1405:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Initiate Reset in the USB Control0 Register */
 1726              		.loc 1 1405 11 view .LVU595
 1727 05e4 0022     		movs	r2, #0
 1728 05e6 83F89420 		strb	r2, [r3, #148]
1409:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****   #endif
 1729              		.loc 1 1409 2 is_stmt 1 view .LVU596
1409:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****   #endif
 1730              		.loc 1 1409 15 is_stmt 0 view .LVU597
 1731 05ea 8022     		movs	r2, #128
 1732 05ec 83F80C21 		strb	r2, [r3, #268]
1412:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         USB_STATE_UNKNOWN);
 1733              		.loc 1 1412 2 is_stmt 1 view .LVU598
 1734 05f0 0121     		movs	r1, #1
 1735 05f2 FF22     		movs	r2, #255
 1736 05f4 FFF7FEBF 		b	_usb_device_set_status
 1737              	.LVL152:
 1738              	.L103:
 1739              		.align	2
 1740              	.L102:
 1741 05f8 00200740 		.word	1074208768
 1742 05fc 40020000 		.word	.LANCHOR0+576
 1743              		.cfi_endproc
 1744              	.LFE17:
 1746              		.align	1
 1747              		.global	_usb_device_assert_resume
 1748              		.syntax unified
 1749              		.thumb
 1750              		.thumb_func
 1751              		.fpu softvfp
 1753              	_usb_device_assert_resume:
 1754              	.LVL153:
 1755              	.LFB18:
1441:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1756              		.loc 1 1441 1 view -0
 1757              		.cfi_startproc
 1758              		@ args = 0, pretend = 0, frame = 0
 1759              		@ frame_needed = 0, uses_anonymous_args = 0
1443:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1760              		.loc 1 1443 5 view .LVU600
1446:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1761              		.loc 1 1446 5 view .LVU601
1441:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #if !HIGH_SPEED_DEVICE
 1762              		.loc 1 1441 1 is_stmt 0 view .LVU602
 1763 0600 38B5     		push	{r3, r4, r5, lr}
 1764              	.LCFI17:
 1765              		.cfi_def_cfa_offset 16
 1766              		.cfi_offset 3, -16
 1767              		.cfi_offset 4, -12
 1768              		.cfi_offset 5, -8
 1769              		.cfi_offset 14, -4
1446:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1770              		.loc 1 1446 18 view .LVU603
 1771 0602 1A4C     		ldr	r4, .L107
 1772 0604 94F80021 		ldrb	r2, [r4, #256]	@ zero_extendqisi2
 1773 0608 02F07F02 		and	r2, r2, #127
 1774 060c 84F80021 		strb	r2, [r4, #256]
1448:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1775              		.loc 1 1448 5 is_stmt 1 view .LVU604
1451:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1776              		.loc 1 1451 5 view .LVU605
1451:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1777              		.loc 1 1451 18 is_stmt 0 view .LVU606
 1778 0610 94F80C21 		ldrb	r2, [r4, #268]	@ zero_extendqisi2
 1779 0614 02F0DF02 		and	r2, r2, #223
 1780 0618 84F80C21 		strb	r2, [r4, #268]
1453:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1781              		.loc 1 1453 5 is_stmt 1 view .LVU607
 1782 061c 94F88020 		ldrb	r2, [r4, #128]	@ zero_extendqisi2
 1783 0620 42F02002 		orr	r2, r2, #32
 1784 0624 84F88020 		strb	r2, [r4, #128]
1453:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1785              		.loc 1 1453 5 view .LVU608
 1786 0628 94F88420 		ldrb	r2, [r4, #132]	@ zero_extendqisi2
 1787 062c 02F0DF02 		and	r2, r2, #223
 1788 0630 84F88420 		strb	r2, [r4, #132]
1453:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1789              		.loc 1 1453 5 view .LVU609
 1790 0634 94F89420 		ldrb	r2, [r4, #148]	@ zero_extendqisi2
 1791 0638 02F0DF02 		and	r2, r2, #223
 1792 063c 84F89420 		strb	r2, [r4, #148]
1455:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1793              		.loc 1 1455 5 view .LVU610
1455:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1794              		.loc 1 1455 14 is_stmt 0 view .LVU611
 1795 0640 94F89420 		ldrb	r2, [r4, #148]	@ zero_extendqisi2
 1796 0644 42F00402 		orr	r2, r2, #4
 1797 0648 84F89420 		strb	r2, [r4, #148]
1457:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1798              		.loc 1 1457 5 is_stmt 1 view .LVU612
 1799              	.LVL154:
1455:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1800              		.loc 1 1455 14 is_stmt 0 view .LVU613
 1801 064c 44F62065 		movw	r5, #20000
 1802              	.LVL155:
 1803              	.L105:
1459:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1804              		.loc 1 1459 5 is_stmt 1 discriminator 1 view .LVU614
1461:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****        Watchdog_Reset();    /* Reset the COP */
 1805              		.loc 1 1461 8 discriminator 1 view .LVU615
1462:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }while(delay_count);
 1806              		.loc 1 1462 8 discriminator 1 view .LVU616
 1807 0650 013D     		subs	r5, r5, #1
 1808              	.LVL156:
1462:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }while(delay_count);
 1809              		.loc 1 1462 8 is_stmt 0 discriminator 1 view .LVU617
 1810 0652 ADB2     		uxth	r5, r5
 1811 0654 FFF7FEFF 		bl	Watchdog_Reset
 1812              	.LVL157:
1463:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1813              		.loc 1 1463 11 is_stmt 1 discriminator 1 view .LVU618
1463:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1814              		.loc 1 1463 5 is_stmt 0 discriminator 1 view .LVU619
 1815 0658 002D     		cmp	r5, #0
 1816 065a F9D1     		bne	.L105
1465:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1817              		.loc 1 1465 5 is_stmt 1 view .LVU620
1465:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1818              		.loc 1 1465 14 is_stmt 0 view .LVU621
 1819 065c 94F89430 		ldrb	r3, [r4, #148]	@ zero_extendqisi2
 1820 0660 03F0FB03 		and	r3, r3, #251
 1821 0664 84F89430 		strb	r3, [r4, #148]
1467:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #else
 1822              		.loc 1 1467 5 is_stmt 1 view .LVU622
1473:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1823              		.loc 1 1473 1 is_stmt 0 view .LVU623
 1824 0668 38BD     		pop	{r3, r4, r5, pc}
 1825              	.L108:
 1826 066a 00BF     		.align	2
 1827              	.L107:
 1828 066c 00200740 		.word	1074208768
 1829              		.cfi_endproc
 1830              	.LFE18:
 1832              		.align	1
 1833              		.global	USB_ISR
 1834              		.syntax unified
 1835              		.thumb
 1836              		.thumb_func
 1837              		.fpu softvfp
 1839              	USB_ISR:
 1840              	.LFB20:
1806:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Which interrupt occured and also was enabled */
 1841              		.loc 1 1806 1 is_stmt 1 view -0
 1842              		.cfi_startproc
 1843              		@ args = 0, pretend = 0, frame = 16
 1844              		@ frame_needed = 0, uses_anonymous_args = 0
1808:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	uint_8 v2 = USB0_INTEN;
 1845              		.loc 1 1808 2 view .LVU625
1806:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Which interrupt occured and also was enabled */
 1846              		.loc 1 1806 1 is_stmt 0 view .LVU626
 1847 0670 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1848              	.LCFI18:
 1849              		.cfi_def_cfa_offset 36
 1850              		.cfi_offset 4, -36
 1851              		.cfi_offset 5, -32
 1852              		.cfi_offset 6, -28
 1853              		.cfi_offset 7, -24
 1854              		.cfi_offset 8, -20
 1855              		.cfi_offset 9, -16
 1856              		.cfi_offset 10, -12
 1857              		.cfi_offset 11, -8
 1858              		.cfi_offset 14, -4
1808:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	uint_8 v2 = USB0_INTEN;
 1859              		.loc 1 1808 9 view .LVU627
 1860 0674 D44D     		ldr	r5, .L167
1816:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.setup = FALSE;
 1861              		.loc 1 1816 25 view .LVU628
 1862 0676 D54C     		ldr	r4, .L167+4
1808:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	uint_8 v2 = USB0_INTEN;
 1863              		.loc 1 1808 9 view .LVU629
 1864 0678 95F88070 		ldrb	r7, [r5, #128]	@ zero_extendqisi2
 1865              	.LVL158:
1809:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 intr_stat = (uint_8)(v1 & v2);
 1866              		.loc 1 1809 2 is_stmt 1 view .LVU630
1809:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 intr_stat = (uint_8)(v1 & v2);
 1867              		.loc 1 1809 9 is_stmt 0 view .LVU631
 1868 067c 95F88430 		ldrb	r3, [r5, #132]	@ zero_extendqisi2
 1869              	.LVL159:
1810:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 stat = (uint_8)USB0_STAT;
 1870              		.loc 1 1810 5 is_stmt 1 view .LVU632
1816:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.setup = FALSE;
 1871              		.loc 1 1816 25 is_stmt 0 view .LVU633
 1872 0680 94F84022 		ldrb	r2, [r4, #576]	@ zero_extendqisi2
1811:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_DEV_EVENT_STRUCT event;
 1873              		.loc 1 1811 12 view .LVU634
 1874 0684 95F89060 		ldrb	r6, [r5, #144]	@ zero_extendqisi2
1806:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     /* Which interrupt occured and also was enabled */
 1875              		.loc 1 1806 1 view .LVU635
 1876 0688 85B0     		sub	sp, sp, #20
 1877              	.LCFI19:
 1878              		.cfi_def_cfa_offset 56
1810:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 stat = (uint_8)USB0_STAT;
 1879              		.loc 1 1810 12 view .LVU636
 1880 068a 1F40     		ands	r7, r7, r3
 1881              	.LVL160:
1811:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_DEV_EVENT_STRUCT event;
 1882              		.loc 1 1811 5 is_stmt 1 view .LVU637
1813:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1883              		.loc 1 1813 12 is_stmt 0 view .LVU638
 1884 068c FF23     		movs	r3, #255
 1885              	.LVL161:
1813:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1886              		.loc 1 1813 12 view .LVU639
 1887 068e 8DF80130 		strb	r3, [sp, #1]
1816:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.setup = FALSE;
 1888              		.loc 1 1816 25 view .LVU640
 1889 0692 8DF80420 		strb	r2, [sp, #4]
1823:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1890              		.loc 1 1823 18 view .LVU641
 1891 0696 8DF80530 		strb	r3, [sp, #5]
1826:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         &dev_state);
 1892              		.loc 1 1826 11 view .LVU642
 1893 069a 0121     		movs	r1, #1
1817:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.buffer_ptr = NULL;
 1894              		.loc 1 1817 17 view .LVU643
 1895 069c 0023     		movs	r3, #0
1826:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         &dev_state);
 1896              		.loc 1 1826 11 view .LVU644
 1897 069e 0DF10102 		add	r2, sp, #1
 1898 06a2 04F51070 		add	r0, r4, #576
1817:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.buffer_ptr = NULL;
 1899              		.loc 1 1817 17 view .LVU645
 1900 06a6 ADF80630 		strh	r3, [sp, #6]	@ movhi
1818:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.len = 0;
 1901              		.loc 1 1818 22 view .LVU646
 1902 06aa 0293     		str	r3, [sp, #8]
1821:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1903              		.loc 1 1821 18 view .LVU647
 1904 06ac ADF80C30 		strh	r3, [sp, #12]	@ movhi
1819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.direction = USB_RECV;
 1905              		.loc 1 1819 15 view .LVU648
 1906 06b0 8DF80E30 		strb	r3, [sp, #14]
1826:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         &dev_state);
 1907              		.loc 1 1826 11 view .LVU649
 1908 06b4 FFF7FEFF 		bl	_usb_device_get_status
 1909              	.LVL162:
1830:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1910              		.loc 1 1830 9 view .LVU650
 1911 06b8 95F80C31 		ldrb	r3, [r5, #268]	@ zero_extendqisi2
1830:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1912              		.loc 1 1830 7 view .LVU651
 1913 06bc D907     		lsls	r1, r3, #31
1811:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     USB_DEV_EVENT_STRUCT event;
 1914              		.loc 1 1811 12 view .LVU652
 1915 06be F6B2     		uxtb	r6, r6
 1916              	.LVL163:
1812:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 dev_state = USB_STATUS_UNKNOWN;
 1917              		.loc 1 1812 5 is_stmt 1 view .LVU653
1813:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1918              		.loc 1 1813 5 view .LVU654
1816:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.setup = FALSE;
 1919              		.loc 1 1816 5 view .LVU655
1817:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.buffer_ptr = NULL;
 1920              		.loc 1 1817 5 view .LVU656
1818:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.len = 0;
 1921              		.loc 1 1818 5 view .LVU657
1819:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.direction = USB_RECV;
 1922              		.loc 1 1819 5 view .LVU658
1820:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     event.errors = NO_ERRORS;
 1923              		.loc 1 1820 5 view .LVU659
1821:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1924              		.loc 1 1821 5 view .LVU660
1823:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1925              		.loc 1 1823 5 view .LVU661
1826:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         &dev_state);
 1926              		.loc 1 1826 5 view .LVU662
1830:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1927              		.loc 1 1830 5 view .LVU663
1830:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1928              		.loc 1 1830 7 is_stmt 0 view .LVU664
 1929 06c0 0FD5     		bpl	.L110
1830:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1930              		.loc 1 1830 57 discriminator 1 view .LVU665
 1931 06c2 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 1932 06c6 802B     		cmp	r3, #128
 1933 06c8 0BD1     		bne	.L110
1833:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1934              		.loc 1 1833 6 is_stmt 1 view .LVU666
1833:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1935              		.loc 1 1833 19 is_stmt 0 view .LVU667
 1936 06ca 95F80031 		ldrb	r3, [r5, #256]	@ zero_extendqisi2
 1937 06ce 03F07F03 		and	r3, r3, #127
 1938 06d2 85F80031 		strb	r3, [r5, #256]
1836:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 1939              		.loc 1 1836 9 is_stmt 1 view .LVU668
1836:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 1940              		.loc 1 1836 22 is_stmt 0 view .LVU669
 1941 06d6 95F80C31 		ldrb	r3, [r5, #268]	@ zero_extendqisi2
 1942 06da 03F0DF03 		and	r3, r3, #223
 1943 06de 85F80C31 		strb	r3, [r5, #268]
 1944              	.L110:
1840:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1945              		.loc 1 1840 5 is_stmt 1 view .LVU670
1840:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1946              		.loc 1 1840 7 is_stmt 0 view .LVU671
 1947 06e2 7A07     		lsls	r2, r7, #29
 1948 06e4 13D5     		bpl	.L111
 1949              	.LBB58:
1842:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		uint_16 tmp1, tmp2, tmp3;
 1950              		.loc 1 1842 9 is_stmt 1 view .LVU672
1843:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		tmp1 = USB0_FRMNUMH;
 1951              		.loc 1 1843 3 view .LVU673
1844:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		tmp2 = FRAME_HIGH_BYTE_SHIFT;
 1952              		.loc 1 1844 3 view .LVU674
1844:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		tmp2 = FRAME_HIGH_BYTE_SHIFT;
 1953              		.loc 1 1844 10 is_stmt 0 view .LVU675
 1954 06e6 B84A     		ldr	r2, .L167
 1955 06e8 92F8A410 		ldrb	r1, [r2, #164]	@ zero_extendqisi2
 1956              	.LVL164:
1845:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		tmp3 = USB0_FRMNUML;
 1957              		.loc 1 1845 3 is_stmt 1 view .LVU676
1846:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear SOF Interrupt */
 1958              		.loc 1 1846 3 view .LVU677
1846:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clear SOF Interrupt */
 1959              		.loc 1 1846 10 is_stmt 0 view .LVU678
 1960 06ec 92F8A030 		ldrb	r3, [r2, #160]	@ zero_extendqisi2
 1961              	.LVL165:
1848:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         sof_count = (uint_16)((tmp1 << tmp2) | tmp3);
 1962              		.loc 1 1848 9 is_stmt 1 view .LVU679
1848:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         sof_count = (uint_16)((tmp1 << tmp2) | tmp3);
 1963              		.loc 1 1848 20 is_stmt 0 view .LVU680
 1964 06f0 0420     		movs	r0, #4
1849:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /*address of Lower byte of Frame number*/
 1965              		.loc 1 1849 46 view .LVU681
 1966 06f2 43EA0123 		orr	r3, r3, r1, lsl #8
 1967              	.LVL166:
1848:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         sof_count = (uint_16)((tmp1 << tmp2) | tmp3);
 1968              		.loc 1 1848 20 view .LVU682
 1969 06f6 82F88000 		strb	r0, [r2, #128]
1849:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /*address of Lower byte of Frame number*/
 1970              		.loc 1 1849 9 is_stmt 1 view .LVU683
1853:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1971              		.loc 1 1853 15 is_stmt 0 view .LVU684
 1972 06fa 0DEB0001 		add	r1, sp, r0
 1973              	.LVL167:
1849:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /*address of Lower byte of Frame number*/
 1974              		.loc 1 1849 19 view .LVU685
 1975 06fe ADF80230 		strh	r3, [sp, #2]	@ movhi
1851:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Notify Device Layer of SOF Event */
 1976              		.loc 1 1851 9 is_stmt 1 view .LVU686
1853:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1977              		.loc 1 1853 15 is_stmt 0 view .LVU687
 1978 0702 1220     		movs	r0, #18
1851:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Notify Device Layer of SOF Event */
 1979              		.loc 1 1851 26 view .LVU688
 1980 0704 0DF10203 		add	r3, sp, #2
 1981 0708 0293     		str	r3, [sp, #8]
1853:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1982              		.loc 1 1853 9 is_stmt 1 view .LVU689
1853:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1983              		.loc 1 1853 15 is_stmt 0 view .LVU690
 1984 070a FFF7FEFF 		bl	USB_Device_Call_Service
 1985              	.LVL168:
 1986              	.L111:
1853:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1987              		.loc 1 1853 15 view .LVU691
 1988              	.LBE58:
1863:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1989              		.loc 1 1863 5 is_stmt 1 view .LVU692
1863:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 1990              		.loc 1 1863 7 is_stmt 0 view .LVU693
 1991 070e FB07     		lsls	r3, r7, #31
 1992 0710 4BD5     		bpl	.L112
1866:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1993              		.loc 1 1866 6 is_stmt 1 view .LVU694
1866:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 1994              		.loc 1 1866 17 is_stmt 0 view .LVU695
 1995 0712 AD4D     		ldr	r5, .L167
 1996              	.LBB59:
 1997              	.LBB60:
 1998              	.LBB61:
 1999              	.LBB62:
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2000              		.loc 1 2005 11 view .LVU696
 2001 0714 AD48     		ldr	r0, .L167+4
 2002              	.LBE62:
 2003              	.LBE61:
 2004              	.LBE60:
 2005              	.LBE59:
1866:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2006              		.loc 1 1866 17 view .LVU697
 2007 0716 0123     		movs	r3, #1
 2008              	.LBB73:
 2009              	.LBB71:
 213:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL |= USB_CTL_ODDRST_MASK;                /* Reset to Even buffer */
 2010              		.loc 1 213 15 view .LVU698
 2011 0718 BF26     		movs	r6, #191
 2012              	.LVL169:
 213:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL |= USB_CTL_ODDRST_MASK;                /* Reset to Even buffer */
 2013              		.loc 1 213 15 view .LVU699
 2014              	.LBE71:
 2015              	.LBE73:
1866:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2016              		.loc 1 1866 17 view .LVU700
 2017 071a 85F88030 		strb	r3, [r5, #128]
1869:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2018              		.loc 1 1869 9 is_stmt 1 view .LVU701
 2019              	.LBB74:
 2020              	.LBI59:
 210:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** {
 2021              		.loc 1 210 13 view .LVU702
 2022              	.LBB72:
 213:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL |= USB_CTL_ODDRST_MASK;                /* Reset to Even buffer */
 2023              		.loc 1 213 2 view .LVU703
 213:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL |= USB_CTL_ODDRST_MASK;                /* Reset to Even buffer */
 2024              		.loc 1 213 15 is_stmt 0 view .LVU704
 2025 071e 85F88860 		strb	r6, [r5, #136]
 214:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_ADDR = 0;                       /* reset to default address */
 2026              		.loc 1 214 2 is_stmt 1 view .LVU705
 214:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_ADDR = 0;                       /* reset to default address */
 2027              		.loc 1 214 11 is_stmt 0 view .LVU706
 2028 0722 95F89430 		ldrb	r3, [r5, #148]	@ zero_extendqisi2
 215:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Select System Clock and Disable Weak Pull Downs */
 2029              		.loc 1 215 12 view .LVU707
 2030 0726 0027     		movs	r7, #0
 2031              	.LVL170:
 214:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_ADDR = 0;                       /* reset to default address */
 2032              		.loc 1 214 11 view .LVU708
 2033 0728 43F00203 		orr	r3, r3, #2
 2034 072c 85F89430 		strb	r3, [r5, #148]
 215:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Select System Clock and Disable Weak Pull Downs */
 2035              		.loc 1 215 2 is_stmt 1 view .LVU709
 2036              	.LBB66:
 2037              	.LBB63:
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2038              		.loc 1 2005 11 is_stmt 0 view .LVU710
 2039 0730 4FF41072 		mov	r2, #576
 2040              	.LBE63:
 2041              	.LBE66:
 215:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	/* Select System Clock and Disable Weak Pull Downs */
 2042              		.loc 1 215 12 view .LVU711
 2043 0734 85F89870 		strb	r7, [r5, #152]
 217:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2044              		.loc 1 217 2 is_stmt 1 view .LVU712
 2045              	.LBB67:
 2046              	.LBB64:
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2047              		.loc 1 2005 11 is_stmt 0 view .LVU713
 2048 0738 FF21     		movs	r1, #255
 2049              	.LBE64:
 2050              	.LBE67:
 217:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2051              		.loc 1 217 15 view .LVU714
 2052 073a 85F80071 		strb	r7, [r5, #256]
 220:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 			(sizeof(BDT_ELEM) * (MAX_BDT_INDEX >> 1)),
 2053              		.loc 1 220 2 is_stmt 1 view .LVU715
 2054              	.LVL171:
 2055              	.LBB68:
 2056              	.LBI61:
1999:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8_ptr start_addr,  /* [OUT] Buffer Start address */
 2057              		.loc 1 1999 6 view .LVU716
 2058              	.LBB65:
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2059              		.loc 1 2005 5 view .LVU717
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2060              		.loc 1 2005 11 is_stmt 0 view .LVU718
 2061 073e FFF7FEFF 		bl	memset
 2062              	.LVL172:
 2063              		.loc 1 2006 5 is_stmt 1 view .LVU719
 2064              		.loc 1 2006 5 is_stmt 0 view .LVU720
 2065              	.LBE65:
 2066              	.LBE68:
 225:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2067              		.loc 1 225 5 is_stmt 1 view .LVU721
 2068              	.LBB69:
 2069              	.LBI69:
1999:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8_ptr start_addr,  /* [OUT] Buffer Start address */
 2070              		.loc 1 1999 6 view .LVU722
 2071              	.LBB70:
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2072              		.loc 1 2005 5 view .LVU723
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2073              		.loc 1 2005 11 is_stmt 0 view .LVU724
 2074 0742 4FF48062 		mov	r2, #1024
 2075 0746 3946     		mov	r1, r7
 2076 0748 D4F84402 		ldr	r0, [r4, #580]
 2077 074c FFF7FEFF 		bl	memset
 2078              	.LVL173:
 2079              		.loc 1 2006 5 is_stmt 1 view .LVU725
 2080              		.loc 1 2006 5 is_stmt 0 view .LVU726
 2081              	.LBE70:
 2082              	.LBE69:
 228:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2083              		.loc 1 228 2 is_stmt 1 view .LVU727
 228:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2084              		.loc 1 228 37 is_stmt 0 view .LVU728
 2085 0750 D4F84432 		ldr	r3, [r4, #580]
 2086 0754 03F50073 		add	r3, r3, #512
 228:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2087              		.loc 1 228 16 view .LVU729
 2088 0758 C4F84832 		str	r3, [r4, #584]
 230:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2089              		.loc 1 230 2 is_stmt 1 view .LVU730
 230:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2090              		.loc 1 230 18 is_stmt 0 view .LVU731
 2091 075c 9C4B     		ldr	r3, .L167+8
 2092 075e FF22     		movs	r2, #255
 2093 0760 1A70     		strb	r2, [r3]
 232:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_USBTRC0 |= 0x40;             /* attach CFv1 core to USB bus */
 2094              		.loc 1 232 2 is_stmt 1 view .LVU732
 232:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_USBTRC0 |= 0x40;             /* attach CFv1 core to USB bus */
 2095              		.loc 1 232 11 is_stmt 0 view .LVU733
 2096 0762 95F89430 		ldrb	r3, [r5, #148]	@ zero_extendqisi2
 2097 0766 03F0FD03 		and	r3, r3, #253
 2098 076a 85F89430 		strb	r3, [r5, #148]
 233:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2099              		.loc 1 233 2 is_stmt 1 view .LVU734
 233:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2100              		.loc 1 233 15 is_stmt 0 view .LVU735
 2101 076e 95F80C31 		ldrb	r3, [r5, #268]	@ zero_extendqisi2
 2102 0772 43F04003 		orr	r3, r3, #64
 2103 0776 85F80C31 		strb	r3, [r5, #268]
 235:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_INTEN = INTENB_BUS_RESET_VAL; /* Enable All Interrupts except RESUME */
 2104              		.loc 1 235 2 is_stmt 1 view .LVU736
 236:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL &= ~USB_CTL_TXSUSPENDTOKENBUSY_MASK;
 2105              		.loc 1 236 13 is_stmt 0 view .LVU737
 2106 077a 9F23     		movs	r3, #159
 235:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_INTEN = INTENB_BUS_RESET_VAL; /* Enable All Interrupts except RESUME */
 2107              		.loc 1 235 13 view .LVU738
 2108 077c 85F88C60 		strb	r6, [r5, #140]
 236:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL &= ~USB_CTL_TXSUSPENDTOKENBUSY_MASK;
 2109              		.loc 1 236 2 is_stmt 1 view .LVU739
 236:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 	USB0_CTL &= ~USB_CTL_TXSUSPENDTOKENBUSY_MASK;
 2110              		.loc 1 236 13 is_stmt 0 view .LVU740
 2111 0780 85F88430 		strb	r3, [r5, #132]
 237:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2112              		.loc 1 237 2 is_stmt 1 view .LVU741
 237:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2113              		.loc 1 237 11 is_stmt 0 view .LVU742
 2114 0784 95F89430 		ldrb	r3, [r5, #148]	@ zero_extendqisi2
 2115 0788 03F0DF03 		and	r3, r3, #223
 2116 078c 85F89430 		strb	r3, [r5, #148]
 2117              	.LBE72:
 2118              	.LBE74:
1872:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2119              		.loc 1 1872 9 is_stmt 1 view .LVU743
1872:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2120              		.loc 1 1872 15 is_stmt 0 view .LVU744
 2121 0790 01A9     		add	r1, sp, #4
 2122 0792 1020     		movs	r0, #16
 2123 0794 FFF7FEFF 		bl	USB_Device_Call_Service
 2124              	.LVL174:
1876:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2125              		.loc 1 1876 9 is_stmt 1 view .LVU745
1876:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2126              		.loc 1 1876 18 is_stmt 0 view .LVU746
 2127 0798 95F89430 		ldrb	r3, [r5, #148]	@ zero_extendqisi2
 2128 079c 03F0DF03 		and	r3, r3, #223
 2129 07a0 85F89430 		strb	r3, [r5, #148]
1879:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2130              		.loc 1 1879 9 is_stmt 1 view .LVU747
 2131              	.L109:
1982:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #endif // HIGH_SPEED_DEVICE
 2132              		.loc 1 1982 1 is_stmt 0 view .LVU748
 2133 07a4 05B0     		add	sp, sp, #20
 2134              	.LCFI20:
 2135              		.cfi_remember_state
 2136              		.cfi_def_cfa_offset 36
 2137              		@ sp needed
 2138 07a6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2139              	.LVL175:
 2140              	.L112:
 2141              	.LCFI21:
 2142              		.cfi_restore_state
1882:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2143              		.loc 1 1882 5 is_stmt 1 view .LVU749
1882:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2144              		.loc 1 1882 7 is_stmt 0 view .LVU750
 2145 07aa 3D07     		lsls	r5, r7, #28
 2146 07ac 40F18B80 		bpl	.L114
1885:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2147              		.loc 1 1885 6 is_stmt 1 view .LVU751
1885:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2148              		.loc 1 1885 17 is_stmt 0 view .LVU752
 2149 07b0 854B     		ldr	r3, .L167
 2150 07b2 0822     		movs	r2, #8
1887:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             ENDPOINT_NUMBER_SHIFT);
 2151              		.loc 1 1887 63 view .LVU753
 2152 07b4 4FEA161B 		lsr	fp, r6, #4
1885:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2153              		.loc 1 1885 17 view .LVU754
 2154 07b8 83F88020 		strb	r2, [r3, #128]
1887:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             ENDPOINT_NUMBER_SHIFT);
 2155              		.loc 1 1887 9 is_stmt 1 view .LVU755
 2156              	.LBB75:
 2157              	.LBB76:
 2158              	.LBB77:
 2159              	.LBB78:
 300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2160              		.loc 1 300 7 is_stmt 0 view .LVU756
 2161 07bc BBF1060F 		cmp	fp, #6
 2162              	.LBE78:
 2163              	.LBE77:
1501:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         ENDPOINT_DIRECTION_SHIFT);
 2164              		.loc 1 1501 24 view .LVU757
 2165 07c0 C6F3C002 		ubfx	r2, r6, #3, #1
 2166              	.LBE76:
 2167              	.LBE75:
1887:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             ENDPOINT_NUMBER_SHIFT);
 2168              		.loc 1 1887 22 view .LVU758
 2169 07c4 8DF805B0 		strb	fp, [sp, #5]
1890:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2170              		.loc 1 1890 9 is_stmt 1 view .LVU759
 2171              	.LVL176:
 2172              	.LBB95:
 2173              	.LBI75:
1489:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 stat,            /* [IN] Value of STAT register */
 2174              		.loc 1 1489 6 view .LVU760
 2175              	.LBB93:
1494:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC buffer_dsc = NULL;
 2176              		.loc 1 1494 5 view .LVU761
1495:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC buffer_dsc_alt = NULL;/* stores data of alternate buffer */
 2177              		.loc 1 1495 5 view .LVU762
1496:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BDT_ELEM bdt_elem = NULL;
 2178              		.loc 1 1496 5 view .LVU763
1497:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     boolean odd = (boolean)((stat & 0x04) >> 2);
 2179              		.loc 1 1497 5 view .LVU764
1498:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2180              		.loc 1 1498 5 view .LVU765
1501:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         ENDPOINT_DIRECTION_SHIFT);
 2181              		.loc 1 1501 5 view .LVU766
1501:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         ENDPOINT_DIRECTION_SHIFT);
 2182              		.loc 1 1501 22 is_stmt 0 view .LVU767
 2183 07c8 8DF80720 		strb	r2, [sp, #7]
1506:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2184              		.loc 1 1506 5 is_stmt 1 view .LVU768
 2185              	.LVL177:
 2186              	.LBB82:
 2187              	.LBI77:
 292:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_8 ep_num,     /* [IN] Endpoint Number */
 2188              		.loc 1 292 15 view .LVU769
 2189              	.LBB79:
 298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2190              		.loc 1 298 5 view .LVU770
 300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2191              		.loc 1 300 5 view .LVU771
 300:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2192              		.loc 1 300 7 is_stmt 0 view .LVU772
 2193 07cc 4CD8     		bhi	.L139
 303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2194              		.loc 1 303 9 is_stmt 1 view .LVU773
 2195              	.LBE79:
 2196              	.LBE82:
1498:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2197              		.loc 1 1498 13 is_stmt 0 view .LVU774
 2198 07ce C6F38000 		ubfx	r0, r6, #2, #1
 2199              	.LBB83:
 2200              	.LBB80:
 303:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2201              		.loc 1 303 18 view .LVU775
 2202 07d2 00EB8B00 		add	r0, r0, fp, lsl #2
 2203              	.LVL178:
 305:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2204              		.loc 1 305 9 is_stmt 1 view .LVU776
 305:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2205              		.loc 1 305 11 is_stmt 0 view .LVU777
 2206 07d6 0AB1     		cbz	r2, .L115
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 2207              		.loc 1 307 13 is_stmt 1 view .LVU778
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 2208              		.loc 1 307 23 is_stmt 0 view .LVU779
 2209 07d8 0230     		adds	r0, r0, #2
 2210              	.LVL179:
 307:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 2211              		.loc 1 307 23 view .LVU780
 2212 07da C0B2     		uxtb	r0, r0
 2213              	.LVL180:
 2214              	.L115:
 310:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 2215              		.loc 1 310 5 is_stmt 1 view .LVU781
 310:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 2216              		.loc 1 310 5 is_stmt 0 view .LVU782
 2217              	.LBE80:
 2218              	.LBE83:
1508:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_index ^ 1];
 2219              		.loc 1 1508 5 is_stmt 1 view .LVU783
1508:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     buffer_dsc_alt = &g_bdtmap->ep_dsc[bdt_index ^ 1];
 2220              		.loc 1 1508 27 is_stmt 0 view .LVU784
 2221 07dc D4F84462 		ldr	r6, [r4, #580]
 2222              	.LVL181:
1509:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2223              		.loc 1 1509 5 is_stmt 1 view .LVU785
 2224 07e0 06EBC003 		add	r3, r6, r0, lsl #3
1511:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2225              		.loc 1 1511 28 is_stmt 0 view .LVU786
 2226 07e4 C0F34705 		ubfx	r5, r0, #1, #8
1514:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2227              		.loc 1 1514 37 view .LVU787
 2228 07e8 5968     		ldr	r1, [r3, #4]	@ unaligned
1517:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2229              		.loc 1 1517 18 view .LVU788
 2230 07ea 5B88     		ldrh	r3, [r3, #2]	@ unaligned
1517:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2231              		.loc 1 1517 16 view .LVU789
 2232 07ec ADF80D30 		strh	r3, [sp, #13]	@ unaligned
1521:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2233              		.loc 1 1521 28 view .LVU790
 2234 07f0 1223     		movs	r3, #18
 2235 07f2 03FB0543 		mla	r3, r3, r5, r4
1514:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2236              		.loc 1 1514 23 view .LVU791
 2237 07f6 0291     		str	r1, [sp, #8]
1520:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->bdtmap_index = bdt_index;
 2238              		.loc 1 1520 15 view .LVU792
 2239 07f8 93F80FE0 		ldrb	lr, [r3, #15]	@ zero_extendqisi2
 2240 07fc 8EF0010E 		eor	lr, lr, #1
1521:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2241              		.loc 1 1521 28 view .LVU793
 2242 0800 83F80FE0 		strb	lr, [r3, #15]
1524:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2243              		.loc 1 1524 70 view .LVU794
 2244 0804 16F83030 		ldrb	r3, [r6, r0, lsl #3]	@ zero_extendqisi2
1509:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2245              		.loc 1 1509 50 view .LVU795
 2246 0808 80F00108 		eor	r8, r0, #1
1524:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2247              		.loc 1 1524 70 view .LVU796
 2248 080c C3F38013 		ubfx	r3, r3, #6, #1
1509:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2249              		.loc 1 1509 50 view .LVU797
 2250 0810 5FFA88FA 		uxtb	r10, r8
 2251              	.LVL182:
1511:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2252              		.loc 1 1511 5 is_stmt 1 view .LVU798
1514:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2253              		.loc 1 1514 5 view .LVU799
1517:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2254              		.loc 1 1517 5 view .LVU800
1520:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     bdt_elem->bdtmap_index = bdt_index;
 2255              		.loc 1 1520 5 view .LVU801
1521:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2256              		.loc 1 1521 5 view .LVU802
1524:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2257              		.loc 1 1524 5 view .LVU803
1524:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2258              		.loc 1 1524 76 is_stmt 0 view .LVU804
 2259 0814 83F00103 		eor	r3, r3, #1
1524:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2260              		.loc 1 1524 34 view .LVU805
 2261 0818 9B01     		lsls	r3, r3, #6
1524:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2262              		.loc 1 1524 32 view .LVU806
 2263 081a 06F83A30 		strb	r3, [r6, r10, lsl #3]
1526:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2264              		.loc 1 1526 5 is_stmt 1 view .LVU807
 2265 081e 0FFA80FC 		sxth	ip, r0
 2266 0822 D046     		mov	r8, r10
 2267 0824 06EBCA09 		add	r9, r6, r10, lsl #3
 2268              	.LVL183:
1526:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2269              		.loc 1 1526 7 is_stmt 0 view .LVU808
 2270 0828 002A     		cmp	r2, #0
 2271 082a 00F0D380 		beq	.L116
1528:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2272              		.loc 1 1528 9 is_stmt 1 view .LVU809
1532:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 2273              		.loc 1 1532 13 view .LVU810
1532:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 2274              		.loc 1 1532 32 is_stmt 0 view .LVU811
 2275 082e 684A     		ldr	r2, .L167+8
 2276 0830 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
1532:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 2277              		.loc 1 1532 15 view .LVU812
 2278 0832 5BEA030B 		orrs	fp, fp, r3
 2279 0836 19D1     		bne	.L117
1539:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Cancel any pending Transfers on RECV Control Endpoint*/
 2280              		.loc 1 1539 17 is_stmt 1 view .LVU813
1539:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Cancel any pending Transfers on RECV Control Endpoint*/
 2281              		.loc 1 1539 33 is_stmt 0 view .LVU814
 2282 0838 FF23     		movs	r3, #255
 2283 083a 1370     		strb	r3, [r2]
1541:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                   (uint_8)USB_RECV);
 2284              		.loc 1 1541 17 is_stmt 1 view .LVU815
 2285 083c 5946     		mov	r1, fp
 2286 083e 5A46     		mov	r2, fp
 2287 0840 01A8     		add	r0, sp, #4
 2288              	.LVL184:
1541:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                   (uint_8)USB_RECV);
 2289              		.loc 1 1541 17 is_stmt 0 view .LVU816
 2290 0842 FFF7FEFF 		bl	_usb_device_cancel_transfer
 2291              	.LVL185:
1544:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Prepare for Next SETUP PACKET Receive */
 2292              		.loc 1 1544 17 is_stmt 1 view .LVU817
1544:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Prepare for Next SETUP PACKET Receive */
 2293              		.loc 1 1544 44 is_stmt 0 view .LVU818
 2294 0846 06F83AB0 		strb	fp, [r6, r10, lsl #3]
1546:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     CONTROL_ENDPOINT,
 2295              		.loc 1 1546 17 is_stmt 1 view .LVU819
 2296 084a 5B46     		mov	r3, fp
 2297 084c 5A46     		mov	r2, fp
 2298 084e 5946     		mov	r1, fp
 2299 0850 01A8     		add	r0, sp, #4
 2300              	.LVL186:
1546:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     CONTROL_ENDPOINT,
 2301              		.loc 1 1546 17 is_stmt 0 view .LVU820
 2302 0852 FFF7FEFF 		bl	_usb_device_recv_data
 2303              	.LVL187:
1554:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (event->ep_num != CONTROL_ENDPOINT) )
 2304              		.loc 1 1554 9 is_stmt 1 view .LVU821
 2305              	.L118:
1554:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (event->ep_num != CONTROL_ENDPOINT) )
 2306              		.loc 1 1554 43 is_stmt 0 view .LVU822
 2307 0856 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 2308 085a 4BB9     		cbnz	r3, .L121
 2309              	.L122:
1674:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2310              		.loc 1 1674 5 is_stmt 1 view .LVU823
1674:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2311              		.loc 1 1674 11 is_stmt 0 view .LVU824
 2312 085c 9DF80500 		ldrb	r0, [sp, #5]	@ zero_extendqisi2
 2313 0860 01A9     		add	r1, sp, #4
 2314              	.LVL188:
1674:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2315              		.loc 1 1674 11 view .LVU825
 2316 0862 FFF7FEFF 		bl	USB_Device_Call_Service
 2317              	.LVL189:
1676:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 2318              		.loc 1 1676 5 is_stmt 1 view .LVU826
 2319 0866 27E0     		b	.L125
 2320              	.LVL190:
 2321              	.L139:
 2322              	.LBB84:
 2323              	.LBB81:
 298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2324              		.loc 1 298 12 is_stmt 0 view .LVU827
 2325 0868 FF20     		movs	r0, #255
 2326 086a B7E7     		b	.L115
 2327              	.LVL191:
 2328              	.L117:
 298:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2329              		.loc 1 298 12 view .LVU828
 2330              	.LBE81:
 2331              	.LBE84:
1554:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (event->ep_num != CONTROL_ENDPOINT) )
 2332              		.loc 1 1554 9 is_stmt 1 view .LVU829
1554:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (event->ep_num != CONTROL_ENDPOINT) )
 2333              		.loc 1 1554 11 is_stmt 0 view .LVU830
 2334 086c 012B     		cmp	r3, #1
 2335 086e F2D1     		bne	.L118
 2336              	.LVL192:
 2337              	.L121:
1558:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /*
 2338              		.loc 1 1558 13 is_stmt 1 view .LVU831
1558:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /*
 2339              		.loc 1 1558 35 is_stmt 0 view .LVU832
 2340 0870 1223     		movs	r3, #18
 2341 0872 03FB0543 		mla	r3, r3, r5, r4
1558:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /*
 2342              		.loc 1 1558 43 view .LVU833
 2343 0876 BDF80D00 		ldrh	r0, [sp, #13]	@ unaligned
1558:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             /*
 2344              		.loc 1 1558 35 view .LVU834
 2345 087a 9A89     		ldrh	r2, [r3, #12]	@ unaligned
 2346 087c 0244     		add	r2, r2, r0
 2347 087e 91B2     		uxth	r1, r2
 2348 0880 9A81     		strh	r2, [r3, #12]	@ unaligned
1565:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (((uint_8)event->len == bdt_elem->len) && (bdt_elem->flag == TRUE))
 2349              		.loc 1 1565 13 is_stmt 1 view .LVU835
1565:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (((uint_8)event->len == bdt_elem->len) && (bdt_elem->flag == TRUE))
 2350              		.loc 1 1565 25 is_stmt 0 view .LVU836
 2351 0882 5A89     		ldrh	r2, [r3, #10]	@ unaligned
1565:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (((uint_8)event->len == bdt_elem->len) && (bdt_elem->flag == TRUE))
 2352              		.loc 1 1565 15 view .LVU837
 2353 0884 9142     		cmp	r1, r2
 2354 0886 80F08D80 		bcs	.L164
 2355              	.L119:
1570:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2356              		.loc 1 1570 17 is_stmt 1 view .LVU838
 2357              	.LVL193:
 2358              	.LBB85:
 2359              	.LBI85:
 366:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     P_BUFF_DSC buffer_dsc,  /* [OUT] Pointer to buffer descriptor
 2360              		.loc 1 366 13 view .LVU839
 2361              	.LBB86:
 373:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_16 current_count = 0;
 2362              		.loc 1 373 5 view .LVU840
 373:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_16 current_count = 0;
 2363              		.loc 1 373 35 is_stmt 0 view .LVU841
 2364 088a 1223     		movs	r3, #18
 2365 088c 03FB0544 		mla	r4, r3, r5, r4
 377:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2366              		.loc 1 377 27 view .LVU842
 2367 0890 531A     		subs	r3, r2, r1
 373:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_16 current_count = 0;
 2368              		.loc 1 373 35 view .LVU843
 2369 0892 D4F80600 		ldr	r0, [r4, #6]	@ unaligned
 377:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2370              		.loc 1 377 62 view .LVU844
 2371 0896 2488     		ldrh	r4, [r4]	@ unaligned
 377:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2372              		.loc 1 377 7 view .LVU845
 2373 0898 A342     		cmp	r3, r4
 373:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     uint_16 current_count = 0;
 2374              		.loc 1 373 16 view .LVU846
 2375 089a 0844     		add	r0, r0, r1
 2376              	.LVL194:
 374:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2377              		.loc 1 374 5 is_stmt 1 view .LVU847
 377:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2378              		.loc 1 377 5 view .LVU848
 385:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2379              		.loc 1 385 9 view .LVU849
 385:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2380              		.loc 1 385 23 is_stmt 0 view .LVU850
 2381 089c D8BF     		it	le
 2382 089e 9CB2     		uxthle	r4, r3
 2383              	.LVL195:
 388:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2384              		.loc 1 388 5 is_stmt 1 view .LVU851
 388:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2385              		.loc 1 388 21 is_stmt 0 view .LVU852
 2386 08a0 A9F80240 		strh	r4, [r9, #2]	@ unaligned
 390:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 2387              		.loc 1 390 5 is_stmt 1 view .LVU853
 390:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 2388              		.loc 1 390 22 is_stmt 0 view .LVU854
 2389 08a4 C9F80400 		str	r0, [r9, #4]	@ unaligned
 2390              	.LVL196:
 390:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** }
 2391              		.loc 1 390 22 view .LVU855
 2392              	.LBE86:
 2393              	.LBE85:
1573:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     ((buffer_dsc_alt->Stat.McuCtlBit.data) << 6) |
 2394              		.loc 1 1573 17 is_stmt 1 view .LVU856
 2395              	.L166:
 2396              	.LBB87:
 2397              	.LBB88:
1657:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (buffer_dsc_alt->Stat.McuCtlBit.data) << 6) |
 2398              		.loc 1 1657 17 view .LVU857
1658:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     _SIE | _DTS);
 2399              		.loc 1 1658 52 is_stmt 0 view .LVU858
 2400 08a8 16F83A30 		ldrb	r3, [r6, r10, lsl #3]	@ zero_extendqisi2
1658:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     _SIE | _DTS);
 2401              		.loc 1 1658 59 view .LVU859
 2402 08ac 03F04003 		and	r3, r3, #64
1659:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 return;
 2403              		.loc 1 1659 26 view .LVU860
 2404 08b0 63F07703 		orn	r3, r3, #119
1657:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (buffer_dsc_alt->Stat.McuCtlBit.data) << 6) |
 2405              		.loc 1 1657 44 view .LVU861
 2406 08b4 06F83830 		strb	r3, [r6, r8, lsl #3]
1660:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 2407              		.loc 1 1660 17 is_stmt 1 view .LVU862
 2408              	.L125:
 2409              	.LVL197:
1660:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 2410              		.loc 1 1660 17 is_stmt 0 view .LVU863
 2411              	.LBE88:
 2412              	.LBE87:
 2413              	.LBE93:
 2414              	.LBE95:
1894:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2415              		.loc 1 1894 9 is_stmt 1 view .LVU864
1894:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2416              		.loc 1 1894 18 is_stmt 0 view .LVU865
 2417 08b8 434A     		ldr	r2, .L167
 2418 08ba 92F89430 		ldrb	r3, [r2, #148]	@ zero_extendqisi2
 2419 08be 03F0DF03 		and	r3, r3, #223
 2420 08c2 82F89430 		strb	r3, [r2, #148]
 2421              	.L114:
1897:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2422              		.loc 1 1897 5 is_stmt 1 view .LVU866
1897:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2423              		.loc 1 1897 7 is_stmt 0 view .LVU867
 2424 08c6 B807     		lsls	r0, r7, #30
 2425 08c8 17D5     		bpl	.L135
1900:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2426              		.loc 1 1900 6 is_stmt 1 view .LVU868
1900:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2427              		.loc 1 1900 17 is_stmt 0 view .LVU869
 2428 08ca 3F4C     		ldr	r4, .L167
 2429 08cc 0223     		movs	r3, #2
 2430 08ce 84F88030 		strb	r3, [r4, #128]
1902:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		v2 = USB0_ERREN;
 2431              		.loc 1 1902 3 is_stmt 1 view .LVU870
1902:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 		v2 = USB0_ERREN;
 2432              		.loc 1 1902 6 is_stmt 0 view .LVU871
 2433 08d2 94F88830 		ldrb	r3, [r4, #136]	@ zero_extendqisi2
 2434              	.LVL198:
1903:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         event.errors = (uint_8)(v1 & v2);
 2435              		.loc 1 1903 3 is_stmt 1 view .LVU872
1903:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         event.errors = (uint_8)(v1 & v2);
 2436              		.loc 1 1903 6 is_stmt 0 view .LVU873
 2437 08d6 94F88C20 		ldrb	r2, [r4, #140]	@ zero_extendqisi2
 2438              	.LVL199:
1904:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2439              		.loc 1 1904 9 is_stmt 1 view .LVU874
1907:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2440              		.loc 1 1907 14 is_stmt 0 view .LVU875
 2441 08da 01A9     		add	r1, sp, #4
1904:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2442              		.loc 1 1904 24 view .LVU876
 2443 08dc 1340     		ands	r3, r3, r2
 2444              	.LVL200:
1907:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2445              		.loc 1 1907 14 view .LVU877
 2446 08de 1620     		movs	r0, #22
1904:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2447              		.loc 1 1904 22 view .LVU878
 2448 08e0 8DF80C30 		strb	r3, [sp, #12]
1907:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2449              		.loc 1 1907 8 is_stmt 1 view .LVU879
1907:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2450              		.loc 1 1907 14 is_stmt 0 view .LVU880
 2451 08e4 FFF7FEFF 		bl	USB_Device_Call_Service
 2452              	.LVL201:
1909:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clearing this bit allows the SIE to continue token processing
 2453              		.loc 1 1909 8 is_stmt 1 view .LVU881
1909:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         /* Clearing this bit allows the SIE to continue token processing
 2454              		.loc 1 1909 21 is_stmt 0 view .LVU882
 2455 08e8 BF23     		movs	r3, #191
 2456 08ea 84F88830 		strb	r3, [r4, #136]
1912:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2457              		.loc 1 1912 8 is_stmt 1 view .LVU883
1912:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2458              		.loc 1 1912 17 is_stmt 0 view .LVU884
 2459 08ee 94F89430 		ldrb	r3, [r4, #148]	@ zero_extendqisi2
 2460 08f2 03F0DF03 		and	r3, r3, #223
 2461 08f6 84F89430 		strb	r3, [r4, #148]
 2462              	.L135:
1915:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2463              		.loc 1 1915 5 is_stmt 1 view .LVU885
1915:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2464              		.loc 1 1915 7 is_stmt 0 view .LVU886
 2465 08fa F906     		lsls	r1, r7, #27
 2466 08fc 1CD5     		bpl	.L136
1918:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2467              		.loc 1 1918 6 is_stmt 1 view .LVU887
1918:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2468              		.loc 1 1918 17 is_stmt 0 view .LVU888
 2469 08fe 324C     		ldr	r4, .L167
 2470 0900 2023     		movs	r3, #32
 2471 0902 84F88030 		strb	r3, [r4, #128]
1921:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2472              		.loc 1 1921 6 is_stmt 1 view .LVU889
1921:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2473              		.loc 1 1921 17 is_stmt 0 view .LVU890
 2474 0906 1023     		movs	r3, #16
 2475 0908 84F88030 		strb	r3, [r4, #128]
1924:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2476              		.loc 1 1924 9 is_stmt 1 view .LVU891
1924:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2477              		.loc 1 1924 15 is_stmt 0 view .LVU892
 2478 090c 01A9     		add	r1, sp, #4
 2479 090e 1420     		movs	r0, #20
 2480 0910 FFF7FEFF 		bl	USB_Device_Call_Service
 2481              	.LVL202:
1927:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2482              		.loc 1 1927 9 is_stmt 1 view .LVU893
1927:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2483              		.loc 1 1927 22 is_stmt 0 view .LVU894
 2484 0914 94F80C31 		ldrb	r3, [r4, #268]	@ zero_extendqisi2
 2485 0918 43F02003 		orr	r3, r3, #32
 2486 091c 84F80C31 		strb	r3, [r4, #268]
1930:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2487              		.loc 1 1930 9 is_stmt 1 view .LVU895
1930:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2488              		.loc 1 1930 22 is_stmt 0 view .LVU896
 2489 0920 94F80031 		ldrb	r3, [r4, #256]	@ zero_extendqisi2
 2490 0924 43F08003 		orr	r3, r3, #128
 2491 0928 84F80031 		strb	r3, [r4, #256]
1933:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USB_LOWPOWERMODE
 2492              		.loc 1 1933 9 is_stmt 1 view .LVU897
1933:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** #ifdef USB_LOWPOWERMODE
 2493              		.loc 1 1933 20 is_stmt 0 view .LVU898
 2494 092c 94F88430 		ldrb	r3, [r4, #132]	@ zero_extendqisi2
 2495 0930 43F02003 		orr	r3, r3, #32
 2496 0934 84F88430 		strb	r3, [r4, #132]
 2497              	.L136:
1940:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2498              		.loc 1 1940 5 is_stmt 1 view .LVU899
1940:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2499              		.loc 1 1940 7 is_stmt 0 view .LVU900
 2500 0938 BA06     		lsls	r2, r7, #26
 2501 093a 0DD5     		bpl	.L137
1943:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2502              		.loc 1 1943 6 is_stmt 1 view .LVU901
1943:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2503              		.loc 1 1943 17 is_stmt 0 view .LVU902
 2504 093c 224C     		ldr	r4, .L167
 2505 093e 2023     		movs	r3, #32
 2506 0940 84F88030 		strb	r3, [r4, #128]
1946:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2507              		.loc 1 1946 9 is_stmt 1 view .LVU903
1946:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2508              		.loc 1 1946 15 is_stmt 0 view .LVU904
 2509 0944 01A9     		add	r1, sp, #4
 2510 0946 1320     		movs	r0, #19
 2511 0948 FFF7FEFF 		bl	USB_Device_Call_Service
 2512              	.LVL203:
1949:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2513              		.loc 1 1949 9 is_stmt 1 view .LVU905
1949:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2514              		.loc 1 1949 20 is_stmt 0 view .LVU906
 2515 094c 94F88430 		ldrb	r3, [r4, #132]	@ zero_extendqisi2
 2516 0950 03F0DF03 		and	r3, r3, #223
 2517 0954 84F88430 		strb	r3, [r4, #132]
 2518              	.L137:
1952:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2519              		.loc 1 1952 5 is_stmt 1 view .LVU907
1952:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     {
 2520              		.loc 1 1952 7 is_stmt 0 view .LVU908
 2521 0958 3B06     		lsls	r3, r7, #24
 2522 095a 7FF523AF 		bpl	.L109
 2523              	.LBB96:
1954:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         event.ep_num = (uint_8)UNINITIALISED_VAL;
 2524              		.loc 1 1954 9 is_stmt 1 view .LVU909
1955:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2525              		.loc 1 1955 9 view .LVU910
1962:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (USB_STATUS_ENDPOINT|CONTROL_ENDPOINT),
 2526              		.loc 1 1962 15 is_stmt 0 view .LVU911
 2527 095e 0DF10202 		add	r2, sp, #2
1955:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2528              		.loc 1 1955 22 view .LVU912
 2529 0962 FF23     		movs	r3, #255
1962:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (USB_STATUS_ENDPOINT|CONTROL_ENDPOINT),
 2530              		.loc 1 1962 15 view .LVU913
 2531 0964 1021     		movs	r1, #16
 2532 0966 01A8     		add	r0, sp, #4
1955:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2533              		.loc 1 1955 22 view .LVU914
 2534 0968 8DF80530 		strb	r3, [sp, #5]
1962:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (USB_STATUS_ENDPOINT|CONTROL_ENDPOINT),
 2535              		.loc 1 1962 9 is_stmt 1 view .LVU915
1962:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             (USB_STATUS_ENDPOINT|CONTROL_ENDPOINT),
 2536              		.loc 1 1962 15 is_stmt 0 view .LVU916
 2537 096c FFF7FEFF 		bl	_usb_device_get_status
 2538              	.LVL204:
1965:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2539              		.loc 1 1965 9 is_stmt 1 view .LVU917
1965:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2540              		.loc 1 1965 11 is_stmt 0 view .LVU918
 2541 0970 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
1972:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2542              		.loc 1 1972 20 view .LVU919
 2543 0974 144C     		ldr	r4, .L167
1965:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2544              		.loc 1 1965 11 view .LVU920
 2545 0976 012B     		cmp	r3, #1
1967:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             event.direction = USB_SEND;
 2546              		.loc 1 1967 13 is_stmt 1 view .LVU921
1968:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 2547              		.loc 1 1968 29 is_stmt 0 view .LVU922
 2548 0978 04BF     		itt	eq
 2549 097a 8DF80730 		strbeq	r3, [sp, #7]
1967:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             event.direction = USB_SEND;
 2550              		.loc 1 1967 26 view .LVU923
 2551 097e 0022     		moveq	r2, #0
1972:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2552              		.loc 1 1972 20 view .LVU924
 2553 0980 4FF08003 		mov	r3, #128
1967:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             event.direction = USB_SEND;
 2554              		.loc 1 1967 26 view .LVU925
 2555 0984 08BF     		it	eq
 2556 0986 8DF80520 		strbeq	r2, [sp, #5]
1968:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         }
 2557              		.loc 1 1968 13 is_stmt 1 view .LVU926
1972:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2558              		.loc 1 1972 9 view .LVU927
1975:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2559              		.loc 1 1975 15 is_stmt 0 view .LVU928
 2560 098a 01A9     		add	r1, sp, #4
1972:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2561              		.loc 1 1972 20 view .LVU929
 2562 098c 84F88030 		strb	r3, [r4, #128]
1975:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2563              		.loc 1 1975 9 is_stmt 1 view .LVU930
1975:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2564              		.loc 1 1975 15 is_stmt 0 view .LVU931
 2565 0990 1720     		movs	r0, #23
 2566 0992 FFF7FEFF 		bl	USB_Device_Call_Service
 2567              	.LVL205:
1979:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2568              		.loc 1 1979 9 is_stmt 1 view .LVU932
1979:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2569              		.loc 1 1979 18 is_stmt 0 view .LVU933
 2570 0996 94F89430 		ldrb	r3, [r4, #148]	@ zero_extendqisi2
 2571 099a 03F0DF03 		and	r3, r3, #223
 2572 099e 84F89430 		strb	r3, [r4, #148]
 2573 09a2 FFE6     		b	.L109
 2574              	.LVL206:
 2575              	.L164:
1979:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     }
 2576              		.loc 1 1979 18 view .LVU934
 2577              	.LBE96:
 2578              	.LBB97:
 2579              	.LBB94:
1565:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (((uint_8)event->len == bdt_elem->len) && (bdt_elem->flag == TRUE))
 2580              		.loc 1 1565 60 view .LVU935
 2581 09a4 B3F800C0 		ldrh	ip, [r3]	@ unaligned
 2582 09a8 C0B2     		uxtb	r0, r0
 2583 09aa 8445     		cmp	ip, r0
 2584 09ac 03D1     		bne	.L123
1566:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                )
 2585              		.loc 1 1566 57 view .LVU936
 2586 09ae 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 2587 09b0 012B     		cmp	r3, #1
 2588 09b2 3FF46AAF 		beq	.L119
 2589              	.L123:
1580:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->len = bdt_elem->curr_offset;
 2590              		.loc 1 1580 17 is_stmt 1 view .LVU937
1580:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->len = bdt_elem->curr_offset;
 2591              		.loc 1 1580 45 is_stmt 0 view .LVU938
 2592 09b6 1223     		movs	r3, #18
 2593 09b8 03FB0544 		mla	r4, r3, r5, r4
 2594 09bc D4F80630 		ldr	r3, [r4, #6]	@ unaligned
1580:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->len = bdt_elem->curr_offset;
 2595              		.loc 1 1580 35 view .LVU939
 2596 09c0 0293     		str	r3, [sp, #8]
1581:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 2597              		.loc 1 1581 17 is_stmt 1 view .LVU940
1581:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 2598              		.loc 1 1581 28 is_stmt 0 view .LVU941
 2599 09c2 ADF80D10 		strh	r1, [sp, #13]	@ unaligned
 2600 09c6 49E7     		b	.L122
 2601              	.L168:
 2602              		.align	2
 2603              	.L167:
 2604 09c8 00200740 		.word	1074208768
 2605 09cc 00000000 		.word	.LANCHOR0
 2606 09d0 00000000 		.word	.LANCHOR1
 2607              	.LVL207:
 2608              	.L116:
1588:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2609              		.loc 1 1588 9 is_stmt 1 view .LVU942
1588:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2610              		.loc 1 1588 11 is_stmt 0 view .LVU943
 2611 09d4 BBF1000F 		cmp	fp, #0
 2612 09d8 0CD1     		bne	.L126
1591:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 2613              		.loc 1 1591 13 is_stmt 1 view .LVU944
1591:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 2614              		.loc 1 1591 44 is_stmt 0 view .LVU945
 2615 09da 16F83C30 		ldrb	r3, [r6, ip, lsl #3]	@ zero_extendqisi2
1591:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 2616              		.loc 1 1591 15 view .LVU946
 2617 09de 03F03C03 		and	r3, r3, #60
 2618 09e2 342B     		cmp	r3, #52
 2619 09e4 2F4B     		ldr	r3, .L169
 2620 09e6 37D1     		bne	.L127
1594:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Transfer direction of next packet */
 2621              		.loc 1 1594 17 is_stmt 1 view .LVU947
1594:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Transfer direction of next packet */
 2622              		.loc 1 1594 30 is_stmt 0 view .LVU948
 2623 09e8 0122     		movs	r2, #1
 2624 09ea 8DF80620 		strb	r2, [sp, #6]
1596:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (event->buffer_ptr[0]) >> 7);
 2625              		.loc 1 1596 17 is_stmt 1 view .LVU949
1596:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (event->buffer_ptr[0]) >> 7);
 2626              		.loc 1 1596 35 is_stmt 0 view .LVU950
 2627 09ee 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 2628 09f0 D209     		lsrs	r2, r2, #7
1596:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     (event->buffer_ptr[0]) >> 7);
 2629              		.loc 1 1596 33 view .LVU951
 2630 09f2 1A70     		strb	r2, [r3]
 2631              	.LVL208:
 2632              	.L126:
1617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2633              		.loc 1 1617 9 is_stmt 1 view .LVU952
1617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2634              		.loc 1 1617 20 is_stmt 0 view .LVU953
 2635 09f4 1222     		movs	r2, #18
 2636 09f6 02FB0542 		mla	r2, r2, r5, r4
1617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2637              		.loc 1 1617 11 view .LVU954
 2638 09fa 4FF6FF71 		movw	r1, #65535
1617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2639              		.loc 1 1617 20 view .LVU955
 2640 09fe 5389     		ldrh	r3, [r2, #10]	@ unaligned
1617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2641              		.loc 1 1617 11 view .LVU956
 2642 0a00 8B42     		cmp	r3, r1
1617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2643              		.loc 1 1617 20 view .LVU957
 2644 0a02 02F1080E 		add	lr, r2, #8
1617:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****         {
 2645              		.loc 1 1617 11 view .LVU958
 2646 0a06 3FF429AF 		beq	.L122
 2647              	.LBB91:
1620:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             bdt_elem->curr_offset += size;
 2648              		.loc 1 1620 13 is_stmt 1 view .LVU959
1620:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             bdt_elem->curr_offset += size;
 2649              		.loc 1 1620 29 is_stmt 0 view .LVU960
 2650 0a0a BDF80DC0 		ldrh	ip, [sp, #13]	@ unaligned
 2651              	.LVL209:
1621:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2652              		.loc 1 1621 13 is_stmt 1 view .LVU961
1621:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2653              		.loc 1 1621 35 is_stmt 0 view .LVU962
 2654 0a0e 9189     		ldrh	r1, [r2, #12]	@ unaligned
 2655 0a10 6144     		add	r1, r1, ip
 2656 0a12 9181     		strh	r1, [r2, #12]	@ unaligned
 2657              	.LVL210:
1629:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                ( (size == bdt_elem->len) &&
 2658              		.loc 1 1629 13 is_stmt 1 view .LVU963
1630:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (bdt_elem->app_len > bdt_elem->curr_offset)
 2659              		.loc 1 1630 35 is_stmt 0 view .LVU964
 2660 0a14 1288     		ldrh	r2, [r2]	@ unaligned
1629:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                ( (size == bdt_elem->len) &&
 2661              		.loc 1 1629 15 view .LVU965
 2662 0a16 9445     		cmp	ip, r2
1621:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 
 2663              		.loc 1 1621 35 view .LVU966
 2664 0a18 88B2     		uxth	r0, r1
1629:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                ( (size == bdt_elem->len) &&
 2665              		.loc 1 1629 15 view .LVU967
 2666 0a1a 01D1     		bne	.L129
1630:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (bdt_elem->app_len > bdt_elem->curr_offset)
 2667              		.loc 1 1630 42 view .LVU968
 2668 0a1c 8342     		cmp	r3, r0
 2669 0a1e 0CD8     		bhi	.L130
 2670              	.L129:
1632:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                ( (bdt_elem->app_len)&&
 2671              		.loc 1 1632 18 view .LVU969
 2672 0a20 93B3     		cbz	r3, .L131
1634:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (bdt_elem->flag == TRUE)
 2673              		.loc 1 1634 19 view .LVU970
 2674 0a22 B3FBF2F1 		udiv	r1, r3, r2
 2675 0a26 02FB1131 		mls	r1, r2, r1, r3
1633:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (!(bdt_elem->app_len % bdt_elem->len)) &&
 2676              		.loc 1 1633 37 view .LVU971
 2677 0a2a 89B2     		uxth	r1, r1
 2678 0a2c 61BB     		cbnz	r1, .L131
1635:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                )
 2679              		.loc 1 1635 27 view .LVU972
 2680 0a2e 1221     		movs	r1, #18
 2681 0a30 01FB0541 		mla	r1, r1, r5, r4
1634:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                  (bdt_elem->flag == TRUE)
 2682              		.loc 1 1634 57 view .LVU973
 2683 0a34 897B     		ldrb	r1, [r1, #14]	@ zero_extendqisi2
 2684 0a36 0129     		cmp	r1, #1
 2685 0a38 26D1     		bne	.L131
 2686              	.L130:
 2687              	.LBB89:
1640:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 count = (uint_16)(((bdt_elem->app_len - bdt_elem->curr_offset)
 2688              		.loc 1 1640 17 is_stmt 1 view .LVU974
1641:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     > bdt_elem->len) ? bdt_elem->len :
 2689              		.loc 1 1641 17 view .LVU975
1641:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     > bdt_elem->len) ? bdt_elem->len :
 2690              		.loc 1 1641 55 is_stmt 0 view .LVU976
 2691 0a3a 1B1A     		subs	r3, r3, r0
1641:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     > bdt_elem->len) ? bdt_elem->len :
 2692              		.loc 1 1641 25 view .LVU977
 2693 0a3c 9342     		cmp	r3, r2
 2694 0a3e D8BF     		it	le
 2695 0a40 9AB2     		uxthle	r2, r3
 2696              	.LVL211:
1644:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				{
 2697              		.loc 1 1644 5 is_stmt 1 view .LVU978
 2698 0a42 1223     		movs	r3, #18
1647:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = 0;
 2699              		.loc 1 1647 29 is_stmt 0 view .LVU979
 2700 0a44 03FB0544 		mla	r4, r3, r5, r4
1644:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				{
 2701              		.loc 1 1644 7 view .LVU980
 2702 0a48 C2B9     		cbnz	r2, .L133
1647:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = 0;
 2703              		.loc 1 1647 6 is_stmt 1 view .LVU981
1647:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = 0;
 2704              		.loc 1 1647 29 is_stmt 0 view .LVU982
 2705 0a4a D4F80230 		ldr	r3, [r4, #2]	@ unaligned
1647:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = 0;
 2706              		.loc 1 1647 27 view .LVU983
 2707 0a4e C9F80430 		str	r3, [r9, #4]	@ unaligned
1648:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				}
 2708              		.loc 1 1648 9 is_stmt 1 view .LVU984
 2709              	.L165:
1653:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				}
 2710              		.loc 1 1653 9 view .LVU985
1653:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				}
 2711              		.loc 1 1653 29 is_stmt 0 view .LVU986
 2712 0a52 A9F80220 		strh	r2, [r9, #2]	@ unaligned
 2713 0a56 27E7     		b	.L166
 2714              	.LVL212:
 2715              	.L127:
1653:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				}
 2716              		.loc 1 1653 29 view .LVU987
 2717              	.LBE89:
 2718              	.LBE91:
1599:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 2719              		.loc 1 1599 18 is_stmt 1 view .LVU988
1599:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             {
 2720              		.loc 1 1599 20 is_stmt 0 view .LVU989
 2721 0a58 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2722 0a5a 012A     		cmp	r2, #1
 2723 0a5c CAD1     		bne	.L126
1602:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Cancel any pending Transfers on SEND Control Endpoint*/
 2724              		.loc 1 1602 17 is_stmt 1 view .LVU990
1602:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Cancel any pending Transfers on SEND Control Endpoint*/
 2725              		.loc 1 1602 33 is_stmt 0 view .LVU991
 2726 0a5e FF21     		movs	r1, #255
 2727 0a60 1970     		strb	r1, [r3]
1604:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 (uint_8)USB_SEND);
 2728              		.loc 1 1604 17 is_stmt 1 view .LVU992
 2729 0a62 01A8     		add	r0, sp, #4
 2730              	.LVL213:
1604:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 (uint_8)USB_SEND);
 2731              		.loc 1 1604 17 is_stmt 0 view .LVU993
 2732 0a64 5946     		mov	r1, fp
 2733 0a66 FFF7FEFF 		bl	_usb_device_cancel_transfer
 2734              	.LVL214:
1607:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Prepare for Next SETUP PACKET Receive */
 2735              		.loc 1 1607 17 is_stmt 1 view .LVU994
1607:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 /* Prepare for Next SETUP PACKET Receive */
 2736              		.loc 1 1607 44 is_stmt 0 view .LVU995
 2737 0a6a 06F83AB0 		strb	fp, [r6, r10, lsl #3]
1609:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     CONTROL_ENDPOINT,
 2738              		.loc 1 1609 17 is_stmt 1 view .LVU996
 2739 0a6e 5B46     		mov	r3, fp
 2740 0a70 5A46     		mov	r2, fp
 2741 0a72 5946     		mov	r1, fp
 2742 0a74 01A8     		add	r0, sp, #4
 2743              	.LVL215:
1609:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     CONTROL_ENDPOINT,
 2744              		.loc 1 1609 17 is_stmt 0 view .LVU997
 2745 0a76 FFF7FEFF 		bl	_usb_device_recv_data
 2746              	.LVL216:
1609:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                     CONTROL_ENDPOINT,
 2747              		.loc 1 1609 17 view .LVU998
 2748 0a7a BBE7     		b	.L126
 2749              	.LVL217:
 2750              	.L133:
 2751              	.LBB92:
 2752              	.LBB90:
1652:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = SWAP16(count);
 2753              		.loc 1 1652 21 is_stmt 1 view .LVU999
1652:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = SWAP16(count);
 2754              		.loc 1 1652 44 is_stmt 0 view .LVU1000
 2755 0a7c D4F80630 		ldr	r3, [r4, #6]	@ unaligned
 2756 0a80 1844     		add	r0, r0, r3
1652:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = SWAP16(count);
 2757              		.loc 1 1652 42 view .LVU1001
 2758 0a82 C9F80400 		str	r0, [r9, #4]	@ unaligned
 2759 0a86 E4E7     		b	.L165
 2760              	.LVL218:
 2761              	.L131:
1652:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c **** 				    buffer_dsc_alt->cnt = SWAP16(count);
 2762              		.loc 1 1652 42 view .LVU1002
 2763              	.LBE90:
1665:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->len = bdt_elem->curr_offset;
 2764              		.loc 1 1665 17 is_stmt 1 view .LVU1003
1665:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->len = bdt_elem->curr_offset;
 2765              		.loc 1 1665 45 is_stmt 0 view .LVU1004
 2766 0a88 1223     		movs	r3, #18
 2767 0a8a 03FB0544 		mla	r4, r3, r5, r4
 2768 0a8e D4F80630 		ldr	r3, [r4, #6]	@ unaligned
1665:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 event->len = bdt_elem->curr_offset;
 2769              		.loc 1 1665 35 view .LVU1005
 2770 0a92 0293     		str	r3, [sp, #8]
1666:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 bdt_elem->app_len = (USB_PACKET_SIZE)UNINITIALISED_VAL;
 2771              		.loc 1 1666 17 is_stmt 1 view .LVU1006
1667:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 2772              		.loc 1 1667 35 is_stmt 0 view .LVU1007
 2773 0a94 4FF0FF33 		mov	r3, #-1
1666:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****                 bdt_elem->app_len = (USB_PACKET_SIZE)UNINITIALISED_VAL;
 2774              		.loc 1 1666 28 view .LVU1008
 2775 0a98 ADF80D00 		strh	r0, [sp, #13]	@ unaligned
1667:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 2776              		.loc 1 1667 17 is_stmt 1 view .LVU1009
1667:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****             }
 2777              		.loc 1 1667 35 is_stmt 0 view .LVU1010
 2778 0a9c A372     		strb	r3, [r4, #10]
 2779 0a9e E372     		strb	r3, [r4, #11]
 2780 0aa0 DCE6     		b	.L122
 2781              	.L170:
 2782 0aa2 00BF     		.align	2
 2783              	.L169:
 2784 0aa4 00000000 		.word	.LANCHOR1
 2785              	.LBE92:
 2786              	.LBE94:
 2787              	.LBE97:
 2788              		.cfi_endproc
 2789              	.LFE20:
 2791              		.align	1
 2792              		.global	Clear_Mem
 2793              		.syntax unified
 2794              		.thumb
 2795              		.thumb_func
 2796              		.fpu softvfp
 2798              	Clear_Mem:
 2799              	.LVL219:
 2800              	.LFB21:
2004:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     (void)memset(start_addr, val, count);
 2801              		.loc 1 2004 1 is_stmt 1 view -0
 2802              		.cfi_startproc
 2803              		@ args = 0, pretend = 0, frame = 0
 2804              		@ frame_needed = 0, uses_anonymous_args = 0
 2805              		@ link register save eliminated.
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2806              		.loc 1 2005 5 view .LVU1012
2004:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     (void)memset(start_addr, val, count);
 2807              		.loc 1 2004 1 is_stmt 0 view .LVU1013
 2808 0aa8 1346     		mov	r3, r2
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2809              		.loc 1 2005 11 view .LVU1014
 2810 0aaa 0A46     		mov	r2, r1
 2811              	.LVL220:
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2812              		.loc 1 2005 11 view .LVU1015
 2813 0aac 1946     		mov	r1, r3
 2814              	.LVL221:
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2815              		.loc 1 2005 11 view .LVU1016
 2816 0aae FFF7FEBF 		b	memset
 2817              	.LVL222:
2005:hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.c ****     return;
 2818              		.loc 1 2005 11 view .LVU1017
 2819              		.cfi_endproc
 2820              	.LFE21:
 2822              		.global	g_bdtmap
 2823              		.comm	g_Mem,1024,512
 2824              		.comm	Cpu,8,4
 2825              		.data
 2826              		.set	.LANCHOR1,. + 0
 2829              	g_trf_direction:
 2830 0000 FF       		.byte	-1
 2831              		.bss
 2832              		.align	2
 2833              		.set	.LANCHOR0,. + 0
 2836              	g_bdt_elem:
 2837 0000 00000000 		.space	576
 2837      00000000 
 2837      00000000 
 2837      00000000 
 2837      00000000 
 2840              	g_dci_controller_Id:
 2841 0240 00       		.space	1
 2842 0241 000000   		.space	3
 2845              	g_bdtmap:
 2846 0244 00000000 		.space	4
 2849              	g_bdt_address:
 2850 0248 00000000 		.space	4
 2851              		.text
 2852              	.Letext0:
 2853              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\lib\\gcc\\arm-none
 2854              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2855              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2856              		.file 5 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2857              		.file 6 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2858              		.file 7 "hal/Landungsbruecke/freescale/USB_CDC/types.h"
 2859              		.file 8 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 2860              		.file 9 "TMC-API/tmc/helpers/Types.h"
 2861              		.file 10 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\in
 2862              		.file 11 "hal/Landungsbruecke/freescale/MK20D10.h"
 2863              		.file 12 "./hal/Landungsbruecke/freescale/USB_CDC/PE_Types.h"
 2864              		.file 13 "./hal/Landungsbruecke/freescale/Cpu.h"
 2865              		.file 14 "hal/Landungsbruecke/freescale/USB_CDC/usb_devapi.h"
 2866              		.file 15 "hal/Landungsbruecke/freescale/USB_CDC/usb_dci_kinetis.h"
 2867              		.file 16 "hal/Landungsbruecke/freescale/USB_CDC/usb_bdt_kinetis.h"
 2868              		.file 17 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\in
 2869              		.file 18 "hal/Landungsbruecke/freescale/USB_CDC/wdt_kinetis.h"
 2870              		.file 19 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:00000000 usb_dci_kinetis.c
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:15     .text:00000000 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:22     .text:00000000 USB_DCI_Validate_Param.constprop.0
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:95     .text:00000030 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:99     .text:00000034 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:106    .text:00000034 USB_DCI_Init
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:290    .text:000000fc $d
                            *COM*:00000400 g_Mem
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:299    .text:00000114 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:306    .text:00000114 USB_DCI_DeInit
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:345    .text:0000014c $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:349    .text:00000150 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:356    .text:00000150 USB_DCI_Init_EndPoint
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:604    .text:00000268 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:609    .text:00000270 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:616    .text:00000270 _usb_device_cancel_transfer
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:709    .text:000002bc $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:713    .text:000002c0 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:720    .text:000002c0 USB_DCI_Deinit_EndPoint
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:827    .text:0000031c $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:832    .text:00000324 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:839    .text:00000324 _usb_device_stall_endpoint
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:913    .text:00000368 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:917    .text:0000036c $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:924    .text:0000036c _usb_device_read_setup_data
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:984    .text:0000039c $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:988    .text:000003a0 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:995    .text:000003a0 _usb_device_get_transfer_status
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1104   .text:000003f4 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1110   .text:000003fc $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1117   .text:000003fc _usb_device_clear_data0_endpoint
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1165   .text:00000420 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1169   .text:00000424 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1176   .text:00000424 _usb_device_recv_data
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1343   .text:000004bc $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1347   .text:000004c0 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1354   .text:000004c0 _usb_device_unstall_endpoint
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1493   .text:00000538 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1498   .text:00000540 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1505   .text:00000540 _usb_device_send_data
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1657   .text:000005c0 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1662   .text:000005c8 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1669   .text:000005c8 _usb_device_set_address
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1698   .text:000005d8 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1703   .text:000005e0 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1710   .text:000005e0 _usb_device_shutdown
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1741   .text:000005f8 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1746   .text:00000600 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1753   .text:00000600 _usb_device_assert_resume
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1828   .text:0000066c $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1832   .text:00000670 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:1839   .text:00000670 USB_ISR
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2604   .text:000009c8 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2611   .text:000009d4 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2784   .text:00000aa4 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2791   .text:00000aa8 $t
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2798   .text:00000aa8 Clear_Mem
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2845   .bss:00000244 g_bdtmap
                            *COM*:00000008 Cpu
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2829   .data:00000000 g_trf_direction
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2832   .bss:00000000 $d
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2836   .bss:00000000 g_bdt_elem
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2840   .bss:00000240 g_dci_controller_Id
C:\Users\Shubham\AppData\Local\Temp\ccxgveVC.s:2849   .bss:00000248 g_bdt_address

UNDEFINED SYMBOLS
memset
_usb_device_set_status
Watchdog_Reset
_usb_device_get_status
USB_Device_Call_Service
